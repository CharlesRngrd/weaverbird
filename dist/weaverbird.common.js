"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var Vue=_interopDefault(require("vue")),Vuex=require("vuex"),Vuex__default=_interopDefault(Vuex),extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends(e,t){function r(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function __decorate(e,t,r,n){var a,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}function __awaiter(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))}function __generator(e,t){var r,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function __values(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return o}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}function filterOutDomain(e){if(0===e.length)throw new Error("pipeline should like [DomainStep, ...otherSteps]");var t=__read(e),r=t[0],n=t.slice(1);if("domain"!==r.name)throw new Error("pipeline should like [DomainStep, ...otherSteps]");return{domain:r.domain,pipeline:n}}function transformMatch(e){var t,r,n=[];void 0!==e.$match.domain&&n.push({name:"domain",domain:e.$match.domain});try{for(var a=__values(Object.keys(e.$match).sort()),i=a.next();!i.done;i=a.next()){var o=i.value;"domain"!==o&&n.push({name:"filter",condition:{column:o,value:e.$match[o],operator:"eq"}})}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return n}function transformProject(e){var t,r,n=[],a=[],i=[],o=[];try{for(var s=__values(Object.entries(e.$project)),u=s.next();!u.done;u=s.next()){var c=__read(u.value,2),l=c[0],p=c[1];"string"==typeof p?"$"===p[0]&&p.slice(1)!==l?a.push({name:"rename",toRename:[[p.slice(1),l]]}):p.slice(1)===l&&o.push(l):"number"==typeof p&&(0===p?i.push({name:"delete",columns:[l]}):o.push(l))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return o.length&&n.push({name:"select",columns:o}),n.push.apply(n,__spread(a,i,[])),n}function transformFallback(e){return[{name:"custom",query:JSON.stringify(e)}]}function mongoToPipe(e){var t,r,n=[];try{for(var a=__values(e),i=a.next();!i.done;i=a.next()){var o=i.value,s=void 0;s=void 0!==o.$match?transformMatch:void 0!==o.$project?transformProject:transformFallback,n.push.apply(n,__spread(s(o)))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return n}var StepNotSupported=function(e){function t(t){return e.call(this,"Unsupported step <"+t+">")||this}return __extends(t,e),t}(Error);function unsupported(e,t,r){r.value=function(e){throw new StepNotSupported(e.name)},r.value.__vqb_step_supported__=!1}var BaseTranslator=function(){function e(){}return Object.defineProperty(e.prototype,"supportedSteps",{get:function(){var e=this;return transformerSteps().filter((function(t){return!1!==e.constructor.prototype[t].__vqb_step_supported__})).sort()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unsupportedSteps",{get:function(){var e=this;return transformerSteps().filter((function(t){return!1===e.constructor.prototype[t].__vqb_step_supported__})).sort()},enumerable:!0,configurable:!0}),e.prototype.supports=function(e){return!this.unsupportedSteps.includes(e)},e.prototype.addmissingdates=function(e){},e.prototype.aggregate=function(e){},e.prototype.append=function(e){},e.prototype.argmax=function(e){},e.prototype.argmin=function(e){},e.prototype.concatenate=function(e){},e.prototype.convert=function(e){},e.prototype.cumsum=function(e){},e.prototype.custom=function(e){},e.prototype.dateextract=function(e){},e.prototype.delete=function(e){},e.prototype.domain=function(e){},e.prototype.duplicate=function(e){},e.prototype.duration=function(e){},e.prototype.evolution=function(e){},e.prototype.fillna=function(e){},e.prototype.filter=function(e){},e.prototype.formula=function(e){},e.prototype.join=function(e){},e.prototype.ifthenelse=function(e){},e.prototype.fromdate=function(e){},e.prototype.lowercase=function(e){},e.prototype.movingaverage=function(e){},e.prototype.percentage=function(e){},e.prototype.pivot=function(e){},e.prototype.rank=function(e){},e.prototype.rename=function(e){},e.prototype.replace=function(e){},e.prototype.rollup=function(e){},e.prototype.select=function(e){},e.prototype.sort=function(e){},e.prototype.split=function(e){},e.prototype.statistics=function(e){},e.prototype.substring=function(e){},e.prototype.text=function(e){},e.prototype.todate=function(e){},e.prototype.totals=function(e){},e.prototype.top=function(e){},e.prototype.uniquegroups=function(e){},e.prototype.unpivot=function(e){},e.prototype.uppercase=function(e){},e.prototype.waterfall=function(e){},e.prototype.translate=function(e){var t,r,n=[];try{for(var a=__values(e),i=a.next();!i.done;i=a.next()){var o=i.value,s=this[o.name];s=s.bind(this),n.push(s(o))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return n},e.prototype.validate=function(e){return null},__decorate([unsupported],e.prototype,"addmissingdates",null),__decorate([unsupported],e.prototype,"aggregate",null),__decorate([unsupported],e.prototype,"append",null),__decorate([unsupported],e.prototype,"argmax",null),__decorate([unsupported],e.prototype,"argmin",null),__decorate([unsupported],e.prototype,"concatenate",null),__decorate([unsupported],e.prototype,"convert",null),__decorate([unsupported],e.prototype,"cumsum",null),__decorate([unsupported],e.prototype,"custom",null),__decorate([unsupported],e.prototype,"dateextract",null),__decorate([unsupported],e.prototype,"delete",null),__decorate([unsupported],e.prototype,"domain",null),__decorate([unsupported],e.prototype,"duplicate",null),__decorate([unsupported],e.prototype,"duration",null),__decorate([unsupported],e.prototype,"evolution",null),__decorate([unsupported],e.prototype,"fillna",null),__decorate([unsupported],e.prototype,"filter",null),__decorate([unsupported],e.prototype,"formula",null),__decorate([unsupported],e.prototype,"join",null),__decorate([unsupported],e.prototype,"ifthenelse",null),__decorate([unsupported],e.prototype,"fromdate",null),__decorate([unsupported],e.prototype,"lowercase",null),__decorate([unsupported],e.prototype,"movingaverage",null),__decorate([unsupported],e.prototype,"percentage",null),__decorate([unsupported],e.prototype,"pivot",null),__decorate([unsupported],e.prototype,"rank",null),__decorate([unsupported],e.prototype,"rename",null),__decorate([unsupported],e.prototype,"replace",null),__decorate([unsupported],e.prototype,"rollup",null),__decorate([unsupported],e.prototype,"select",null),__decorate([unsupported],e.prototype,"sort",null),__decorate([unsupported],e.prototype,"split",null),__decorate([unsupported],e.prototype,"statistics",null),__decorate([unsupported],e.prototype,"substring",null),__decorate([unsupported],e.prototype,"text",null),__decorate([unsupported],e.prototype,"todate",null),__decorate([unsupported],e.prototype,"totals",null),__decorate([unsupported],e.prototype,"top",null),__decorate([unsupported],e.prototype,"uniquegroups",null),__decorate([unsupported],e.prototype,"unpivot",null),__decorate([unsupported],e.prototype,"uppercase",null),__decorate([unsupported],e.prototype,"waterfall",null),e}();function isStepFunction(e){var t=new Set(["label","validate","constructor","supportedSteps","unsupportedSteps","supports","translate"]);return new Set(Object.getOwnPropertyNames(BaseTranslator.prototype)).has(e)&&!t.has(e)}function transformerSteps(){var e,t,r=[];try{for(var n=__values(Object.getOwnPropertyNames(BaseTranslator.prototype)),a=n.next();!a.done;a=n.next()){var i=a.value;isStepFunction(i)&&r.push(i)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r}var ALL_STEP_NAMES=transformerSteps().sort(),commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}function getCjsExportFromNamespace(e){return e&&e.default||e}var lodash=createCommonjsModule((function(e,t){(function(){var r,n=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",o="__lodash_hash_undefined__",s=500,u="__lodash_placeholder__",c=1,l=2,p=4,d=1,f=2,m=1,h=2,_=4,v=8,g=16,y=32,b=64,$=128,x=256,w=512,S=30,N="...",C=800,E=16,A=1,M=2,T=1/0,O=9007199254740991,P=17976931348623157e292,D=NaN,I=4294967295,F=I-1,k=I>>>1,R=[["ary",$],["bind",m],["bindKey",h],["curry",v],["curryRight",g],["flip",w],["partial",y],["partialRight",b],["rearg",x]],j="[object Arguments]",q="[object Array]",B="[object AsyncFunction]",L="[object Boolean]",V="[object Date]",z="[object DOMException]",U="[object Error]",G="[object Function]",H="[object GeneratorFunction]",W="[object Map]",Q="[object Number]",Y="[object Null]",K="[object Object]",Z="[object Proxy]",J="[object RegExp]",X="[object Set]",ee="[object String]",te="[object Symbol]",re="[object Undefined]",ne="[object WeakMap]",ae="[object WeakSet]",ie="[object ArrayBuffer]",oe="[object DataView]",se="[object Float32Array]",ue="[object Float64Array]",ce="[object Int8Array]",le="[object Int16Array]",pe="[object Int32Array]",de="[object Uint8Array]",fe="[object Uint8ClampedArray]",me="[object Uint16Array]",he="[object Uint32Array]",_e=/\b__p \+= '';/g,ve=/\b(__p \+=) '' \+/g,ge=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ye=/&(?:amp|lt|gt|quot|#39);/g,be=/[&<>"']/g,$e=RegExp(ye.source),xe=RegExp(be.source),we=/<%-([\s\S]+?)%>/g,Se=/<%([\s\S]+?)%>/g,Ne=/<%=([\s\S]+?)%>/g,Ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ee=/^\w*$/,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Me=/[\\^$.*+?()[\]{}|]/g,Te=RegExp(Me.source),Oe=/^\s+|\s+$/g,Pe=/^\s+/,De=/\s+$/,Ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,ke=/,? & /,Re=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,je=/\\(\\)?/g,qe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Be=/\w*$/,Le=/^[-+]0x[0-9a-f]+$/i,Ve=/^0b[01]+$/i,ze=/^\[object .+?Constructor\]$/,Ue=/^0o[0-7]+$/i,Ge=/^(?:0|[1-9]\d*)$/,He=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,We=/($^)/,Qe=/['\n\r\u2028\u2029\\]/g,Ye="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ze="[\\ud800-\\udfff]",Je="["+Ke+"]",Xe="["+Ye+"]",et="\\d+",tt="[\\u2700-\\u27bf]",rt="[a-z\\xdf-\\xf6\\xf8-\\xff]",nt="[^\\ud800-\\udfff"+Ke+et+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",at="\\ud83c[\\udffb-\\udfff]",it="[^\\ud800-\\udfff]",ot="(?:\\ud83c[\\udde6-\\uddff]){2}",st="[\\ud800-\\udbff][\\udc00-\\udfff]",ut="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ct="(?:"+rt+"|"+nt+")",lt="(?:"+ut+"|"+nt+")",pt="(?:"+Xe+"|"+at+")"+"?",dt="[\\ufe0e\\ufe0f]?"+pt+("(?:\\u200d(?:"+[it,ot,st].join("|")+")[\\ufe0e\\ufe0f]?"+pt+")*"),ft="(?:"+[tt,ot,st].join("|")+")"+dt,mt="(?:"+[it+Xe+"?",Xe,ot,st,Ze].join("|")+")",ht=RegExp("['’]","g"),_t=RegExp(Xe,"g"),vt=RegExp(at+"(?="+at+")|"+mt+dt,"g"),gt=RegExp([ut+"?"+rt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Je,ut,"$"].join("|")+")",lt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Je,ut+ct,"$"].join("|")+")",ut+"?"+ct+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ut+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",et,ft].join("|"),"g"),yt=RegExp("[\\u200d\\ud800-\\udfff"+Ye+"\\ufe0e\\ufe0f]"),bt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$t=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xt=-1,wt={};wt[se]=wt[ue]=wt[ce]=wt[le]=wt[pe]=wt[de]=wt[fe]=wt[me]=wt[he]=!0,wt[j]=wt[q]=wt[ie]=wt[L]=wt[oe]=wt[V]=wt[U]=wt[G]=wt[W]=wt[Q]=wt[K]=wt[J]=wt[X]=wt[ee]=wt[ne]=!1;var St={};St[j]=St[q]=St[ie]=St[oe]=St[L]=St[V]=St[se]=St[ue]=St[ce]=St[le]=St[pe]=St[W]=St[Q]=St[K]=St[J]=St[X]=St[ee]=St[te]=St[de]=St[fe]=St[me]=St[he]=!0,St[U]=St[G]=St[ne]=!1;var Nt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ct=parseFloat,Et=parseInt,At="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Mt="object"==typeof self&&self&&self.Object===Object&&self,Tt=At||Mt||Function("return this")(),Ot=t&&!t.nodeType&&t,Pt=Ot&&e&&!e.nodeType&&e,Dt=Pt&&Pt.exports===Ot,It=Dt&&At.process,Ft=function(){try{var e=Pt&&Pt.require&&Pt.require("util").types;return e||It&&It.binding&&It.binding("util")}catch(e){}}(),kt=Ft&&Ft.isArrayBuffer,Rt=Ft&&Ft.isDate,jt=Ft&&Ft.isMap,qt=Ft&&Ft.isRegExp,Bt=Ft&&Ft.isSet,Lt=Ft&&Ft.isTypedArray;function Vt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function zt(e,t,r,n){for(var a=-1,i=null==e?0:e.length;++a<i;){var o=e[a];t(n,o,r(o),e)}return n}function Ut(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Gt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Ht(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Wt(e,t){for(var r=-1,n=null==e?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}function Qt(e,t){return!!(null==e?0:e.length)&&ar(e,t,0)>-1}function Yt(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}function Kt(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}function Zt(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}function Jt(e,t,r,n){var a=-1,i=null==e?0:e.length;for(n&&i&&(r=e[++a]);++a<i;)r=t(r,e[a],a,e);return r}function Xt(e,t,r,n){var a=null==e?0:e.length;for(n&&a&&(r=e[--a]);a--;)r=t(r,e[a],a,e);return r}function er(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var tr=ur("length");function rr(e,t,r){var n;return r(e,(function(e,r,a){if(t(e,r,a))return n=r,!1})),n}function nr(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}function ar(e,t,r){return t==t?function(e,t,r){var n=r-1,a=e.length;for(;++n<a;)if(e[n]===t)return n;return-1}(e,t,r):nr(e,or,r)}function ir(e,t,r,n){for(var a=r-1,i=e.length;++a<i;)if(n(e[a],t))return a;return-1}function or(e){return e!=e}function sr(e,t){var r=null==e?0:e.length;return r?pr(e,t)/r:D}function ur(e){return function(t){return null==t?r:t[e]}}function cr(e){return function(t){return null==e?r:e[t]}}function lr(e,t,r,n,a){return a(e,(function(e,a,i){r=n?(n=!1,e):t(r,e,a,i)})),r}function pr(e,t){for(var n,a=-1,i=e.length;++a<i;){var o=t(e[a]);o!==r&&(n=n===r?o:n+o)}return n}function dr(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function fr(e){return function(t){return e(t)}}function mr(e,t){return Kt(t,(function(t){return e[t]}))}function hr(e,t){return e.has(t)}function _r(e,t){for(var r=-1,n=e.length;++r<n&&ar(t,e[r],0)>-1;);return r}function vr(e,t){for(var r=e.length;r--&&ar(t,e[r],0)>-1;);return r}var gr=cr({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),yr=cr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function br(e){return"\\"+Nt[e]}function $r(e){return yt.test(e)}function xr(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function wr(e,t){return function(r){return e(t(r))}}function Sr(e,t){for(var r=-1,n=e.length,a=0,i=[];++r<n;){var o=e[r];o!==t&&o!==u||(e[r]=u,i[a++]=r)}return i}function Nr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function Cr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function Er(e){return $r(e)?function(e){var t=vt.lastIndex=0;for(;vt.test(e);)++t;return t}(e):tr(e)}function Ar(e){return $r(e)?function(e){return e.match(vt)||[]}(e):function(e){return e.split("")}(e)}var Mr=cr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Tr=function e(t){var Ye,Ke=(t=null==t?Tt:Tr.defaults(Tt.Object(),t,Tr.pick(Tt,$t))).Array,Ze=t.Date,Je=t.Error,Xe=t.Function,et=t.Math,tt=t.Object,rt=t.RegExp,nt=t.String,at=t.TypeError,it=Ke.prototype,ot=Xe.prototype,st=tt.prototype,ut=t["__core-js_shared__"],ct=ot.toString,lt=st.hasOwnProperty,pt=0,dt=(Ye=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||""))?"Symbol(src)_1."+Ye:"",ft=st.toString,mt=ct.call(tt),vt=Tt._,yt=rt("^"+ct.call(lt).replace(Me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=Dt?t.Buffer:r,At=t.Symbol,Mt=t.Uint8Array,Ot=Nt?Nt.allocUnsafe:r,Pt=wr(tt.getPrototypeOf,tt),It=tt.create,Ft=st.propertyIsEnumerable,tr=it.splice,cr=At?At.isConcatSpreadable:r,Or=At?At.iterator:r,Pr=At?At.toStringTag:r,Dr=function(){try{var e=ji(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ir=t.clearTimeout!==Tt.clearTimeout&&t.clearTimeout,Fr=Ze&&Ze.now!==Tt.Date.now&&Ze.now,kr=t.setTimeout!==Tt.setTimeout&&t.setTimeout,Rr=et.ceil,jr=et.floor,qr=tt.getOwnPropertySymbols,Br=Nt?Nt.isBuffer:r,Lr=t.isFinite,Vr=it.join,zr=wr(tt.keys,tt),Ur=et.max,Gr=et.min,Hr=Ze.now,Wr=t.parseInt,Qr=et.random,Yr=it.reverse,Kr=ji(t,"DataView"),Zr=ji(t,"Map"),Jr=ji(t,"Promise"),Xr=ji(t,"Set"),en=ji(t,"WeakMap"),tn=ji(tt,"create"),rn=en&&new en,nn={},an=lo(Kr),on=lo(Zr),sn=lo(Jr),un=lo(Xr),cn=lo(en),ln=At?At.prototype:r,pn=ln?ln.valueOf:r,dn=ln?ln.toString:r;function fn(e){if(As(e)&&!vs(e)&&!(e instanceof vn)){if(e instanceof _n)return e;if(lt.call(e,"__wrapped__"))return po(e)}return new _n(e)}var mn=function(){function e(){}return function(t){if(!Es(t))return{};if(It)return It(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function hn(){}function _n(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=I,this.__views__=[]}function gn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function yn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function bn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function $n(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new bn;++t<r;)this.add(e[t])}function xn(e){var t=this.__data__=new yn(e);this.size=t.size}function wn(e,t){var r=vs(e),n=!r&&_s(e),a=!r&&!n&&$s(e),i=!r&&!n&&!a&&ks(e),o=r||n||a||i,s=o?dr(e.length,nt):[],u=s.length;for(var c in e)!t&&!lt.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Gi(c,u))||s.push(c);return s}function Sn(e){var t=e.length;return t?e[$a(0,t-1)]:r}function Nn(e,t){return so(ri(e),In(t,0,e.length))}function Cn(e){return so(ri(e))}function En(e,t,n){(n===r||fs(e[t],n))&&(n!==r||t in e)||Pn(e,t,n)}function An(e,t,n){var a=e[t];lt.call(e,t)&&fs(a,n)&&(n!==r||t in e)||Pn(e,t,n)}function Mn(e,t){for(var r=e.length;r--;)if(fs(e[r][0],t))return r;return-1}function Tn(e,t,r,n){return qn(e,(function(e,a,i){t(n,e,r(e),i)})),n}function On(e,t){return e&&ni(t,au(t),e)}function Pn(e,t,r){"__proto__"==t&&Dr?Dr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Dn(e,t){for(var n=-1,a=t.length,i=Ke(a),o=null==e;++n<a;)i[n]=o?r:Xs(e,t[n]);return i}function In(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function Fn(e,t,n,a,i,o){var s,u=t&c,d=t&l,f=t&p;if(n&&(s=i?n(e,a,i,o):n(e)),s!==r)return s;if(!Es(e))return e;var m=vs(e);if(m){if(s=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&lt.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!u)return ri(e,s)}else{var h=Li(e),_=h==G||h==H;if($s(e))return Ka(e,u);if(h==K||h==j||_&&!i){if(s=d||_?{}:zi(e),!u)return d?function(e,t){return ni(e,Bi(e),t)}(e,function(e,t){return e&&ni(t,iu(t),e)}(s,e)):function(e,t){return ni(e,qi(e),t)}(e,On(s,e))}else{if(!St[h])return i?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case ie:return Za(e);case L:case V:return new n(+e);case oe:return function(e,t){var r=t?Za(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case se:case ue:case ce:case le:case pe:case de:case fe:case me:case he:return Ja(e,r);case W:return new n;case Q:case ee:return new n(e);case J:return function(e){var t=new e.constructor(e.source,Be.exec(e));return t.lastIndex=e.lastIndex,t}(e);case X:return new n;case te:return a=e,pn?tt(pn.call(a)):{}}var a}(e,h,u)}}o||(o=new xn);var v=o.get(e);if(v)return v;o.set(e,s),Ds(e)?e.forEach((function(r){s.add(Fn(r,t,n,r,e,o))})):Ms(e)&&e.forEach((function(r,a){s.set(a,Fn(r,t,n,a,e,o))}));var g=m?r:(f?d?Oi:Ti:d?iu:au)(e);return Ut(g||e,(function(r,a){g&&(r=e[a=r]),An(s,a,Fn(r,t,n,a,e,o))})),s}function kn(e,t,n){var a=n.length;if(null==e)return!a;for(e=tt(e);a--;){var i=n[a],o=t[i],s=e[i];if(s===r&&!(i in e)||!o(s))return!1}return!0}function Rn(e,t,n){if("function"!=typeof e)throw new at(i);return no((function(){e.apply(r,n)}),t)}function jn(e,t,r,a){var i=-1,o=Qt,s=!0,u=e.length,c=[],l=t.length;if(!u)return c;r&&(t=Kt(t,fr(r))),a?(o=Yt,s=!1):t.length>=n&&(o=hr,s=!1,t=new $n(t));e:for(;++i<u;){var p=e[i],d=null==r?p:r(p);if(p=a||0!==p?p:0,s&&d==d){for(var f=l;f--;)if(t[f]===d)continue e;c.push(p)}else o(t,d,a)||c.push(p)}return c}fn.templateSettings={escape:we,evaluate:Se,interpolate:Ne,variable:"",imports:{_:fn}},fn.prototype=hn.prototype,fn.prototype.constructor=fn,_n.prototype=mn(hn.prototype),_n.prototype.constructor=_n,vn.prototype=mn(hn.prototype),vn.prototype.constructor=vn,gn.prototype.clear=function(){this.__data__=tn?tn(null):{},this.size=0},gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},gn.prototype.get=function(e){var t=this.__data__;if(tn){var n=t[e];return n===o?r:n}return lt.call(t,e)?t[e]:r},gn.prototype.has=function(e){var t=this.__data__;return tn?t[e]!==r:lt.call(t,e)},gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=tn&&t===r?o:t,this},yn.prototype.clear=function(){this.__data__=[],this.size=0},yn.prototype.delete=function(e){var t=this.__data__,r=Mn(t,e);return!(r<0)&&(r==t.length-1?t.pop():tr.call(t,r,1),--this.size,!0)},yn.prototype.get=function(e){var t=this.__data__,n=Mn(t,e);return n<0?r:t[n][1]},yn.prototype.has=function(e){return Mn(this.__data__,e)>-1},yn.prototype.set=function(e,t){var r=this.__data__,n=Mn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},bn.prototype.clear=function(){this.size=0,this.__data__={hash:new gn,map:new(Zr||yn),string:new gn}},bn.prototype.delete=function(e){var t=ki(this,e).delete(e);return this.size-=t?1:0,t},bn.prototype.get=function(e){return ki(this,e).get(e)},bn.prototype.has=function(e){return ki(this,e).has(e)},bn.prototype.set=function(e,t){var r=ki(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},$n.prototype.add=$n.prototype.push=function(e){return this.__data__.set(e,o),this},$n.prototype.has=function(e){return this.__data__.has(e)},xn.prototype.clear=function(){this.__data__=new yn,this.size=0},xn.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},xn.prototype.get=function(e){return this.__data__.get(e)},xn.prototype.has=function(e){return this.__data__.has(e)},xn.prototype.set=function(e,t){var r=this.__data__;if(r instanceof yn){var a=r.__data__;if(!Zr||a.length<n-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new bn(a)}return r.set(e,t),this.size=r.size,this};var qn=oi(Wn),Bn=oi(Qn,!0);function Ln(e,t){var r=!0;return qn(e,(function(e,n,a){return r=!!t(e,n,a)})),r}function Vn(e,t,n){for(var a=-1,i=e.length;++a<i;){var o=e[a],s=t(o);if(null!=s&&(u===r?s==s&&!Fs(s):n(s,u)))var u=s,c=o}return c}function zn(e,t){var r=[];return qn(e,(function(e,n,a){t(e,n,a)&&r.push(e)})),r}function Un(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=Ui),a||(a=[]);++i<o;){var s=e[i];t>0&&r(s)?t>1?Un(s,t-1,r,n,a):Zt(a,s):n||(a[a.length]=s)}return a}var Gn=si(),Hn=si(!0);function Wn(e,t){return e&&Gn(e,t,au)}function Qn(e,t){return e&&Hn(e,t,au)}function Yn(e,t){return Wt(t,(function(t){return Ss(e[t])}))}function Kn(e,t){for(var n=0,a=(t=Ha(t,e)).length;null!=e&&n<a;)e=e[co(t[n++])];return n&&n==a?e:r}function Zn(e,t,r){var n=t(e);return vs(e)?n:Zt(n,r(e))}function Jn(e){return null==e?e===r?re:Y:Pr&&Pr in tt(e)?function(e){var t=lt.call(e,Pr),n=e[Pr];try{e[Pr]=r;var a=!0}catch(e){}var i=ft.call(e);a&&(t?e[Pr]=n:delete e[Pr]);return i}(e):function(e){return ft.call(e)}(e)}function Xn(e,t){return e>t}function ea(e,t){return null!=e&&lt.call(e,t)}function ta(e,t){return null!=e&&t in tt(e)}function ra(e,t,n){for(var a=n?Yt:Qt,i=e[0].length,o=e.length,s=o,u=Ke(o),c=1/0,l=[];s--;){var p=e[s];s&&t&&(p=Kt(p,fr(t))),c=Gr(p.length,c),u[s]=!n&&(t||i>=120&&p.length>=120)?new $n(s&&p):r}p=e[0];var d=-1,f=u[0];e:for(;++d<i&&l.length<c;){var m=p[d],h=t?t(m):m;if(m=n||0!==m?m:0,!(f?hr(f,h):a(l,h,n))){for(s=o;--s;){var _=u[s];if(!(_?hr(_,h):a(e[s],h,n)))continue e}f&&f.push(h),l.push(m)}}return l}function na(e,t,n){var a=null==(e=eo(e,t=Ha(t,e)))?e:e[co(wo(t))];return null==a?r:Vt(a,e,n)}function aa(e){return As(e)&&Jn(e)==j}function ia(e,t,n,a,i){return e===t||(null==e||null==t||!As(e)&&!As(t)?e!=e&&t!=t:function(e,t,n,a,i,o){var s=vs(e),u=vs(t),c=s?q:Li(e),l=u?q:Li(t),p=(c=c==j?K:c)==K,m=(l=l==j?K:l)==K,h=c==l;if(h&&$s(e)){if(!$s(t))return!1;s=!0,p=!1}if(h&&!p)return o||(o=new xn),s||ks(e)?Ai(e,t,n,a,i,o):function(e,t,r,n,a,i,o){switch(r){case oe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ie:return!(e.byteLength!=t.byteLength||!i(new Mt(e),new Mt(t)));case L:case V:case Q:return fs(+e,+t);case U:return e.name==t.name&&e.message==t.message;case J:case ee:return e==t+"";case W:var s=xr;case X:var u=n&d;if(s||(s=Nr),e.size!=t.size&&!u)return!1;var c=o.get(e);if(c)return c==t;n|=f,o.set(e,t);var l=Ai(s(e),s(t),n,a,i,o);return o.delete(e),l;case te:if(pn)return pn.call(e)==pn.call(t)}return!1}(e,t,c,n,a,i,o);if(!(n&d)){var _=p&&lt.call(e,"__wrapped__"),v=m&&lt.call(t,"__wrapped__");if(_||v){var g=_?e.value():e,y=v?t.value():t;return o||(o=new xn),i(g,y,n,a,o)}}if(!h)return!1;return o||(o=new xn),function(e,t,n,a,i,o){var s=n&d,u=Ti(e),c=u.length,l=Ti(t).length;if(c!=l&&!s)return!1;var p=c;for(;p--;){var f=u[p];if(!(s?f in t:lt.call(t,f)))return!1}var m=o.get(e),h=o.get(t);if(m&&h)return m==t&&h==e;var _=!0;o.set(e,t),o.set(t,e);var v=s;for(;++p<c;){f=u[p];var g=e[f],y=t[f];if(a)var b=s?a(y,g,f,t,e,o):a(g,y,f,e,t,o);if(!(b===r?g===y||i(g,y,n,a,o):b)){_=!1;break}v||(v="constructor"==f)}if(_&&!v){var $=e.constructor,x=t.constructor;$!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof $&&$ instanceof $&&"function"==typeof x&&x instanceof x)&&(_=!1)}return o.delete(e),o.delete(t),_}(e,t,n,a,i,o)}(e,t,n,a,ia,i))}function oa(e,t,n,a){var i=n.length,o=i,s=!a;if(null==e)return!o;for(e=tt(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<o;){var c=(u=n[i])[0],l=e[c],p=u[1];if(s&&u[2]){if(l===r&&!(c in e))return!1}else{var m=new xn;if(a)var h=a(l,p,c,e,t,m);if(!(h===r?ia(p,l,d|f,a,m):h))return!1}}return!0}function sa(e){return!(!Es(e)||(t=e,dt&&dt in t))&&(Ss(e)?yt:ze).test(lo(e));var t}function ua(e){return"function"==typeof e?e:null==e?Tu:"object"==typeof e?vs(e)?ma(e[0],e[1]):fa(e):qu(e)}function ca(e){if(!Ki(e))return zr(e);var t=[];for(var r in tt(e))lt.call(e,r)&&"constructor"!=r&&t.push(r);return t}function la(e){if(!Es(e))return function(e){var t=[];if(null!=e)for(var r in tt(e))t.push(r);return t}(e);var t=Ki(e),r=[];for(var n in e)("constructor"!=n||!t&&lt.call(e,n))&&r.push(n);return r}function pa(e,t){return e<t}function da(e,t){var r=-1,n=ys(e)?Ke(e.length):[];return qn(e,(function(e,a,i){n[++r]=t(e,a,i)})),n}function fa(e){var t=Ri(e);return 1==t.length&&t[0][2]?Ji(t[0][0],t[0][1]):function(r){return r===e||oa(r,e,t)}}function ma(e,t){return Wi(e)&&Zi(t)?Ji(co(e),t):function(n){var a=Xs(n,e);return a===r&&a===t?eu(n,e):ia(t,a,d|f)}}function ha(e,t,n,a,i){e!==t&&Gn(t,(function(o,s){if(i||(i=new xn),Es(o))!function(e,t,n,a,i,o,s){var u=to(e,n),c=to(t,n),l=s.get(c);if(l)return void En(e,n,l);var p=o?o(u,c,n+"",e,t,s):r,d=p===r;if(d){var f=vs(c),m=!f&&$s(c),h=!f&&!m&&ks(c);p=c,f||m||h?vs(u)?p=u:bs(u)?p=ri(u):m?(d=!1,p=Ka(c,!0)):h?(d=!1,p=Ja(c,!0)):p=[]:Os(c)||_s(c)?(p=u,_s(u)?p=Us(u):Es(u)&&!Ss(u)||(p=zi(c))):d=!1}d&&(s.set(c,p),i(p,c,a,o,s),s.delete(c));En(e,n,p)}(e,t,s,n,ha,a,i);else{var u=a?a(to(e,s),o,s+"",e,t,i):r;u===r&&(u=o),En(e,s,u)}}),iu)}function _a(e,t){var n=e.length;if(n)return Gi(t+=t<0?n:0,n)?e[t]:r}function va(e,t,r){t=t.length?Kt(t,(function(e){return vs(e)?function(t){return Kn(t,1===e.length?e[0]:e)}:e})):[Tu];var n=-1;return t=Kt(t,fr(Fi())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(da(e,(function(e,r,a){return{criteria:Kt(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return function(e,t,r){var n=-1,a=e.criteria,i=t.criteria,o=a.length,s=r.length;for(;++n<o;){var u=Xa(a[n],i[n]);if(u){if(n>=s)return u;var c=r[n];return u*("desc"==c?-1:1)}}return e.index-t.index}(e,t,r)}))}function ga(e,t,r){for(var n=-1,a=t.length,i={};++n<a;){var o=t[n],s=Kn(e,o);r(s,o)&&Ca(i,Ha(o,e),s)}return i}function ya(e,t,r,n){var a=n?ir:ar,i=-1,o=t.length,s=e;for(e===t&&(t=ri(t)),r&&(s=Kt(e,fr(r)));++i<o;)for(var u=0,c=t[i],l=r?r(c):c;(u=a(s,l,u,n))>-1;)s!==e&&tr.call(s,u,1),tr.call(e,u,1);return e}function ba(e,t){for(var r=e?t.length:0,n=r-1;r--;){var a=t[r];if(r==n||a!==i){var i=a;Gi(a)?tr.call(e,a,1):ja(e,a)}}return e}function $a(e,t){return e+jr(Qr()*(t-e+1))}function xa(e,t){var r="";if(!e||t<1||t>O)return r;do{t%2&&(r+=e),(t=jr(t/2))&&(e+=e)}while(t);return r}function wa(e,t){return ao(Xi(e,t,Tu),e+"")}function Sa(e){return Sn(fu(e))}function Na(e,t){var r=fu(e);return so(r,In(t,0,r.length))}function Ca(e,t,n,a){if(!Es(e))return e;for(var i=-1,o=(t=Ha(t,e)).length,s=o-1,u=e;null!=u&&++i<o;){var c=co(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=s){var p=u[c];(l=a?a(p,c,u):r)===r&&(l=Es(p)?p:Gi(t[i+1])?[]:{})}An(u,c,l),u=u[c]}return e}var Ea=rn?function(e,t){return rn.set(e,t),e}:Tu,Aa=Dr?function(e,t){return Dr(e,"toString",{configurable:!0,enumerable:!1,value:Eu(t),writable:!0})}:Tu;function Ma(e){return so(fu(e))}function Ta(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Ke(a);++n<a;)i[n]=e[n+t];return i}function Oa(e,t){var r;return qn(e,(function(e,n,a){return!(r=t(e,n,a))})),!!r}function Pa(e,t,r){var n=0,a=null==e?n:e.length;if("number"==typeof t&&t==t&&a<=k){for(;n<a;){var i=n+a>>>1,o=e[i];null!==o&&!Fs(o)&&(r?o<=t:o<t)?n=i+1:a=i}return a}return Da(e,t,Tu,r)}function Da(e,t,n,a){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,u=null===t,c=Fs(t),l=t===r;i<o;){var p=jr((i+o)/2),d=n(e[p]),f=d!==r,m=null===d,h=d==d,_=Fs(d);if(s)var v=a||h;else v=l?h&&(a||f):u?h&&f&&(a||!m):c?h&&f&&!m&&(a||!_):!m&&!_&&(a?d<=t:d<t);v?i=p+1:o=p}return Gr(o,F)}function Ia(e,t){for(var r=-1,n=e.length,a=0,i=[];++r<n;){var o=e[r],s=t?t(o):o;if(!r||!fs(s,u)){var u=s;i[a++]=0===o?0:o}}return i}function Fa(e){return"number"==typeof e?e:Fs(e)?D:+e}function ka(e){if("string"==typeof e)return e;if(vs(e))return Kt(e,ka)+"";if(Fs(e))return dn?dn.call(e):"";var t=e+"";return"0"==t&&1/e==-T?"-0":t}function Ra(e,t,r){var a=-1,i=Qt,o=e.length,s=!0,u=[],c=u;if(r)s=!1,i=Yt;else if(o>=n){var l=t?null:xi(e);if(l)return Nr(l);s=!1,i=hr,c=new $n}else c=t?[]:u;e:for(;++a<o;){var p=e[a],d=t?t(p):p;if(p=r||0!==p?p:0,s&&d==d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),u.push(p)}else i(c,d,r)||(c!==u&&c.push(d),u.push(p))}return u}function ja(e,t){return null==(e=eo(e,t=Ha(t,e)))||delete e[co(wo(t))]}function qa(e,t,r,n){return Ca(e,t,r(Kn(e,t)),n)}function Ba(e,t,r,n){for(var a=e.length,i=n?a:-1;(n?i--:++i<a)&&t(e[i],i,e););return r?Ta(e,n?0:i,n?i+1:a):Ta(e,n?i+1:0,n?a:i)}function La(e,t){var r=e;return r instanceof vn&&(r=r.value()),Jt(t,(function(e,t){return t.func.apply(t.thisArg,Zt([e],t.args))}),r)}function Va(e,t,r){var n=e.length;if(n<2)return n?Ra(e[0]):[];for(var a=-1,i=Ke(n);++a<n;)for(var o=e[a],s=-1;++s<n;)s!=a&&(i[a]=jn(i[a]||o,e[s],t,r));return Ra(Un(i,1),t,r)}function za(e,t,n){for(var a=-1,i=e.length,o=t.length,s={};++a<i;){var u=a<o?t[a]:r;n(s,e[a],u)}return s}function Ua(e){return bs(e)?e:[]}function Ga(e){return"function"==typeof e?e:Tu}function Ha(e,t){return vs(e)?e:Wi(e,t)?[e]:uo(Gs(e))}var Wa=wa;function Qa(e,t,n){var a=e.length;return n=n===r?a:n,!t&&n>=a?e:Ta(e,t,n)}var Ya=Ir||function(e){return Tt.clearTimeout(e)};function Ka(e,t){if(t)return e.slice();var r=e.length,n=Ot?Ot(r):new e.constructor(r);return e.copy(n),n}function Za(e){var t=new e.constructor(e.byteLength);return new Mt(t).set(new Mt(e)),t}function Ja(e,t){var r=t?Za(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Xa(e,t){if(e!==t){var n=e!==r,a=null===e,i=e==e,o=Fs(e),s=t!==r,u=null===t,c=t==t,l=Fs(t);if(!u&&!l&&!o&&e>t||o&&s&&c&&!u&&!l||a&&s&&c||!n&&c||!i)return 1;if(!a&&!o&&!l&&e<t||l&&n&&i&&!a&&!o||u&&n&&i||!s&&i||!c)return-1}return 0}function ei(e,t,r,n){for(var a=-1,i=e.length,o=r.length,s=-1,u=t.length,c=Ur(i-o,0),l=Ke(u+c),p=!n;++s<u;)l[s]=t[s];for(;++a<o;)(p||a<i)&&(l[r[a]]=e[a]);for(;c--;)l[s++]=e[a++];return l}function ti(e,t,r,n){for(var a=-1,i=e.length,o=-1,s=r.length,u=-1,c=t.length,l=Ur(i-s,0),p=Ke(l+c),d=!n;++a<l;)p[a]=e[a];for(var f=a;++u<c;)p[f+u]=t[u];for(;++o<s;)(d||a<i)&&(p[f+r[o]]=e[a++]);return p}function ri(e,t){var r=-1,n=e.length;for(t||(t=Ke(n));++r<n;)t[r]=e[r];return t}function ni(e,t,n,a){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var u=t[o],c=a?a(n[u],e[u],u,n,e):r;c===r&&(c=e[u]),i?Pn(n,u,c):An(n,u,c)}return n}function ai(e,t){return function(r,n){var a=vs(r)?zt:Tn,i=t?t():{};return a(r,e,Fi(n,2),i)}}function ii(e){return wa((function(t,n){var a=-1,i=n.length,o=i>1?n[i-1]:r,s=i>2?n[2]:r;for(o=e.length>3&&"function"==typeof o?(i--,o):r,s&&Hi(n[0],n[1],s)&&(o=i<3?r:o,i=1),t=tt(t);++a<i;){var u=n[a];u&&e(t,u,a,o)}return t}))}function oi(e,t){return function(r,n){if(null==r)return r;if(!ys(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=tt(r);(t?i--:++i<a)&&!1!==n(o[i],i,o););return r}}function si(e){return function(t,r,n){for(var a=-1,i=tt(t),o=n(t),s=o.length;s--;){var u=o[e?s:++a];if(!1===r(i[u],u,i))break}return t}}function ui(e){return function(t){var n=$r(t=Gs(t))?Ar(t):r,a=n?n[0]:t.charAt(0),i=n?Qa(n,1).join(""):t.slice(1);return a[e]()+i}}function ci(e){return function(t){return Jt(Su(_u(t).replace(ht,"")),e,"")}}function li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=mn(e.prototype),n=e.apply(r,t);return Es(n)?n:r}}function pi(e){return function(t,n,a){var i=tt(t);if(!ys(t)){var o=Fi(n,3);t=au(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,a);return s>-1?i[o?t[s]:s]:r}}function di(e){return Mi((function(t){var n=t.length,a=n,o=_n.prototype.thru;for(e&&t.reverse();a--;){var s=t[a];if("function"!=typeof s)throw new at(i);if(o&&!u&&"wrapper"==Di(s))var u=new _n([],!0)}for(a=u?a:n;++a<n;){var c=Di(s=t[a]),l="wrapper"==c?Pi(s):r;u=l&&Qi(l[0])&&l[1]==($|v|y|x)&&!l[4].length&&1==l[9]?u[Di(l[0])].apply(u,l[3]):1==s.length&&Qi(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&vs(r))return u.plant(r).value();for(var a=0,i=n?t[a].apply(this,e):r;++a<n;)i=t[a].call(this,i);return i}}))}function fi(e,t,n,a,i,o,s,u,c,l){var p=t&$,d=t&m,f=t&h,_=t&(v|g),y=t&w,b=f?r:li(e);return function m(){for(var h=arguments.length,v=Ke(h),g=h;g--;)v[g]=arguments[g];if(_)var $=Ii(m),x=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(v,$);if(a&&(v=ei(v,a,i,_)),o&&(v=ti(v,o,s,_)),h-=x,_&&h<l){var w=Sr(v,$);return bi(e,t,fi,m.placeholder,n,v,w,u,c,l-h)}var S=d?n:this,N=f?S[e]:e;return h=v.length,u?v=function(e,t){var n=e.length,a=Gr(t.length,n),i=ri(e);for(;a--;){var o=t[a];e[a]=Gi(o,n)?i[o]:r}return e}(v,u):y&&h>1&&v.reverse(),p&&c<h&&(v.length=c),this&&this!==Tt&&this instanceof m&&(N=b||li(N)),N.apply(S,v)}}function mi(e,t){return function(r,n){return function(e,t,r,n){return Wn(e,(function(e,a,i){t(n,r(e),a,i)})),n}(r,e,t(n),{})}}function hi(e,t){return function(n,a){var i;if(n===r&&a===r)return t;if(n!==r&&(i=n),a!==r){if(i===r)return a;"string"==typeof n||"string"==typeof a?(n=ka(n),a=ka(a)):(n=Fa(n),a=Fa(a)),i=e(n,a)}return i}}function _i(e){return Mi((function(t){return t=Kt(t,fr(Fi())),wa((function(r){var n=this;return e(t,(function(e){return Vt(e,n,r)}))}))}))}function vi(e,t){var n=(t=t===r?" ":ka(t)).length;if(n<2)return n?xa(t,e):t;var a=xa(t,Rr(e/Er(t)));return $r(t)?Qa(Ar(a),0,e).join(""):a.slice(0,e)}function gi(e){return function(t,n,a){return a&&"number"!=typeof a&&Hi(t,n,a)&&(n=a=r),t=Bs(t),n===r?(n=t,t=0):n=Bs(n),function(e,t,r,n){for(var a=-1,i=Ur(Rr((t-e)/(r||1)),0),o=Ke(i);i--;)o[n?i:++a]=e,e+=r;return o}(t,n,a=a===r?t<n?1:-1:Bs(a),e)}}function yi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=zs(t),r=zs(r)),e(t,r)}}function bi(e,t,n,a,i,o,s,u,c,l){var p=t&v;t|=p?y:b,(t&=~(p?b:y))&_||(t&=~(m|h));var d=[e,t,i,p?o:r,p?s:r,p?r:o,p?r:s,u,c,l],f=n.apply(r,d);return Qi(e)&&ro(f,d),f.placeholder=a,io(f,e,t)}function $i(e){var t=et[e];return function(e,r){if(e=zs(e),(r=null==r?0:Gr(Ls(r),292))&&Lr(e)){var n=(Gs(e)+"e").split("e");return+((n=(Gs(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var xi=Xr&&1/Nr(new Xr([,-0]))[1]==T?function(e){return new Xr(e)}:Fu;function wi(e){return function(t){var r=Li(t);return r==W?xr(t):r==X?Cr(t):function(e,t){return Kt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Si(e,t,n,a,o,s,c,l){var p=t&h;if(!p&&"function"!=typeof e)throw new at(i);var d=a?a.length:0;if(d||(t&=~(y|b),a=o=r),c=c===r?c:Ur(Ls(c),0),l=l===r?l:Ls(l),d-=o?o.length:0,t&b){var f=a,w=o;a=o=r}var S=p?r:Pi(e),N=[e,t,n,a,o,f,w,s,c,l];if(S&&function(e,t){var r=e[1],n=t[1],a=r|n,i=a<(m|h|$),o=n==$&&r==v||n==$&&r==x&&e[7].length<=t[8]||n==($|x)&&t[7].length<=t[8]&&r==v;if(!i&&!o)return e;n&m&&(e[2]=t[2],a|=r&m?0:_);var s=t[3];if(s){var c=e[3];e[3]=c?ei(c,s,t[4]):s,e[4]=c?Sr(e[3],u):t[4]}(s=t[5])&&(c=e[5],e[5]=c?ti(c,s,t[6]):s,e[6]=c?Sr(e[5],u):t[6]);(s=t[7])&&(e[7]=s);n&$&&(e[8]=null==e[8]?t[8]:Gr(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}(N,S),e=N[0],t=N[1],n=N[2],a=N[3],o=N[4],!(l=N[9]=N[9]===r?p?0:e.length:Ur(N[9]-d,0))&&t&(v|g)&&(t&=~(v|g)),t&&t!=m)C=t==v||t==g?function(e,t,n){var a=li(e);return function i(){for(var o=arguments.length,s=Ke(o),u=o,c=Ii(i);u--;)s[u]=arguments[u];var l=o<3&&s[0]!==c&&s[o-1]!==c?[]:Sr(s,c);return(o-=l.length)<n?bi(e,t,fi,i.placeholder,r,s,l,r,r,n-o):Vt(this&&this!==Tt&&this instanceof i?a:e,this,s)}}(e,t,l):t!=y&&t!=(m|y)||o.length?fi.apply(r,N):function(e,t,r,n){var a=t&m,i=li(e);return function t(){for(var o=-1,s=arguments.length,u=-1,c=n.length,l=Ke(c+s),p=this&&this!==Tt&&this instanceof t?i:e;++u<c;)l[u]=n[u];for(;s--;)l[u++]=arguments[++o];return Vt(p,a?r:this,l)}}(e,t,n,a);else var C=function(e,t,r){var n=t&m,a=li(e);return function t(){return(this&&this!==Tt&&this instanceof t?a:e).apply(n?r:this,arguments)}}(e,t,n);return io((S?Ea:ro)(C,N),e,t)}function Ni(e,t,n,a){return e===r||fs(e,st[n])&&!lt.call(a,n)?t:e}function Ci(e,t,n,a,i,o){return Es(e)&&Es(t)&&(o.set(t,e),ha(e,t,r,Ci,o),o.delete(t)),e}function Ei(e){return Os(e)?r:e}function Ai(e,t,n,a,i,o){var s=n&d,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=o.get(e),p=o.get(t);if(l&&p)return l==t&&p==e;var m=-1,h=!0,_=n&f?new $n:r;for(o.set(e,t),o.set(t,e);++m<u;){var v=e[m],g=t[m];if(a)var y=s?a(g,v,m,t,e,o):a(v,g,m,e,t,o);if(y!==r){if(y)continue;h=!1;break}if(_){if(!er(t,(function(e,t){if(!hr(_,t)&&(v===e||i(v,e,n,a,o)))return _.push(t)}))){h=!1;break}}else if(v!==g&&!i(v,g,n,a,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Mi(e){return ao(Xi(e,r,go),e+"")}function Ti(e){return Zn(e,au,qi)}function Oi(e){return Zn(e,iu,Bi)}var Pi=rn?function(e){return rn.get(e)}:Fu;function Di(e){for(var t=e.name+"",r=nn[t],n=lt.call(nn,t)?r.length:0;n--;){var a=r[n],i=a.func;if(null==i||i==e)return a.name}return t}function Ii(e){return(lt.call(fn,"placeholder")?fn:e).placeholder}function Fi(){var e=fn.iteratee||Ou;return e=e===Ou?ua:e,arguments.length?e(arguments[0],arguments[1]):e}function ki(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Ri(e){for(var t=au(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Zi(a)]}return t}function ji(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return sa(n)?n:r}var qi=qr?function(e){return null==e?[]:(e=tt(e),Wt(qr(e),(function(t){return Ft.call(e,t)})))}:Vu,Bi=qr?function(e){for(var t=[];e;)Zt(t,qi(e)),e=Pt(e);return t}:Vu,Li=Jn;function Vi(e,t,r){for(var n=-1,a=(t=Ha(t,e)).length,i=!1;++n<a;){var o=co(t[n]);if(!(i=null!=e&&r(e,o)))break;e=e[o]}return i||++n!=a?i:!!(a=null==e?0:e.length)&&Cs(a)&&Gi(o,a)&&(vs(e)||_s(e))}function zi(e){return"function"!=typeof e.constructor||Ki(e)?{}:mn(Pt(e))}function Ui(e){return vs(e)||_s(e)||!!(cr&&e&&e[cr])}function Gi(e,t){var r=typeof e;return!!(t=null==t?O:t)&&("number"==r||"symbol"!=r&&Ge.test(e))&&e>-1&&e%1==0&&e<t}function Hi(e,t,r){if(!Es(r))return!1;var n=typeof t;return!!("number"==n?ys(r)&&Gi(t,r.length):"string"==n&&t in r)&&fs(r[t],e)}function Wi(e,t){if(vs(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Fs(e))||(Ee.test(e)||!Ce.test(e)||null!=t&&e in tt(t))}function Qi(e){var t=Di(e),r=fn[t];if("function"!=typeof r||!(t in vn.prototype))return!1;if(e===r)return!0;var n=Pi(r);return!!n&&e===n[0]}(Kr&&Li(new Kr(new ArrayBuffer(1)))!=oe||Zr&&Li(new Zr)!=W||Jr&&"[object Promise]"!=Li(Jr.resolve())||Xr&&Li(new Xr)!=X||en&&Li(new en)!=ne)&&(Li=function(e){var t=Jn(e),n=t==K?e.constructor:r,a=n?lo(n):"";if(a)switch(a){case an:return oe;case on:return W;case sn:return"[object Promise]";case un:return X;case cn:return ne}return t});var Yi=ut?Ss:zu;function Ki(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||st)}function Zi(e){return e==e&&!Es(e)}function Ji(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==r||e in tt(n)))}}function Xi(e,t,n){return t=Ur(t===r?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=Ur(r.length-t,0),o=Ke(i);++a<i;)o[a]=r[t+a];a=-1;for(var s=Ke(t+1);++a<t;)s[a]=r[a];return s[t]=n(o),Vt(e,this,s)}}function eo(e,t){return t.length<2?e:Kn(e,Ta(t,0,-1))}function to(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ro=oo(Ea),no=kr||function(e,t){return Tt.setTimeout(e,t)},ao=oo(Aa);function io(e,t,r){var n=t+"";return ao(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(Ie,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Ut(R,(function(r){var n="_."+r[0];t&r[1]&&!Qt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(Fe);return t?t[1].split(ke):[]}(n),r)))}function oo(e){var t=0,n=0;return function(){var a=Hr(),i=E-(a-n);if(n=a,i>0){if(++t>=C)return arguments[0]}else t=0;return e.apply(r,arguments)}}function so(e,t){var n=-1,a=e.length,i=a-1;for(t=t===r?a:t;++n<t;){var o=$a(n,i),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var uo=function(e){var t=ss(e,(function(e){return r.size===s&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ae,(function(e,r,n,a){t.push(n?a.replace(je,"$1"):r||e)})),t}));function co(e){if("string"==typeof e||Fs(e))return e;var t=e+"";return"0"==t&&1/e==-T?"-0":t}function lo(e){if(null!=e){try{return ct.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function po(e){if(e instanceof vn)return e.clone();var t=new _n(e.__wrapped__,e.__chain__);return t.__actions__=ri(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var fo=wa((function(e,t){return bs(e)?jn(e,Un(t,1,bs,!0)):[]})),mo=wa((function(e,t){var n=wo(t);return bs(n)&&(n=r),bs(e)?jn(e,Un(t,1,bs,!0),Fi(n,2)):[]})),ho=wa((function(e,t){var n=wo(t);return bs(n)&&(n=r),bs(e)?jn(e,Un(t,1,bs,!0),r,n):[]}));function _o(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:Ls(r);return a<0&&(a=Ur(n+a,0)),nr(e,Fi(t,3),a)}function vo(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var i=a-1;return n!==r&&(i=Ls(n),i=n<0?Ur(a+i,0):Gr(i,a-1)),nr(e,Fi(t,3),i,!0)}function go(e){return(null==e?0:e.length)?Un(e,1):[]}function yo(e){return e&&e.length?e[0]:r}var bo=wa((function(e){var t=Kt(e,Ua);return t.length&&t[0]===e[0]?ra(t):[]})),$o=wa((function(e){var t=wo(e),n=Kt(e,Ua);return t===wo(n)?t=r:n.pop(),n.length&&n[0]===e[0]?ra(n,Fi(t,2)):[]})),xo=wa((function(e){var t=wo(e),n=Kt(e,Ua);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?ra(n,r,t):[]}));function wo(e){var t=null==e?0:e.length;return t?e[t-1]:r}var So=wa(No);function No(e,t){return e&&e.length&&t&&t.length?ya(e,t):e}var Co=Mi((function(e,t){var r=null==e?0:e.length,n=Dn(e,t);return ba(e,Kt(t,(function(e){return Gi(e,r)?+e:e})).sort(Xa)),n}));function Eo(e){return null==e?e:Yr.call(e)}var Ao=wa((function(e){return Ra(Un(e,1,bs,!0))})),Mo=wa((function(e){var t=wo(e);return bs(t)&&(t=r),Ra(Un(e,1,bs,!0),Fi(t,2))})),To=wa((function(e){var t=wo(e);return t="function"==typeof t?t:r,Ra(Un(e,1,bs,!0),r,t)}));function Oo(e){if(!e||!e.length)return[];var t=0;return e=Wt(e,(function(e){if(bs(e))return t=Ur(e.length,t),!0})),dr(t,(function(t){return Kt(e,ur(t))}))}function Po(e,t){if(!e||!e.length)return[];var n=Oo(e);return null==t?n:Kt(n,(function(e){return Vt(t,r,e)}))}var Do=wa((function(e,t){return bs(e)?jn(e,t):[]})),Io=wa((function(e){return Va(Wt(e,bs))})),Fo=wa((function(e){var t=wo(e);return bs(t)&&(t=r),Va(Wt(e,bs),Fi(t,2))})),ko=wa((function(e){var t=wo(e);return t="function"==typeof t?t:r,Va(Wt(e,bs),r,t)})),Ro=wa(Oo);var jo=wa((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,Po(e,n)}));function qo(e){var t=fn(e);return t.__chain__=!0,t}function Bo(e,t){return t(e)}var Lo=Mi((function(e){var t=e.length,n=t?e[0]:0,a=this.__wrapped__,i=function(t){return Dn(t,e)};return!(t>1||this.__actions__.length)&&a instanceof vn&&Gi(n)?((a=a.slice(n,+n+(t?1:0))).__actions__.push({func:Bo,args:[i],thisArg:r}),new _n(a,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(i)}));var Vo=ai((function(e,t,r){lt.call(e,r)?++e[r]:Pn(e,r,1)}));var zo=pi(_o),Uo=pi(vo);function Go(e,t){return(vs(e)?Ut:qn)(e,Fi(t,3))}function Ho(e,t){return(vs(e)?Gt:Bn)(e,Fi(t,3))}var Wo=ai((function(e,t,r){lt.call(e,r)?e[r].push(t):Pn(e,r,[t])}));var Qo=wa((function(e,t,r){var n=-1,a="function"==typeof t,i=ys(e)?Ke(e.length):[];return qn(e,(function(e){i[++n]=a?Vt(t,e,r):na(e,t,r)})),i})),Yo=ai((function(e,t,r){Pn(e,r,t)}));function Ko(e,t){return(vs(e)?Kt:da)(e,Fi(t,3))}var Zo=ai((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var Jo=wa((function(e,t){if(null==e)return[];var r=t.length;return r>1&&Hi(e,t[0],t[1])?t=[]:r>2&&Hi(t[0],t[1],t[2])&&(t=[t[0]]),va(e,Un(t,1),[])})),Xo=Fr||function(){return Tt.Date.now()};function es(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Si(e,$,r,r,r,r,t)}function ts(e,t){var n;if("function"!=typeof t)throw new at(i);return e=Ls(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var rs=wa((function(e,t,r){var n=m;if(r.length){var a=Sr(r,Ii(rs));n|=y}return Si(e,n,t,r,a)})),ns=wa((function(e,t,r){var n=m|h;if(r.length){var a=Sr(r,Ii(ns));n|=y}return Si(t,n,e,r,a)}));function as(e,t,n){var a,o,s,u,c,l,p=0,d=!1,f=!1,m=!0;if("function"!=typeof e)throw new at(i);function h(t){var n=a,i=o;return a=o=r,p=t,u=e.apply(i,n)}function _(e){var n=e-l;return l===r||n>=t||n<0||f&&e-p>=s}function v(){var e=Xo();if(_(e))return g(e);c=no(v,function(e){var r=t-(e-l);return f?Gr(r,s-(e-p)):r}(e))}function g(e){return c=r,m&&a?h(e):(a=o=r,u)}function y(){var e=Xo(),n=_(e);if(a=arguments,o=this,l=e,n){if(c===r)return function(e){return p=e,c=no(v,t),d?h(e):u}(l);if(f)return Ya(c),c=no(v,t),h(l)}return c===r&&(c=no(v,t)),u}return t=zs(t)||0,Es(n)&&(d=!!n.leading,s=(f="maxWait"in n)?Ur(zs(n.maxWait)||0,t):s,m="trailing"in n?!!n.trailing:m),y.cancel=function(){c!==r&&Ya(c),p=0,a=l=o=c=r},y.flush=function(){return c===r?u:g(Xo())},y}var is=wa((function(e,t){return Rn(e,1,t)})),os=wa((function(e,t,r){return Rn(e,zs(t)||0,r)}));function ss(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new at(i);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(ss.Cache||bn),r}function us(e){if("function"!=typeof e)throw new at(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ss.Cache=bn;var cs=Wa((function(e,t){var r=(t=1==t.length&&vs(t[0])?Kt(t[0],fr(Fi())):Kt(Un(t,1),fr(Fi()))).length;return wa((function(n){for(var a=-1,i=Gr(n.length,r);++a<i;)n[a]=t[a].call(this,n[a]);return Vt(e,this,n)}))})),ls=wa((function(e,t){var n=Sr(t,Ii(ls));return Si(e,y,r,t,n)})),ps=wa((function(e,t){var n=Sr(t,Ii(ps));return Si(e,b,r,t,n)})),ds=Mi((function(e,t){return Si(e,x,r,r,r,t)}));function fs(e,t){return e===t||e!=e&&t!=t}var ms=yi(Xn),hs=yi((function(e,t){return e>=t})),_s=aa(function(){return arguments}())?aa:function(e){return As(e)&&lt.call(e,"callee")&&!Ft.call(e,"callee")},vs=Ke.isArray,gs=kt?fr(kt):function(e){return As(e)&&Jn(e)==ie};function ys(e){return null!=e&&Cs(e.length)&&!Ss(e)}function bs(e){return As(e)&&ys(e)}var $s=Br||zu,xs=Rt?fr(Rt):function(e){return As(e)&&Jn(e)==V};function ws(e){if(!As(e))return!1;var t=Jn(e);return t==U||t==z||"string"==typeof e.message&&"string"==typeof e.name&&!Os(e)}function Ss(e){if(!Es(e))return!1;var t=Jn(e);return t==G||t==H||t==B||t==Z}function Ns(e){return"number"==typeof e&&e==Ls(e)}function Cs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=O}function Es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function As(e){return null!=e&&"object"==typeof e}var Ms=jt?fr(jt):function(e){return As(e)&&Li(e)==W};function Ts(e){return"number"==typeof e||As(e)&&Jn(e)==Q}function Os(e){if(!As(e)||Jn(e)!=K)return!1;var t=Pt(e);if(null===t)return!0;var r=lt.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ct.call(r)==mt}var Ps=qt?fr(qt):function(e){return As(e)&&Jn(e)==J};var Ds=Bt?fr(Bt):function(e){return As(e)&&Li(e)==X};function Is(e){return"string"==typeof e||!vs(e)&&As(e)&&Jn(e)==ee}function Fs(e){return"symbol"==typeof e||As(e)&&Jn(e)==te}var ks=Lt?fr(Lt):function(e){return As(e)&&Cs(e.length)&&!!wt[Jn(e)]};var Rs=yi(pa),js=yi((function(e,t){return e<=t}));function qs(e){if(!e)return[];if(ys(e))return Is(e)?Ar(e):ri(e);if(Or&&e[Or])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Or]());var t=Li(e);return(t==W?xr:t==X?Nr:fu)(e)}function Bs(e){return e?(e=zs(e))===T||e===-T?(e<0?-1:1)*P:e==e?e:0:0===e?e:0}function Ls(e){var t=Bs(e),r=t%1;return t==t?r?t-r:t:0}function Vs(e){return e?In(Ls(e),0,I):0}function zs(e){if("number"==typeof e)return e;if(Fs(e))return D;if(Es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Oe,"");var r=Ve.test(e);return r||Ue.test(e)?Et(e.slice(2),r?2:8):Le.test(e)?D:+e}function Us(e){return ni(e,iu(e))}function Gs(e){return null==e?"":ka(e)}var Hs=ii((function(e,t){if(Ki(t)||ys(t))ni(t,au(t),e);else for(var r in t)lt.call(t,r)&&An(e,r,t[r])})),Ws=ii((function(e,t){ni(t,iu(t),e)})),Qs=ii((function(e,t,r,n){ni(t,iu(t),e,n)})),Ys=ii((function(e,t,r,n){ni(t,au(t),e,n)})),Ks=Mi(Dn);var Zs=wa((function(e,t){e=tt(e);var n=-1,a=t.length,i=a>2?t[2]:r;for(i&&Hi(t[0],t[1],i)&&(a=1);++n<a;)for(var o=t[n],s=iu(o),u=-1,c=s.length;++u<c;){var l=s[u],p=e[l];(p===r||fs(p,st[l])&&!lt.call(e,l))&&(e[l]=o[l])}return e})),Js=wa((function(e){return e.push(r,Ci),Vt(su,r,e)}));function Xs(e,t,n){var a=null==e?r:Kn(e,t);return a===r?n:a}function eu(e,t){return null!=e&&Vi(e,t,ta)}var tu=mi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),e[t]=r}),Eu(Tu)),ru=mi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),lt.call(e,t)?e[t].push(r):e[t]=[r]}),Fi),nu=wa(na);function au(e){return ys(e)?wn(e):ca(e)}function iu(e){return ys(e)?wn(e,!0):la(e)}var ou=ii((function(e,t,r){ha(e,t,r)})),su=ii((function(e,t,r,n){ha(e,t,r,n)})),uu=Mi((function(e,t){var r={};if(null==e)return r;var n=!1;t=Kt(t,(function(t){return t=Ha(t,e),n||(n=t.length>1),t})),ni(e,Oi(e),r),n&&(r=Fn(r,c|l|p,Ei));for(var a=t.length;a--;)ja(r,t[a]);return r}));var cu=Mi((function(e,t){return null==e?{}:function(e,t){return ga(e,t,(function(t,r){return eu(e,r)}))}(e,t)}));function lu(e,t){if(null==e)return{};var r=Kt(Oi(e),(function(e){return[e]}));return t=Fi(t),ga(e,r,(function(e,r){return t(e,r[0])}))}var pu=wi(au),du=wi(iu);function fu(e){return null==e?[]:mr(e,au(e))}var mu=ci((function(e,t,r){return t=t.toLowerCase(),e+(r?hu(t):t)}));function hu(e){return wu(Gs(e).toLowerCase())}function _u(e){return(e=Gs(e))&&e.replace(He,gr).replace(_t,"")}var vu=ci((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),gu=ci((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),yu=ui("toLowerCase");var bu=ci((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var $u=ci((function(e,t,r){return e+(r?" ":"")+wu(t)}));var xu=ci((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),wu=ui("toUpperCase");function Su(e,t,n){return e=Gs(e),(t=n?r:t)===r?function(e){return bt.test(e)}(e)?function(e){return e.match(gt)||[]}(e):function(e){return e.match(Re)||[]}(e):e.match(t)||[]}var Nu=wa((function(e,t){try{return Vt(e,r,t)}catch(e){return ws(e)?e:new Je(e)}})),Cu=Mi((function(e,t){return Ut(t,(function(t){t=co(t),Pn(e,t,rs(e[t],e))})),e}));function Eu(e){return function(){return e}}var Au=di(),Mu=di(!0);function Tu(e){return e}function Ou(e){return ua("function"==typeof e?e:Fn(e,c))}var Pu=wa((function(e,t){return function(r){return na(r,e,t)}})),Du=wa((function(e,t){return function(r){return na(e,r,t)}}));function Iu(e,t,r){var n=au(t),a=Yn(t,n);null!=r||Es(t)&&(a.length||!n.length)||(r=t,t=e,e=this,a=Yn(t,au(t)));var i=!(Es(r)&&"chain"in r&&!r.chain),o=Ss(e);return Ut(a,(function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(i||t){var r=e(this.__wrapped__),a=r.__actions__=ri(this.__actions__);return a.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Zt([this.value()],arguments))})})),e}function Fu(){}var ku=_i(Kt),Ru=_i(Ht),ju=_i(er);function qu(e){return Wi(e)?ur(co(e)):function(e){return function(t){return Kn(t,e)}}(e)}var Bu=gi(),Lu=gi(!0);function Vu(){return[]}function zu(){return!1}var Uu=hi((function(e,t){return e+t}),0),Gu=$i("ceil"),Hu=hi((function(e,t){return e/t}),1),Wu=$i("floor");var Qu,Yu=hi((function(e,t){return e*t}),1),Ku=$i("round"),Zu=hi((function(e,t){return e-t}),0);return fn.after=function(e,t){if("function"!=typeof t)throw new at(i);return e=Ls(e),function(){if(--e<1)return t.apply(this,arguments)}},fn.ary=es,fn.assign=Hs,fn.assignIn=Ws,fn.assignInWith=Qs,fn.assignWith=Ys,fn.at=Ks,fn.before=ts,fn.bind=rs,fn.bindAll=Cu,fn.bindKey=ns,fn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return vs(e)?e:[e]},fn.chain=qo,fn.chunk=function(e,t,n){t=(n?Hi(e,t,n):t===r)?1:Ur(Ls(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var i=0,o=0,s=Ke(Rr(a/t));i<a;)s[o++]=Ta(e,i,i+=t);return s},fn.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,a=[];++t<r;){var i=e[t];i&&(a[n++]=i)}return a},fn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Ke(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return Zt(vs(r)?ri(r):[r],Un(t,1))},fn.cond=function(e){var t=null==e?0:e.length,r=Fi();return e=t?Kt(e,(function(e){if("function"!=typeof e[1])throw new at(i);return[r(e[0]),e[1]]})):[],wa((function(r){for(var n=-1;++n<t;){var a=e[n];if(Vt(a[0],this,r))return Vt(a[1],this,r)}}))},fn.conforms=function(e){return function(e){var t=au(e);return function(r){return kn(r,e,t)}}(Fn(e,c))},fn.constant=Eu,fn.countBy=Vo,fn.create=function(e,t){var r=mn(e);return null==t?r:On(r,t)},fn.curry=function e(t,n,a){var i=Si(t,v,r,r,r,r,r,n=a?r:n);return i.placeholder=e.placeholder,i},fn.curryRight=function e(t,n,a){var i=Si(t,g,r,r,r,r,r,n=a?r:n);return i.placeholder=e.placeholder,i},fn.debounce=as,fn.defaults=Zs,fn.defaultsDeep=Js,fn.defer=is,fn.delay=os,fn.difference=fo,fn.differenceBy=mo,fn.differenceWith=ho,fn.drop=function(e,t,n){var a=null==e?0:e.length;return a?Ta(e,(t=n||t===r?1:Ls(t))<0?0:t,a):[]},fn.dropRight=function(e,t,n){var a=null==e?0:e.length;return a?Ta(e,0,(t=a-(t=n||t===r?1:Ls(t)))<0?0:t):[]},fn.dropRightWhile=function(e,t){return e&&e.length?Ba(e,Fi(t,3),!0,!0):[]},fn.dropWhile=function(e,t){return e&&e.length?Ba(e,Fi(t,3),!0):[]},fn.fill=function(e,t,n,a){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Hi(e,t,n)&&(n=0,a=i),function(e,t,n,a){var i=e.length;for((n=Ls(n))<0&&(n=-n>i?0:i+n),(a=a===r||a>i?i:Ls(a))<0&&(a+=i),a=n>a?0:Vs(a);n<a;)e[n++]=t;return e}(e,t,n,a)):[]},fn.filter=function(e,t){return(vs(e)?Wt:zn)(e,Fi(t,3))},fn.flatMap=function(e,t){return Un(Ko(e,t),1)},fn.flatMapDeep=function(e,t){return Un(Ko(e,t),T)},fn.flatMapDepth=function(e,t,n){return n=n===r?1:Ls(n),Un(Ko(e,t),n)},fn.flatten=go,fn.flattenDeep=function(e){return(null==e?0:e.length)?Un(e,T):[]},fn.flattenDepth=function(e,t){return(null==e?0:e.length)?Un(e,t=t===r?1:Ls(t)):[]},fn.flip=function(e){return Si(e,w)},fn.flow=Au,fn.flowRight=Mu,fn.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var a=e[t];n[a[0]]=a[1]}return n},fn.functions=function(e){return null==e?[]:Yn(e,au(e))},fn.functionsIn=function(e){return null==e?[]:Yn(e,iu(e))},fn.groupBy=Wo,fn.initial=function(e){return(null==e?0:e.length)?Ta(e,0,-1):[]},fn.intersection=bo,fn.intersectionBy=$o,fn.intersectionWith=xo,fn.invert=tu,fn.invertBy=ru,fn.invokeMap=Qo,fn.iteratee=Ou,fn.keyBy=Yo,fn.keys=au,fn.keysIn=iu,fn.map=Ko,fn.mapKeys=function(e,t){var r={};return t=Fi(t,3),Wn(e,(function(e,n,a){Pn(r,t(e,n,a),e)})),r},fn.mapValues=function(e,t){var r={};return t=Fi(t,3),Wn(e,(function(e,n,a){Pn(r,n,t(e,n,a))})),r},fn.matches=function(e){return fa(Fn(e,c))},fn.matchesProperty=function(e,t){return ma(e,Fn(t,c))},fn.memoize=ss,fn.merge=ou,fn.mergeWith=su,fn.method=Pu,fn.methodOf=Du,fn.mixin=Iu,fn.negate=us,fn.nthArg=function(e){return e=Ls(e),wa((function(t){return _a(t,e)}))},fn.omit=uu,fn.omitBy=function(e,t){return lu(e,us(Fi(t)))},fn.once=function(e){return ts(2,e)},fn.orderBy=function(e,t,n,a){return null==e?[]:(vs(t)||(t=null==t?[]:[t]),vs(n=a?r:n)||(n=null==n?[]:[n]),va(e,t,n))},fn.over=ku,fn.overArgs=cs,fn.overEvery=Ru,fn.overSome=ju,fn.partial=ls,fn.partialRight=ps,fn.partition=Zo,fn.pick=cu,fn.pickBy=lu,fn.property=qu,fn.propertyOf=function(e){return function(t){return null==e?r:Kn(e,t)}},fn.pull=So,fn.pullAll=No,fn.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?ya(e,t,Fi(r,2)):e},fn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?ya(e,t,r,n):e},fn.pullAt=Co,fn.range=Bu,fn.rangeRight=Lu,fn.rearg=ds,fn.reject=function(e,t){return(vs(e)?Wt:zn)(e,us(Fi(t,3)))},fn.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,a=[],i=e.length;for(t=Fi(t,3);++n<i;){var o=e[n];t(o,n,e)&&(r.push(o),a.push(n))}return ba(e,a),r},fn.rest=function(e,t){if("function"!=typeof e)throw new at(i);return wa(e,t=t===r?t:Ls(t))},fn.reverse=Eo,fn.sampleSize=function(e,t,n){return t=(n?Hi(e,t,n):t===r)?1:Ls(t),(vs(e)?Nn:Na)(e,t)},fn.set=function(e,t,r){return null==e?e:Ca(e,t,r)},fn.setWith=function(e,t,n,a){return a="function"==typeof a?a:r,null==e?e:Ca(e,t,n,a)},fn.shuffle=function(e){return(vs(e)?Cn:Ma)(e)},fn.slice=function(e,t,n){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&Hi(e,t,n)?(t=0,n=a):(t=null==t?0:Ls(t),n=n===r?a:Ls(n)),Ta(e,t,n)):[]},fn.sortBy=Jo,fn.sortedUniq=function(e){return e&&e.length?Ia(e):[]},fn.sortedUniqBy=function(e,t){return e&&e.length?Ia(e,Fi(t,2)):[]},fn.split=function(e,t,n){return n&&"number"!=typeof n&&Hi(e,t,n)&&(t=n=r),(n=n===r?I:n>>>0)?(e=Gs(e))&&("string"==typeof t||null!=t&&!Ps(t))&&!(t=ka(t))&&$r(e)?Qa(Ar(e),0,n):e.split(t,n):[]},fn.spread=function(e,t){if("function"!=typeof e)throw new at(i);return t=null==t?0:Ur(Ls(t),0),wa((function(r){var n=r[t],a=Qa(r,0,t);return n&&Zt(a,n),Vt(e,this,a)}))},fn.tail=function(e){var t=null==e?0:e.length;return t?Ta(e,1,t):[]},fn.take=function(e,t,n){return e&&e.length?Ta(e,0,(t=n||t===r?1:Ls(t))<0?0:t):[]},fn.takeRight=function(e,t,n){var a=null==e?0:e.length;return a?Ta(e,(t=a-(t=n||t===r?1:Ls(t)))<0?0:t,a):[]},fn.takeRightWhile=function(e,t){return e&&e.length?Ba(e,Fi(t,3),!1,!0):[]},fn.takeWhile=function(e,t){return e&&e.length?Ba(e,Fi(t,3)):[]},fn.tap=function(e,t){return t(e),e},fn.throttle=function(e,t,r){var n=!0,a=!0;if("function"!=typeof e)throw new at(i);return Es(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),as(e,t,{leading:n,maxWait:t,trailing:a})},fn.thru=Bo,fn.toArray=qs,fn.toPairs=pu,fn.toPairsIn=du,fn.toPath=function(e){return vs(e)?Kt(e,co):Fs(e)?[e]:ri(uo(Gs(e)))},fn.toPlainObject=Us,fn.transform=function(e,t,r){var n=vs(e),a=n||$s(e)||ks(e);if(t=Fi(t,4),null==r){var i=e&&e.constructor;r=a?n?new i:[]:Es(e)&&Ss(i)?mn(Pt(e)):{}}return(a?Ut:Wn)(e,(function(e,n,a){return t(r,e,n,a)})),r},fn.unary=function(e){return es(e,1)},fn.union=Ao,fn.unionBy=Mo,fn.unionWith=To,fn.uniq=function(e){return e&&e.length?Ra(e):[]},fn.uniqBy=function(e,t){return e&&e.length?Ra(e,Fi(t,2)):[]},fn.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?Ra(e,r,t):[]},fn.unset=function(e,t){return null==e||ja(e,t)},fn.unzip=Oo,fn.unzipWith=Po,fn.update=function(e,t,r){return null==e?e:qa(e,t,Ga(r))},fn.updateWith=function(e,t,n,a){return a="function"==typeof a?a:r,null==e?e:qa(e,t,Ga(n),a)},fn.values=fu,fn.valuesIn=function(e){return null==e?[]:mr(e,iu(e))},fn.without=Do,fn.words=Su,fn.wrap=function(e,t){return ls(Ga(t),e)},fn.xor=Io,fn.xorBy=Fo,fn.xorWith=ko,fn.zip=Ro,fn.zipObject=function(e,t){return za(e||[],t||[],An)},fn.zipObjectDeep=function(e,t){return za(e||[],t||[],Ca)},fn.zipWith=jo,fn.entries=pu,fn.entriesIn=du,fn.extend=Ws,fn.extendWith=Qs,Iu(fn,fn),fn.add=Uu,fn.attempt=Nu,fn.camelCase=mu,fn.capitalize=hu,fn.ceil=Gu,fn.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=zs(n))==n?n:0),t!==r&&(t=(t=zs(t))==t?t:0),In(zs(e),t,n)},fn.clone=function(e){return Fn(e,p)},fn.cloneDeep=function(e){return Fn(e,c|p)},fn.cloneDeepWith=function(e,t){return Fn(e,c|p,t="function"==typeof t?t:r)},fn.cloneWith=function(e,t){return Fn(e,p,t="function"==typeof t?t:r)},fn.conformsTo=function(e,t){return null==t||kn(e,t,au(t))},fn.deburr=_u,fn.defaultTo=function(e,t){return null==e||e!=e?t:e},fn.divide=Hu,fn.endsWith=function(e,t,n){e=Gs(e),t=ka(t);var a=e.length,i=n=n===r?a:In(Ls(n),0,a);return(n-=t.length)>=0&&e.slice(n,i)==t},fn.eq=fs,fn.escape=function(e){return(e=Gs(e))&&xe.test(e)?e.replace(be,yr):e},fn.escapeRegExp=function(e){return(e=Gs(e))&&Te.test(e)?e.replace(Me,"\\$&"):e},fn.every=function(e,t,n){var a=vs(e)?Ht:Ln;return n&&Hi(e,t,n)&&(t=r),a(e,Fi(t,3))},fn.find=zo,fn.findIndex=_o,fn.findKey=function(e,t){return rr(e,Fi(t,3),Wn)},fn.findLast=Uo,fn.findLastIndex=vo,fn.findLastKey=function(e,t){return rr(e,Fi(t,3),Qn)},fn.floor=Wu,fn.forEach=Go,fn.forEachRight=Ho,fn.forIn=function(e,t){return null==e?e:Gn(e,Fi(t,3),iu)},fn.forInRight=function(e,t){return null==e?e:Hn(e,Fi(t,3),iu)},fn.forOwn=function(e,t){return e&&Wn(e,Fi(t,3))},fn.forOwnRight=function(e,t){return e&&Qn(e,Fi(t,3))},fn.get=Xs,fn.gt=ms,fn.gte=hs,fn.has=function(e,t){return null!=e&&Vi(e,t,ea)},fn.hasIn=eu,fn.head=yo,fn.identity=Tu,fn.includes=function(e,t,r,n){e=ys(e)?e:fu(e),r=r&&!n?Ls(r):0;var a=e.length;return r<0&&(r=Ur(a+r,0)),Is(e)?r<=a&&e.indexOf(t,r)>-1:!!a&&ar(e,t,r)>-1},fn.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:Ls(r);return a<0&&(a=Ur(n+a,0)),ar(e,t,a)},fn.inRange=function(e,t,n){return t=Bs(t),n===r?(n=t,t=0):n=Bs(n),function(e,t,r){return e>=Gr(t,r)&&e<Ur(t,r)}(e=zs(e),t,n)},fn.invoke=nu,fn.isArguments=_s,fn.isArray=vs,fn.isArrayBuffer=gs,fn.isArrayLike=ys,fn.isArrayLikeObject=bs,fn.isBoolean=function(e){return!0===e||!1===e||As(e)&&Jn(e)==L},fn.isBuffer=$s,fn.isDate=xs,fn.isElement=function(e){return As(e)&&1===e.nodeType&&!Os(e)},fn.isEmpty=function(e){if(null==e)return!0;if(ys(e)&&(vs(e)||"string"==typeof e||"function"==typeof e.splice||$s(e)||ks(e)||_s(e)))return!e.length;var t=Li(e);if(t==W||t==X)return!e.size;if(Ki(e))return!ca(e).length;for(var r in e)if(lt.call(e,r))return!1;return!0},fn.isEqual=function(e,t){return ia(e,t)},fn.isEqualWith=function(e,t,n){var a=(n="function"==typeof n?n:r)?n(e,t):r;return a===r?ia(e,t,r,n):!!a},fn.isError=ws,fn.isFinite=function(e){return"number"==typeof e&&Lr(e)},fn.isFunction=Ss,fn.isInteger=Ns,fn.isLength=Cs,fn.isMap=Ms,fn.isMatch=function(e,t){return e===t||oa(e,t,Ri(t))},fn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,oa(e,t,Ri(t),n)},fn.isNaN=function(e){return Ts(e)&&e!=+e},fn.isNative=function(e){if(Yi(e))throw new Je(a);return sa(e)},fn.isNil=function(e){return null==e},fn.isNull=function(e){return null===e},fn.isNumber=Ts,fn.isObject=Es,fn.isObjectLike=As,fn.isPlainObject=Os,fn.isRegExp=Ps,fn.isSafeInteger=function(e){return Ns(e)&&e>=-O&&e<=O},fn.isSet=Ds,fn.isString=Is,fn.isSymbol=Fs,fn.isTypedArray=ks,fn.isUndefined=function(e){return e===r},fn.isWeakMap=function(e){return As(e)&&Li(e)==ne},fn.isWeakSet=function(e){return As(e)&&Jn(e)==ae},fn.join=function(e,t){return null==e?"":Vr.call(e,t)},fn.kebabCase=vu,fn.last=wo,fn.lastIndexOf=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var i=a;return n!==r&&(i=(i=Ls(n))<0?Ur(a+i,0):Gr(i,a-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):nr(e,or,i,!0)},fn.lowerCase=gu,fn.lowerFirst=yu,fn.lt=Rs,fn.lte=js,fn.max=function(e){return e&&e.length?Vn(e,Tu,Xn):r},fn.maxBy=function(e,t){return e&&e.length?Vn(e,Fi(t,2),Xn):r},fn.mean=function(e){return sr(e,Tu)},fn.meanBy=function(e,t){return sr(e,Fi(t,2))},fn.min=function(e){return e&&e.length?Vn(e,Tu,pa):r},fn.minBy=function(e,t){return e&&e.length?Vn(e,Fi(t,2),pa):r},fn.stubArray=Vu,fn.stubFalse=zu,fn.stubObject=function(){return{}},fn.stubString=function(){return""},fn.stubTrue=function(){return!0},fn.multiply=Yu,fn.nth=function(e,t){return e&&e.length?_a(e,Ls(t)):r},fn.noConflict=function(){return Tt._===this&&(Tt._=vt),this},fn.noop=Fu,fn.now=Xo,fn.pad=function(e,t,r){e=Gs(e);var n=(t=Ls(t))?Er(e):0;if(!t||n>=t)return e;var a=(t-n)/2;return vi(jr(a),r)+e+vi(Rr(a),r)},fn.padEnd=function(e,t,r){e=Gs(e);var n=(t=Ls(t))?Er(e):0;return t&&n<t?e+vi(t-n,r):e},fn.padStart=function(e,t,r){e=Gs(e);var n=(t=Ls(t))?Er(e):0;return t&&n<t?vi(t-n,r)+e:e},fn.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),Wr(Gs(e).replace(Pe,""),t||0)},fn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Hi(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=Bs(e),t===r?(t=e,e=0):t=Bs(t)),e>t){var a=e;e=t,t=a}if(n||e%1||t%1){var i=Qr();return Gr(e+i*(t-e+Ct("1e-"+((i+"").length-1))),t)}return $a(e,t)},fn.reduce=function(e,t,r){var n=vs(e)?Jt:lr,a=arguments.length<3;return n(e,Fi(t,4),r,a,qn)},fn.reduceRight=function(e,t,r){var n=vs(e)?Xt:lr,a=arguments.length<3;return n(e,Fi(t,4),r,a,Bn)},fn.repeat=function(e,t,n){return t=(n?Hi(e,t,n):t===r)?1:Ls(t),xa(Gs(e),t)},fn.replace=function(){var e=arguments,t=Gs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},fn.result=function(e,t,n){var a=-1,i=(t=Ha(t,e)).length;for(i||(i=1,e=r);++a<i;){var o=null==e?r:e[co(t[a])];o===r&&(a=i,o=n),e=Ss(o)?o.call(e):o}return e},fn.round=Ku,fn.runInContext=e,fn.sample=function(e){return(vs(e)?Sn:Sa)(e)},fn.size=function(e){if(null==e)return 0;if(ys(e))return Is(e)?Er(e):e.length;var t=Li(e);return t==W||t==X?e.size:ca(e).length},fn.snakeCase=bu,fn.some=function(e,t,n){var a=vs(e)?er:Oa;return n&&Hi(e,t,n)&&(t=r),a(e,Fi(t,3))},fn.sortedIndex=function(e,t){return Pa(e,t)},fn.sortedIndexBy=function(e,t,r){return Da(e,t,Fi(r,2))},fn.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=Pa(e,t);if(n<r&&fs(e[n],t))return n}return-1},fn.sortedLastIndex=function(e,t){return Pa(e,t,!0)},fn.sortedLastIndexBy=function(e,t,r){return Da(e,t,Fi(r,2),!0)},fn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=Pa(e,t,!0)-1;if(fs(e[r],t))return r}return-1},fn.startCase=$u,fn.startsWith=function(e,t,r){return e=Gs(e),r=null==r?0:In(Ls(r),0,e.length),t=ka(t),e.slice(r,r+t.length)==t},fn.subtract=Zu,fn.sum=function(e){return e&&e.length?pr(e,Tu):0},fn.sumBy=function(e,t){return e&&e.length?pr(e,Fi(t,2)):0},fn.template=function(e,t,n){var a=fn.templateSettings;n&&Hi(e,t,n)&&(t=r),e=Gs(e),t=Qs({},t,a,Ni);var i,o,s=Qs({},t.imports,a.imports,Ni),u=au(s),c=mr(s,u),l=0,p=t.interpolate||We,d="__p += '",f=rt((t.escape||We).source+"|"+p.source+"|"+(p===Ne?qe:We).source+"|"+(t.evaluate||We).source+"|$","g"),m="//# sourceURL="+(lt.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xt+"]")+"\n";e.replace(f,(function(t,r,n,a,s,u){return n||(n=a),d+=e.slice(l,u).replace(Qe,br),r&&(i=!0,d+="' +\n__e("+r+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),d+="';\n";var h=lt.call(t,"variable")&&t.variable;h||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(_e,""):d).replace(ve,"$1").replace(ge,"$1;"),d="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var _=Nu((function(){return Xe(u,m+"return "+d).apply(r,c)}));if(_.source=d,ws(_))throw _;return _},fn.times=function(e,t){if((e=Ls(e))<1||e>O)return[];var r=I,n=Gr(e,I);t=Fi(t),e-=I;for(var a=dr(n,t);++r<e;)t(r);return a},fn.toFinite=Bs,fn.toInteger=Ls,fn.toLength=Vs,fn.toLower=function(e){return Gs(e).toLowerCase()},fn.toNumber=zs,fn.toSafeInteger=function(e){return e?In(Ls(e),-O,O):0===e?e:0},fn.toString=Gs,fn.toUpper=function(e){return Gs(e).toUpperCase()},fn.trim=function(e,t,n){if((e=Gs(e))&&(n||t===r))return e.replace(Oe,"");if(!e||!(t=ka(t)))return e;var a=Ar(e),i=Ar(t);return Qa(a,_r(a,i),vr(a,i)+1).join("")},fn.trimEnd=function(e,t,n){if((e=Gs(e))&&(n||t===r))return e.replace(De,"");if(!e||!(t=ka(t)))return e;var a=Ar(e);return Qa(a,0,vr(a,Ar(t))+1).join("")},fn.trimStart=function(e,t,n){if((e=Gs(e))&&(n||t===r))return e.replace(Pe,"");if(!e||!(t=ka(t)))return e;var a=Ar(e);return Qa(a,_r(a,Ar(t))).join("")},fn.truncate=function(e,t){var n=S,a=N;if(Es(t)){var i="separator"in t?t.separator:i;n="length"in t?Ls(t.length):n,a="omission"in t?ka(t.omission):a}var o=(e=Gs(e)).length;if($r(e)){var s=Ar(e);o=s.length}if(n>=o)return e;var u=n-Er(a);if(u<1)return a;var c=s?Qa(s,0,u).join(""):e.slice(0,u);if(i===r)return c+a;if(s&&(u+=c.length-u),Ps(i)){if(e.slice(u).search(i)){var l,p=c;for(i.global||(i=rt(i.source,Gs(Be.exec(i))+"g")),i.lastIndex=0;l=i.exec(p);)var d=l.index;c=c.slice(0,d===r?u:d)}}else if(e.indexOf(ka(i),u)!=u){var f=c.lastIndexOf(i);f>-1&&(c=c.slice(0,f))}return c+a},fn.unescape=function(e){return(e=Gs(e))&&$e.test(e)?e.replace(ye,Mr):e},fn.uniqueId=function(e){var t=++pt;return Gs(e)+t},fn.upperCase=xu,fn.upperFirst=wu,fn.each=Go,fn.eachRight=Ho,fn.first=yo,Iu(fn,(Qu={},Wn(fn,(function(e,t){lt.call(fn.prototype,t)||(Qu[t]=e)})),Qu),{chain:!1}),fn.VERSION="4.17.19",Ut(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){fn[e].placeholder=fn})),Ut(["drop","take"],(function(e,t){vn.prototype[e]=function(n){n=n===r?1:Ur(Ls(n),0);var a=this.__filtered__&&!t?new vn(this):this.clone();return a.__filtered__?a.__takeCount__=Gr(n,a.__takeCount__):a.__views__.push({size:Gr(n,I),type:e+(a.__dir__<0?"Right":"")}),a},vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ut(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=r==A||3==r;vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Fi(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),Ut(["head","last"],(function(e,t){var r="take"+(t?"Right":"");vn.prototype[e]=function(){return this[r](1).value()[0]}})),Ut(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");vn.prototype[e]=function(){return this.__filtered__?new vn(this):this[r](1)}})),vn.prototype.compact=function(){return this.filter(Tu)},vn.prototype.find=function(e){return this.filter(e).head()},vn.prototype.findLast=function(e){return this.reverse().find(e)},vn.prototype.invokeMap=wa((function(e,t){return"function"==typeof e?new vn(this):this.map((function(r){return na(r,e,t)}))})),vn.prototype.reject=function(e){return this.filter(us(Fi(e)))},vn.prototype.slice=function(e,t){e=Ls(e);var n=this;return n.__filtered__&&(e>0||t<0)?new vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=Ls(t))<0?n.dropRight(-t):n.take(t-e)),n)},vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},vn.prototype.toArray=function(){return this.take(I)},Wn(vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),a=/^(?:head|last)$/.test(t),i=fn[a?"take"+("last"==t?"Right":""):t],o=a||/^find/.test(t);i&&(fn.prototype[t]=function(){var t=this.__wrapped__,s=a?[1]:arguments,u=t instanceof vn,c=s[0],l=u||vs(t),p=function(e){var t=i.apply(fn,Zt([e],s));return a&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,f=!!this.__actions__.length,m=o&&!d,h=u&&!f;if(!o&&l){t=h?t:new vn(this);var _=e.apply(t,s);return _.__actions__.push({func:Bo,args:[p],thisArg:r}),new _n(_,d)}return m&&h?e.apply(this,s):(_=this.thru(p),m?a?_.value()[0]:_.value():_)})})),Ut(["pop","push","shift","sort","splice","unshift"],(function(e){var t=it[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);fn.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var a=this.value();return t.apply(vs(a)?a:[],e)}return this[r]((function(r){return t.apply(vs(r)?r:[],e)}))}})),Wn(vn.prototype,(function(e,t){var r=fn[t];if(r){var n=r.name+"";lt.call(nn,n)||(nn[n]=[]),nn[n].push({name:t,func:r})}})),nn[fi(r,h).name]=[{name:"wrapper",func:r}],vn.prototype.clone=function(){var e=new vn(this.__wrapped__);return e.__actions__=ri(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ri(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ri(this.__views__),e},vn.prototype.reverse=function(){if(this.__filtered__){var e=new vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=vs(e),n=t<0,a=r?e.length:0,i=function(e,t,r){var n=-1,a=r.length;for(;++n<a;){var i=r[n],o=i.size;switch(i.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Gr(t,e+o);break;case"takeRight":e=Ur(e,t-o)}}return{start:e,end:t}}(0,a,this.__views__),o=i.start,s=i.end,u=s-o,c=n?s:o-1,l=this.__iteratees__,p=l.length,d=0,f=Gr(u,this.__takeCount__);if(!r||!n&&a==u&&f==u)return La(e,this.__actions__);var m=[];e:for(;u--&&d<f;){for(var h=-1,_=e[c+=t];++h<p;){var v=l[h],g=v.iteratee,y=v.type,b=g(_);if(y==M)_=b;else if(!b){if(y==A)continue e;break e}}m[d++]=_}return m},fn.prototype.at=Lo,fn.prototype.chain=function(){return qo(this)},fn.prototype.commit=function(){return new _n(this.value(),this.__chain__)},fn.prototype.next=function(){this.__values__===r&&(this.__values__=qs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},fn.prototype.plant=function(e){for(var t,n=this;n instanceof hn;){var a=po(n);a.__index__=0,a.__values__=r,t?i.__wrapped__=a:t=a;var i=a;n=n.__wrapped__}return i.__wrapped__=e,t},fn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof vn){var t=e;return this.__actions__.length&&(t=new vn(this)),(t=t.reverse()).__actions__.push({func:Bo,args:[Eo],thisArg:r}),new _n(t,this.__chain__)}return this.thru(Eo)},fn.prototype.toJSON=fn.prototype.valueOf=fn.prototype.value=function(){return La(this.__wrapped__,this.__actions__)},fn.prototype.first=fn.prototype.head,Or&&(fn.prototype[Or]=function(){return this}),fn}();Pt?((Pt.exports=Tr)._=Tr,Ot._=Tr):Tt._=Tr}).call(commonjsGlobal)})),DEFAULT_CONFIG={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function isNumber(e){return"number"==typeof e}function isBigNumber(e){return e&&!0===e.constructor.prototype.isBigNumber||!1}function isComplex(e){return e&&"object"===_typeof(e)&&!0===Object.getPrototypeOf(e).isComplex||!1}function isFraction(e){return e&&"object"===_typeof(e)&&!0===Object.getPrototypeOf(e).isFraction||!1}function isUnit(e){return e&&!0===e.constructor.prototype.isUnit||!1}function isString(e){return"string"==typeof e}var isArray=Array.isArray;function isMatrix(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function isCollection(e){return Array.isArray(e)||isMatrix(e)}function isDenseMatrix(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function isSparseMatrix(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function isRange(e){return e&&!0===e.constructor.prototype.isRange||!1}function isIndex(e){return e&&!0===e.constructor.prototype.isIndex||!1}function isBoolean(e){return"boolean"==typeof e}function isResultSet(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function isHelp(e){return e&&!0===e.constructor.prototype.isHelp||!1}function isFunction(e){return"function"==typeof e}function isDate(e){return e instanceof Date}function isRegExp(e){return e instanceof RegExp}function isObject(e){return!(!e||"object"!==_typeof(e)||e.constructor!==Object||isComplex(e)||isFraction(e))}function isNull(e){return null===e}function isUndefined(e){return void 0===e}function isAccessorNode(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function isArrayNode(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function isAssignmentNode(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function isBlockNode(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function isConditionalNode(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function isConstantNode(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function isFunctionAssignmentNode(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function isFunctionNode(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function isIndexNode(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function isNode(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function isObjectNode(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function isOperatorNode(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function isParenthesisNode(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function isRangeNode(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function isSymbolNode(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function isChain(e){return e&&!0===e.constructor.prototype.isChain||!1}function typeOf(e){var t=_typeof(e);return"object"===t?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":isBigNumber(e)?"BigNumber":isComplex(e)?"Complex":isFraction(e)?"Fraction":isMatrix(e)?"Matrix":isUnit(e)?"Unit":isIndex(e)?"Index":isRange(e)?"Range":isResultSet(e)?"ResultSet":isNode(e)?e.type:isChain(e)?"Chain":isHelp(e)?"Help":"Object":"function"===t?"Function":t}function _typeof$1(e){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function clone(e){var t=_typeof$1(e);if("number"===t||"string"===t||"boolean"===t||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map((function(e){return clone(e)}));if(e instanceof Date)return new Date(e.valueOf());if(isBigNumber(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return mapObject(e,clone)}function mapObject(e,t){var r={};for(var n in e)hasOwnProperty(e,n)&&(r[n]=t(e[n]));return r}function extend(e,t){for(var r in t)hasOwnProperty(t,r)&&(e[r]=t[r]);return e}function deepStrictEqual(e,t){var r,n,a;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(n=0,a=e.length;n<a;n++)if(!deepStrictEqual(e[n],t[n]))return!1;return!0}if("function"==typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t&&deepStrictEqual(e[r],t[r])))return!1;for(r in t)if(!(r in e&&deepStrictEqual(e[r],t[r])))return!1;return!0}return e===t}function lazy(e,t,r){var n,a=!0;Object.defineProperty(e,t,{get:function(){return a&&(n=r(),a=!1),n},set:function(e){n=e,a=!1},configurable:!0,enumerable:!0})}function hasOwnProperty(e,t){return e&&Object.hasOwnProperty.call(e,t)}function pickShallow(e,t){for(var r={},n=0;n<t.length;n++){var a=t[n],i=e[a];void 0!==i&&(r[a]=i)}return r}var MATRIX_OPTIONS=["Matrix","Array"],NUMBER_OPTIONS=["number","BigNumber","Fraction"];function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var config=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(DEFAULT_CONFIG)};_extends(config,DEFAULT_CONFIG,{MATRIX_OPTIONS:MATRIX_OPTIONS,NUMBER_OPTIONS:NUMBER_OPTIONS});var typedFunction=createCommonjsModule((function(e,t){e.exports=function(){function e(){return!0}function t(){return!1}function r(){}return function n(){var a=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"==typeof e&&null!==e&&e.constructor===Object}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],i={name:"any",test:e},o=[],s=[],u={types:a,conversions:s,ignore:o};function c(e){var t=q(u.types,(function(t){return t.name===e}));if(t)return t;if("any"===e)return i;var r=q(u.types,(function(t){return t.name.toLowerCase()===e.toLowerCase()}));throw new TypeError('Unknown type "'+e+'"'+(r?'. Did you mean "'+r.name+'"?':""))}function l(e){return e===i?999:u.types.indexOf(e)}function p(e){var t=q(u.types,(function(t){return t.test(e)}));if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+e)}function d(e){return e.map((function(e){var t=e.types.map(b);return(e.restParam?"...":"")+t.join("|")})).join(",")}function f(e,t){var r=0===e.indexOf("..."),n=(r?e.length>3?e.slice(3):"any":e).split("|").map(P).filter(D).filter(O),a=function(e,t){var r={};return e.forEach((function(e){-1!==t.indexOf(e.from)||-1===t.indexOf(e.to)||r[e.from]||(r[e.from]=e)})),Object.keys(r).map((function(e){return r[e]}))}(t,n),i=n.map((function(e){var t=c(e);return{name:e,typeIndex:l(t),test:t.test,conversion:null,conversionIndex:-1}})),o=a.map((function(e){var r=c(e.from);return{name:e.from,typeIndex:l(r),test:r.test,conversion:e,conversionIndex:t.indexOf(e)}}));return{types:i.concat(o),restParam:r}}function m(e){var t=k(e);return!!t&&t.restParam}function h(e){return e.types.some((function(e){return null!=e.conversion}))}function _(t){if(t&&0!==t.types.length){if(1===t.types.length)return c(t.types[0].name).test;if(2===t.types.length){var r=c(t.types[0].name).test,n=c(t.types[1].name).test;return function(e){return r(e)||n(e)}}var a=t.types.map((function(e){return c(e.name).test}));return function(e){for(var t=0;t<a.length;t++)if(a[t](e))return!0;return!1}}return e}function v(e){var t,r,n,a;if(m(e)){var i=(t=(a=e,a.slice(0,a.length-1)).map(_)).length,o=_(k(e));return function(e){for(var r=0;r<t.length;r++)if(!t[r](e[r]))return!1;return function(e){for(var t=i;t<e.length;t++)if(!o(e[t]))return!1;return!0}(e)&&e.length>=i+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(r=_(e[0]),function(e){return r(e[0])&&1===e.length}):2===e.length?(r=_(e[0]),n=_(e[1]),function(e){return r(e[0])&&n(e[1])&&2===e.length}):(t=e.map(_),function(e){for(var r=0;r<t.length;r++)if(!t[r](e[r]))return!1;return e.length===t.length})}function g(e,t){return t<e.params.length?e.params[t]:m(e.params)?k(e.params):null}function y(e,t,r){var n=g(e,t);return(n?r?n.types.filter($):n.types:[]).map(b)}function b(e){return e.name}function $(e){return null===e.conversion||void 0===e.conversion}function x(e,t){var r=function(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return Object.keys(t)}(B(e,(function(e){return y(e,t,!1)})));return-1!==r.indexOf("any")?["any"]:r}function w(e,t,r){var n,a,i,o=e||"unnamed",s=r;for(i=0;i<t.length;i++){var u=s.filter((function(e){var r=_(g(e,i));return(i<e.params.length||m(e.params))&&r(t[i])}));if(0===u.length){if((a=x(s,i)).length>0){var c=p(t[i]);return(n=new TypeError("Unexpected type of argument in function "+o+" (expected: "+a.join(" or ")+", actual: "+c+", index: "+i+")")).data={category:"wrongType",fn:o,index:i,actual:c,expected:a},n}}else s=u}var l=s.map((function(e){return m(e.params)?1/0:e.params.length}));if(t.length<Math.min.apply(null,l))return a=x(s,i),(n=new TypeError("Too few arguments in function "+o+" (expected: "+a.join(" or ")+", index: "+t.length+")")).data={category:"tooFewArgs",fn:o,index:t.length,expected:a},n;var d=Math.max.apply(null,l);return t.length>d?((n=new TypeError("Too many arguments in function "+o+" (expected: "+d+", actual: "+t.length+")")).data={category:"tooManyArgs",fn:o,index:t.length,expectedLength:d},n):((n=new TypeError('Arguments of type "'+t.join(", ")+'" do not match any of the defined signatures of function '+o+".")).data={category:"mismatch",actual:t.map(p)},n)}function S(e){for(var t=999,r=0;r<e.types.length;r++)$(e.types[r])&&(t=Math.min(t,e.types[r].typeIndex));return t}function N(e){for(var t=999,r=0;r<e.types.length;r++)$(e.types[r])||(t=Math.min(t,e.types[r].conversionIndex));return t}function C(e,t){var r;return 0!=(r=e.restParam-t.restParam)?r:0!=(r=h(e)-h(t))?r:0!=(r=S(e)-S(t))?r:N(e)-N(t)}function E(e,t){var r,n,a=Math.min(e.params.length,t.params.length);if(0!=(n=e.params.some(h)-t.params.some(h)))return n;for(r=0;r<a;r++)if(0!=(n=h(e.params[r])-h(t.params[r])))return n;for(r=0;r<a;r++)if(0!==(n=C(e.params[r],t.params[r])))return n;return e.params.length-t.params.length}function A(e){var t,r,n,a,i=[],o=[];switch(e.types.forEach((function(e){e.conversion&&(i.push(c(e.conversion.from).test),o.push(e.conversion.convert))})),o.length){case 0:return function(e){return e};case 1:return t=i[0],n=o[0],function(e){return t(e)?n(e):e};case 2:return t=i[0],r=i[1],n=o[0],a=o[1],function(e){return t(e)?n(e):r(e)?a(e):e};default:return function(e){for(var t=0;t<o.length;t++)if(i[t](e))return o[t](e);return e}}}function M(e,t){return function e(r,n,a){if(n<r.length){var i,o=r[n],s=t?o.types.filter($):o.types;if(o.restParam){var u=s.filter($);i=u.length<s.length?[u,s]:[s]}else i=s.map((function(e){return[e]}));return B(i,(function(t){return e(r,n+1,a.concat([t]))}))}return[a.map((function(e,t){return{types:e,restParam:t===r.length-1&&m(r)}}))]}(e,0,[])}function T(e,n){if(0===Object.keys(n).length)throw new SyntaxError("No signatures provided");var a=[];Object.keys(n).map((function(e){return function(e,t,r){var n=[];return""!==e.trim()&&(n=e.split(",").map(P).map((function(e,t,n){var a=f(e,r);if(a.restParam&&t!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+e+'": only allowed for the last parameter');return a}))),n.some(F)?null:{params:n,fn:t}}(e,n[e],u.conversions)})).filter(I).forEach((function(e){var t=q(a,(function(t){return function(e,t){for(var r=Math.max(e.params.length,t.params.length),n=0;n<r;n++)if(!j(y(e,n,!0),y(t,n,!0)))return!1;var a=e.params.length,i=t.params.length,o=m(e.params),s=m(t.params);return o?s?a===i:i>=a:s?a>=i:a===i}(t,e)}));if(t)throw new TypeError('Conflicting signatures "'+d(t.params)+'" and "'+d(e.params)+'".');a.push(e)}));var i=B(a,(function(e){return(e?M(e.params,!1):[]).map((function(t){return{params:t,fn:e.fn}}))})).filter(I);i.sort(E);var o=i[0]&&i[0].params.length<=2&&!m(i[0].params),s=i[1]&&i[1].params.length<=2&&!m(i[1].params),c=i[2]&&i[2].params.length<=2&&!m(i[2].params),l=i[3]&&i[3].params.length<=2&&!m(i[3].params),p=i[4]&&i[4].params.length<=2&&!m(i[4].params),g=i[5]&&i[5].params.length<=2&&!m(i[5].params),b=o&&s&&c&&l&&p&&g,$=i.map((function(e){return v(e.params)})),x=o?_(i[0].params[0]):t,S=s?_(i[1].params[0]):t,N=c?_(i[2].params[0]):t,C=l?_(i[3].params[0]):t,T=p?_(i[4].params[0]):t,O=g?_(i[5].params[0]):t,D=o?_(i[0].params[1]):t,k=s?_(i[1].params[1]):t,L=c?_(i[2].params[1]):t,V=l?_(i[3].params[1]):t,z=p?_(i[4].params[1]):t,U=g?_(i[5].params[1]):t,G=i.map((function(e){return function(e,t){var r=t;if(e.some(h)){var n=m(e),a=e.map(A);r=function(){for(var e=[],r=n?arguments.length-1:arguments.length,i=0;i<r;i++)e[i]=a[i](arguments[i]);return n&&(e[r]=arguments[r].map(a[r])),t.apply(this,e)}}var i=r;if(m(e)){var o=e.length-1;i=function(){return r.apply(this,R(arguments,0,o).concat([R(arguments,o)]))}}return i}(e.params,e.fn)})),H=o?G[0]:r,W=s?G[1]:r,Q=c?G[2]:r,Y=l?G[3]:r,K=p?G[4]:r,Z=g?G[5]:r,J=o?i[0].params.length:-1,X=s?i[1].params.length:-1,ee=c?i[2].params.length:-1,te=l?i[3].params.length:-1,re=p?i[4].params.length:-1,ne=g?i[5].params.length:-1,ae=b?6:0,ie=i.length,oe=function(){for(var t=ae;t<ie;t++)if($[t](arguments))return G[t].apply(this,arguments);throw w(e,arguments,i)},se=function e(t,r){return arguments.length===J&&x(t)&&D(r)?H.apply(e,arguments):arguments.length===X&&S(t)&&k(r)?W.apply(e,arguments):arguments.length===ee&&N(t)&&L(r)?Q.apply(e,arguments):arguments.length===te&&C(t)&&V(r)?Y.apply(e,arguments):arguments.length===re&&T(t)&&z(r)?K.apply(e,arguments):arguments.length===ne&&O(t)&&U(r)?Z.apply(e,arguments):oe.apply(e,arguments)};try{Object.defineProperty(se,"name",{value:e})}catch(e){}return se.signatures=function(e){var t={};return e.forEach((function(e){e.params.some(h)||M(e.params,!0).forEach((function(r){t[d(r)]=e.fn}))})),t}(i),se}function O(e){return-1===u.ignore.indexOf(e)}function P(e){return e.trim()}function D(e){return!!e}function I(e){return null!==e}function F(e){return 0===e.types.length}function k(e){return e[e.length-1]}function R(e,t,r){return Array.prototype.slice.call(e,t,r)}function j(e,t){for(var r=0;r<e.length;r++)if(n=t,a=e[r],-1!==n.indexOf(a))return!0;var n,a;return!1}function q(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}function B(e,t){return Array.prototype.concat.apply([],e.map(t))}function L(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(("object"==typeof n.signatures||"string"==typeof n.signature)&&""!==n.name)if(""===t)t=n.name;else if(t!==n.name){var a=new Error("Function names do not match (expected: "+t+", actual: "+n.name+")");throw a.data={actual:n.name,expected:t},a}}return t}function V(e){var t,r={};function n(e,n){if(r.hasOwnProperty(e)&&n!==r[e])throw(t=new Error('Signature "'+e+'" is defined twice')).data={signature:e},t}for(var a=0;a<e.length;a++){var i=e[a];if("object"==typeof i.signatures)for(var o in i.signatures)i.signatures.hasOwnProperty(o)&&(n(o,i.signatures[o]),r[o]=i.signatures[o]);else{if("string"!=typeof i.signature)throw(t=new TypeError("Function is no typed-function (index: "+a+")")).data={index:a},t;n(i.signature,i),r[i.signature]=i}}return r}return(u=T("typed",{"string, Object":T,Object:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return T(L(t),e)},"...Function":function(e){return T(L(e),V(e))},"string, ...Function":function(e,t){return T(e,V(t))}})).create=n,u.types=a,u.conversions=s,u.ignore=o,u.convert=function(e,t){var r=p(e);if(t===r)return e;for(var n=0;n<u.conversions.length;n++){var a=u.conversions[n];if(a.from===r&&a.to===t)return a.convert(e)}throw new Error("Cannot convert from "+r+" to "+t)},u.find=function(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof t){r=t.split(",");for(var n=0;n<r.length;n++)r[n]=r[n].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");r=t}var a=r.join(","),i=e.signatures[a];if(i)return i;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+r.join(", ")+"))")},u.addType=function(e,t){if(!e||"string"!=typeof e.name||"function"!=typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==t)for(var r=0;r<u.types.length;r++)if("Object"===u.types[r].name)return void u.types.splice(r,0,e);u.types.push(e)},u.addConversion=function(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(e)},u}()}()}));function isInteger(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)}var sign=Math.sign||function(e){return e>0?1:e<0?-1:0},log2=Math.log2||function(e){return Math.log(e)/Math.LN2},log10=Math.log10||function(e){return Math.log(e)/Math.LN10},log1p=Math.log1p||function(e){return Math.log(e+1)},cbrt=Math.cbrt||function(e){if(0===e)return e;var t,r=e<0;return r&&(e=-e),t=isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,r?-t:t},expm1=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function format(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var r,n="auto";switch(t&&(t.notation&&(n=t.notation),isNumber(t)?r=t:isNumber(t.precision)&&(r=t.precision)),n){case"fixed":return toFixed(e,r);case"exponential":return toExponential(e,r);case"engineering":return toEngineering(e,r);case"auto":return toPrecision(e,r,t&&t).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function splitNumber(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],a=parseFloat(t[4]||"0"),i=n.indexOf(".");a+=-1!==i?i-1:n.length-1;var o=n.replace(".","").replace(/^0*/,(function(e){return a-=e.length,""})).replace(/0*$/,"").split("").map((function(e){return parseInt(e)}));return 0===o.length&&(o.push(0),a++),{sign:r,coefficients:o,exponent:a}}function toEngineering(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=roundDigits(splitNumber(e),t),n=r.exponent,a=r.coefficients,i=n%3==0?n:n<0?n-3-n%3:n-n%3;if(isNumber(t))for(;t>a.length||n-i+1>a.length;)a.push(0);else for(var o=Math.abs(n-i)-(a.length-1),s=0;s<o;s++)a.push(0);for(var u=Math.abs(n-i),c=1;u>0;)c++,u--;var l=a.slice(c).join(""),p=isNumber(t)&&l.length||l.match(/[1-9]/)?"."+l:"",d=a.slice(0,c).join("")+p+"e"+(n>=0?"+":"")+i.toString();return r.sign+d}function toFixed(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=splitNumber(e),n="number"==typeof t?roundDigits(r,r.exponent+1+t):r,a=n.coefficients,i=n.exponent+1,o=i+(t||0);return a.length<o&&(a=a.concat(zeros(o-a.length))),i<0&&(a=zeros(1-i).concat(a),i=1),i<a.length&&a.splice(i,0,0===i?"0.":"."),n.sign+a.join("")}function toExponential(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=splitNumber(e),n=t?roundDigits(r,t):r,a=n.coefficients,i=n.exponent;a.length<t&&(a=a.concat(zeros(t-a.length)));var o=a.shift();return n.sign+o+(a.length>0?"."+a.join(""):"")+"e"+(i>=0?"+":"")+i}function toPrecision(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=r&&void 0!==r.lowerExp?r.lowerExp:-3,a=r&&void 0!==r.upperExp?r.upperExp:5,i=splitNumber(e),o=t?roundDigits(i,t):i;if(o.exponent<n||o.exponent>=a)return toExponential(e,t);var s=o.coefficients,u=o.exponent;s.length<t&&(s=s.concat(zeros(t-s.length))),s=s.concat(zeros(u-s.length+1+(s.length<t?t-s.length:0)));var c=u>0?u:0;return c<(s=zeros(-u).concat(s)).length-1&&s.splice(c+1,0,"."),o.sign+s.join("")}function roundDigits(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t&&n.splice(t,n.length-t)[0]>=5){var a=t-1;for(n[a]++;10===n[a];)n.pop(),0===a&&(n.unshift(0),r.exponent++,a++),n[--a]++}return r}function zeros(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function digits(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var DBL_EPSILON=Number.EPSILON||2220446049250313e-31;function nearlyEqual(e,t,r){if(null==r)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var n=Math.abs(e-t);return n<DBL_EPSILON||n<=Math.max(Math.abs(e),Math.abs(t))*r}return!1}var acosh=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},asinh=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},atanh=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},cosh=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},sinh=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},tanh=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};function format$1(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var r,n="auto";switch(void 0!==t&&(t.notation&&(n=t.notation),"number"==typeof t?r=t:t.precision&&(r=t.precision)),n){case"fixed":return toFixed$1(e,r);case"exponential":return toExponential$1(e,r);case"engineering":return toEngineering$1(e,r);case"auto":var a=t&&void 0!==t.lowerExp?t.lowerExp:-3,i=t&&void 0!==t.upperExp?t.upperExp:5;if(e.isZero())return"0";var o=e.toSignificantDigits(r),s=o.e;return(s>=a&&s<i?o.toFixed():toExponential$1(e,r)).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}}function toEngineering$1(e,t){var r=e.e,n=r%3==0?r:r<0?r-3-r%3:r-r%3,a=e.mul(Math.pow(10,-n)),i=a.toPrecision(t);return-1!==i.indexOf("e")&&(i=a.toString()),i+"e"+(r>=0?"+":"")+n.toString()}function toExponential$1(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function toFixed$1(e,t){return e.toFixed(t)}function _typeof$2(e){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function endsWith(e,t){var r=e.length-t.length,n=e.length;return e.substring(r,n)===t}function format$2(e,t){return"number"==typeof e?format(e,t):isBigNumber(e)?format$1(e,t):looksLikeFraction(e)?t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d:Array.isArray(e)?formatArray(e,t):isString(e)?'"'+e+'"':"function"==typeof e?e.syntax?String(e.syntax):"function":e&&"object"===_typeof$2(e)?"function"==typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map((function(r){return'"'+r+'": '+format$2(e[r],t)})).join(", ")+"}":String(e)}function stringify(e){for(var t=String(e),r="",n=0;n<t.length;){var a=t.charAt(n);"\\"===a?(r+=a,n++,""!==(a=t.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(a)||(r+="\\"),r+=a):r+='"'===a?'\\"':a,n++}return'"'+r+'"'}function escape(e){var t=String(e);return t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function formatArray(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,a=0;a<n;a++)0!==a&&(r+=", "),r+=formatArray(e[a],t);return r+="]"}return format$2(e,t)}function looksLikeFraction(e){return e&&"object"===_typeof$2(e)&&"number"==typeof e.s&&"number"==typeof e.n&&"number"==typeof e.d||!1}function compareText(e,t){if(!isString(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+typeOf(e)+", index: 0)");if(!isString(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+typeOf(t)+", index: 1)");return e===t?0:e>t?1:-1}function DimensionError(e,t,r){if(!(this instanceof DimensionError))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function IndexError(e,t,r){if(!(this instanceof IndexError))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function arraySize(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function _validate(e,t,r){var n,a=e.length;if(a!==t[r])throw new DimensionError(a,t[r]);if(r<t.length-1){var i=r+1;for(n=0;n<a;n++){var o=e[n];if(!Array.isArray(o))throw new DimensionError(t.length-1,t.length,"<");_validate(e[n],t,i)}}else for(n=0;n<a;n++)if(Array.isArray(e[n]))throw new DimensionError(t.length+1,t.length,">")}function validate(e,t){if(0===t.length){if(Array.isArray(e))throw new DimensionError(e.length,0)}else _validate(e,t,0)}function validateIndex(e,t){if(!isNumber(e)||!isInteger(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new IndexError(e,t)}function resize(e,t,r){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach((function(e){if(!isNumber(e)||!isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+format$2(t)+")")})),_resize(e,t,0,void 0!==r?r:0),e}function _resize(e,t,r,n){var a,i,o=e.length,s=t[r],u=Math.min(o,s);if(e.length=s,r<t.length-1){var c=r+1;for(a=0;a<u;a++)i=e[a],Array.isArray(i)||(i=[i],e[a]=i),_resize(i,t,c,n);for(a=u;a<s;a++)i=[],e[a]=i,_resize(i,t,c,n)}else{for(a=0;a<u;a++)for(;Array.isArray(e[a]);)e[a]=e[a][0];for(a=u;a<s;a++)e[a]=n}}function reshape(e,t){var r,n=flatten(e);function a(e){return e.reduce((function(e,t){return e*t}))}if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new DimensionError(0,a(arraySize(e)),"!=");for(var i=1,o=0;o<t.length;o++)i*=t[o];if(n.length!==i)throw new DimensionError(a(t),a(arraySize(e)),"!=");try{r=_reshape(n,t)}catch(r){if(r instanceof DimensionError)throw new DimensionError(a(t),a(arraySize(e)),"!=");throw r}return r}function _reshape(e,t){for(var r,n=e,a=t.length-1;a>0;a--){var i=t[a];r=[];for(var o=n.length/i,s=0;s<o;s++)r.push(n.slice(s*i,(s+1)*i));n=r}return n}function squeeze(e,t){for(var r=t||arraySize(e);Array.isArray(e)&&1===e.length;)e=e[0],r.shift();for(var n=r.length;1===r[n-1];)n--;return n<r.length&&(e=_squeeze(e,n,0),r.length=n),e}function _squeeze(e,t,r){var n,a;if(r<t){var i=r+1;for(n=0,a=e.length;n<a;n++)e[n]=_squeeze(e[n],t,i)}else for(;Array.isArray(e);)e=e[0];return e}function unsqueeze(e,t,r,n){var a=n||arraySize(e);if(r)for(var i=0;i<r;i++)e=[e],a.unshift(1);for(e=_unsqueeze(e,t,0);a.length<t;)a.push(1);return e}function _unsqueeze(e,t,r){var n,a;if(Array.isArray(e)){var i=r+1;for(n=0,a=e.length;n<a;n++)e[n]=_unsqueeze(e[n],t,i)}else for(var o=r;o<t;o++)e=[e];return e}function flatten(e){if(!Array.isArray(e))return e;var t=[];return e.forEach((function e(r){Array.isArray(r)?r.forEach(e):t.push(r)})),t}function map(e,t){return Array.prototype.map.call(e,t)}function forEach(e,t){Array.prototype.forEach.call(e,t)}function filter(e,t){if(1!==arraySize(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)}function filterRegExp(e,t){if(1!==arraySize(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,(function(e){return t.test(e)}))}function join(e,t){return Array.prototype.join.call(e,t)}function identify(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;var t=[],r=0;t[0]={value:e[0],identifier:0};for(var n=1;n<e.length;n++)e[n]===e[n-1]?r++:r=0,t.push({value:e[n],identifier:r});return t}function generalize(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;for(var t=[],r=0;r<e.length;r++)t.push(e[r].value);return t}function getArrayDataType(e,t){for(var r,n=0,a=0;a<e.length;a++){var i=e[a],o=Array.isArray(i);if(0===a&&o&&(n=i.length),o&&i.length!==n)return;var s=o?getArrayDataType(i,t):t(i);if(void 0===r)r=s;else if(r!==s)return"mixed"}return r}function factory(e,t,r,n){function a(n){var a=pickShallow(n,t.map(stripOptionalNotation));return assertDependencies(e,t,n),r(a)}return a.isFactory=!0,a.fn=e,a.dependencies=t.slice().sort(),n&&(a.meta=n),a}function assertDependencies(e,t,r){if(!t.filter((function(e){return!isOptionalDependency(e)})).every((function(e){return void 0!==r[e]}))){var n=t.filter((function(e){return void 0===r[e]}));throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(n.map((function(e){return'"'.concat(e,'"')})).join(", "),"."))}}function isOptionalDependency(e){return e&&"?"===e[0]}function stripOptionalNotation(e){return e&&"?"===e[0]?e.slice(1):e}DimensionError.prototype=new RangeError,DimensionError.prototype.constructor=RangeError,DimensionError.prototype.name="DimensionError",DimensionError.prototype.isDimensionError=!0,IndexError.prototype=new RangeError,IndexError.prototype.constructor=RangeError,IndexError.prototype.name="IndexError",IndexError.prototype.isIndexError=!0;var _createTyped2=function(){return _createTyped2=typedFunction.create,typedFunction},dependencies=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],createTyped=factory("typed",dependencies,(function(e){var t=e.BigNumber,r=e.Complex,n=e.DenseMatrix,a=e.Fraction,i=_createTyped2();return i.types=[{name:"number",test:isNumber},{name:"Complex",test:isComplex},{name:"BigNumber",test:isBigNumber},{name:"Fraction",test:isFraction},{name:"Unit",test:isUnit},{name:"string",test:isString},{name:"Chain",test:isChain},{name:"Array",test:isArray},{name:"Matrix",test:isMatrix},{name:"DenseMatrix",test:isDenseMatrix},{name:"SparseMatrix",test:isSparseMatrix},{name:"Range",test:isRange},{name:"Index",test:isIndex},{name:"boolean",test:isBoolean},{name:"ResultSet",test:isResultSet},{name:"Help",test:isHelp},{name:"function",test:isFunction},{name:"Date",test:isDate},{name:"RegExp",test:isRegExp},{name:"null",test:isNull},{name:"undefined",test:isUndefined},{name:"AccessorNode",test:isAccessorNode},{name:"ArrayNode",test:isArrayNode},{name:"AssignmentNode",test:isAssignmentNode},{name:"BlockNode",test:isBlockNode},{name:"ConditionalNode",test:isConditionalNode},{name:"ConstantNode",test:isConstantNode},{name:"FunctionNode",test:isFunctionNode},{name:"FunctionAssignmentNode",test:isFunctionAssignmentNode},{name:"IndexNode",test:isIndexNode},{name:"Node",test:isNode},{name:"ObjectNode",test:isObjectNode},{name:"OperatorNode",test:isOperatorNode},{name:"ParenthesisNode",test:isParenthesisNode},{name:"RangeNode",test:isRangeNode},{name:"SymbolNode",test:isSymbolNode},{name:"Object",test:isObject}],i.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(t||throwNoBignumber(e),digits(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return r||throwNoComplex(e),new r(e,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(e){return r||throwNoComplex(e),new r(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return r||throwNoComplex(e),new r(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){a||throwNoFraction(e);var t=new a(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||throwNoBignumber(e);try{return new t(e)}catch(t){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){a||throwNoFraction(e);try{return new a(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){r||throwNoComplex(e);try{return new r(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||throwNoBignumber(e),new t(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return a||throwNoFraction(e),new a(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return n||throwNoMatrix(),new n(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],i}));function throwNoBignumber(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function throwNoComplex(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function throwNoMatrix(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function throwNoFraction(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var inexact,quadrant,name="ResultSet",dependencies$1=[],createResultSet=factory(name,dependencies$1,(function(){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(t){return new e(t.entries)},e}),{isClass:!0}),EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-EXP_LIMIT,maxE:EXP_LIMIT,crypto:!1},external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,LN10_PRECISION=LN10.length-1,PI_PRECISION=PI.length-1,P={name:"[object Decimal]"};function digitsToString(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",(r=LOG_BASE-n.length)&&(i+=getZeroString(r)),i+=n;o=e[t],(r=LOG_BASE-(n=o+"").length)&&(i+=getZeroString(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return i+o}function checkInt32(e,t,r){if(e!==~~e||e<t||e>r)throw Error(invalidArgument+e)}function checkRoundingDigits(e,t,r,n){var a,i,o,s;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=LOG_BASE,a=0):(a=Math.ceil((t+1)/LOG_BASE),t%=LOG_BASE),i=mathpow(10,LOG_BASE-t),s=e[a]%i|0,null==n?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),o=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):o=(r<4&&s+1==i||r>3&&s+1==i/2)&&(e[a+1]/i/100|0)==mathpow(10,t-2)-1||(s==i/2||0==s)&&0==(e[a+1]/i/100|0):t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),o=(n||r<4)&&9999==s||!n&&r>3&&4999==s):o=((n||r<4)&&s+1==i||!n&&r>3&&s+1==i/2)&&(e[a+1]/i/1e3|0)==mathpow(10,t-3)-1,o}function convertBase(e,t,r){for(var n,a,i=[0],o=0,s=e.length;o<s;){for(a=i.length;a--;)i[a]*=t;for(i[0]+=NUMERALS.indexOf(e.charAt(o++)),n=0;n<i.length;n++)i[n]>r-1&&(void 0===i[n+1]&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function cosine(e,t){var r,n,a=t.d.length;a<32?n=(1/tinyPow(4,r=Math.ceil(a/3))).toString():(r=16,n="2.3283064365386962890625e-10"),e.precision+=r,t=taylorSeries(e,1,t.times(n),new e(1));for(var i=r;i--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}P.absoluteValue=P.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),finalise(e)},P.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)},P.comparedTo=P.cmp=function(e){var t,r,n,a,i=this,o=i.d,s=(e=new i.constructor(e)).d,u=i.s,c=e.s;if(!o||!s)return u&&c?u!==c?u:o===s?0:!o^u<0?1:-1:NaN;if(!o[0]||!s[0])return o[0]?u:s[0]?-c:0;if(u!==c)return u;if(i.e!==e.e)return i.e>e.e^u<0?1:-1;for(t=0,r=(n=o.length)<(a=s.length)?n:a;t<r;++t)if(o[t]!==s[t])return o[t]>s[t]^u<0?1:-1;return n===a?0:n>a^u<0?1:-1},P.cosine=P.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+LOG_BASE,n.rounding=1,r=cosine(n,toLessThanHalfPi(n,r)),n.precision=e,n.rounding=t,finalise(2==quadrant||3==quadrant?r.neg():r,e,t,!0)):new n(1):new n(NaN)},P.cubeRoot=P.cbrt=function(){var e,t,r,n,a,i,o,s,u,c,l=this,p=l.constructor;if(!l.isFinite()||l.isZero())return new p(l);for(external=!1,(i=l.s*mathpow(l.s*l,1/3))&&Math.abs(i)!=1/0?n=new p(i.toString()):(r=digitsToString(l.d),(i=((e=l.e)-r.length+1)%3)&&(r+=1==i||-2==i?"0":"00"),i=mathpow(r,1/3),e=mathfloor((e+1)/3)-(e%3==(e<0?-1:2)),(n=new p(r=i==1/0?"5e"+e:(r=i.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=l.s),o=(e=p.precision)+3;;)if(c=(u=(s=n).times(s).times(s)).plus(l),n=divide(c.plus(l).times(s),c.plus(u),o+2,1),digitsToString(s.d).slice(0,o)===(r=digitsToString(n.d)).slice(0,o)){if("9999"!=(r=r.slice(o-3,o+1))&&(a||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(finalise(n,e+1,1),t=!n.times(n).times(n).eq(l));break}if(!a&&(finalise(s,e+1,0),s.times(s).times(s).eq(l))){n=s;break}o+=4,a=1}return external=!0,finalise(n,e,p.rounding,t)},P.decimalPlaces=P.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-mathfloor(this.e/LOG_BASE))*LOG_BASE,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},P.dividedBy=P.div=function(e){return divide(this,new this.constructor(e))},P.dividedToIntegerBy=P.divToInt=function(e){var t=this.constructor;return finalise(divide(this,new t(e),0,1,1),t.precision,t.rounding)},P.equals=P.eq=function(e){return 0===this.cmp(e)},P.floor=function(){return finalise(new this.constructor(this),this.e+1,3)},P.greaterThan=P.gt=function(e){return this.cmp(e)>0},P.greaterThanOrEqualTo=P.gte=function(e){var t=this.cmp(e);return 1==t||0===t},P.hyperbolicCosine=P.cosh=function(){var e,t,r,n,a,i=this,o=i.constructor,s=new o(1);if(!i.isFinite())return new o(i.s?1/0:NaN);if(i.isZero())return s;r=o.precision,n=o.rounding,o.precision=r+Math.max(i.e,i.sd())+4,o.rounding=1,(a=i.d.length)<32?t=(1/tinyPow(4,e=Math.ceil(a/3))).toString():(e=16,t="2.3283064365386962890625e-10"),i=taylorSeries(o,1,i.times(t),new o(1),!0);for(var u,c=e,l=new o(8);c--;)u=i.times(i),i=s.minus(u.times(l.minus(u.times(l))));return finalise(i,o.precision=r,o.rounding=n,!0)},P.hyperbolicSine=P.sinh=function(){var e,t,r,n,a=this,i=a.constructor;if(!a.isFinite()||a.isZero())return new i(a);if(t=i.precision,r=i.rounding,i.precision=t+Math.max(a.e,a.sd())+4,i.rounding=1,(n=a.d.length)<3)a=taylorSeries(i,2,a,a,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,a=taylorSeries(i,2,a=a.times(1/tinyPow(5,e)),a,!0);for(var o,s=new i(5),u=new i(16),c=new i(20);e--;)o=a.times(a),a=a.times(s.plus(o.times(u.times(o).plus(c))))}return i.precision=t,i.rounding=r,finalise(a,t,r,!0)},P.hyperbolicTangent=P.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,divide(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)},P.inverseCosine=P.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),a=r.precision,i=r.rounding;return-1!==n?0===n?t.isNeg()?getPi(r,a,i):new r(0):new r(NaN):t.isZero()?getPi(r,a+4,i).times(.5):(r.precision=a+6,r.rounding=1,t=t.asin(),e=getPi(r,a+4,i).times(.5),r.precision=a,r.rounding=i,e.minus(t))},P.inverseHyperbolicCosine=P.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,external=!1,r=r.times(r).minus(1).sqrt().plus(r),external=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},P.inverseHyperbolicSine=P.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,external=!1,r=r.times(r).plus(1).sqrt().plus(r),external=!0,n.precision=e,n.rounding=t,r.ln())},P.inverseHyperbolicTangent=P.atanh=function(){var e,t,r,n,a=this,i=a.constructor;return a.isFinite()?a.e>=0?new i(a.abs().eq(1)?a.s/0:a.isZero()?a:NaN):(e=i.precision,t=i.rounding,n=a.sd(),Math.max(n,e)<2*-a.e-1?finalise(new i(a),e,t,!0):(i.precision=r=n-a.e,a=divide(a.plus(1),new i(1).minus(a),r+e,1),i.precision=e+4,i.rounding=1,a=a.ln(),i.precision=e,i.rounding=t,a.times(.5))):new i(NaN)},P.inverseSine=P.asin=function(){var e,t,r,n,a=this,i=a.constructor;return a.isZero()?new i(a):(t=a.abs().cmp(1),r=i.precision,n=i.rounding,-1!==t?0===t?((e=getPi(i,r+4,n).times(.5)).s=a.s,e):new i(NaN):(i.precision=r+6,i.rounding=1,a=a.div(new i(1).minus(a.times(a)).sqrt().plus(1)).atan(),i.precision=r,i.rounding=n,a.times(2)))},P.inverseTangent=P.atan=function(){var e,t,r,n,a,i,o,s,u,c=this,l=c.constructor,p=l.precision,d=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&p+4<=PI_PRECISION)return(o=getPi(l,p+4,d).times(.25)).s=c.s,o}else{if(!c.s)return new l(NaN);if(p+4<=PI_PRECISION)return(o=getPi(l,p+4,d).times(.5)).s=c.s,o}for(l.precision=s=p+10,l.rounding=1,e=r=Math.min(28,s/LOG_BASE+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(external=!1,t=Math.ceil(s/LOG_BASE),n=1,u=c.times(c),o=new l(c),a=c;-1!==e;)if(a=a.times(u),i=o.minus(a.div(n+=2)),a=a.times(u),void 0!==(o=i.plus(a.div(n+=2))).d[t])for(e=t;o.d[e]===i.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),external=!0,finalise(o,l.precision=p,l.rounding=d,!0)},P.isFinite=function(){return!!this.d},P.isInteger=P.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2},P.isNaN=function(){return!this.s},P.isNegative=P.isNeg=function(){return this.s<0},P.isPositive=P.isPos=function(){return this.s>0},P.isZero=function(){return!!this.d&&0===this.d[0]},P.lessThan=P.lt=function(e){return this.cmp(e)<0},P.lessThanOrEqualTo=P.lte=function(e){return this.cmp(e)<1},P.logarithm=P.log=function(e){var t,r,n,a,i,o,s,u,c=this.constructor,l=c.precision,p=c.rounding;if(null==e)e=new c(10),t=!0;else{if(r=(e=new c(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new c(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(a=r[0];a%10==0;)a/=10;i=1!==a}if(external=!1,o=naturalLogarithm(this,s=l+5),n=t?getLn10(c,s+10):naturalLogarithm(e,s),checkRoundingDigits((u=divide(o,n,s,1)).d,a=l,p))do{if(o=naturalLogarithm(this,s+=10),n=t?getLn10(c,s+10):naturalLogarithm(e,s),u=divide(o,n,s,1),!i){+digitsToString(u.d).slice(a+1,a+15)+1==1e14&&(u=finalise(u,l+1,0));break}}while(checkRoundingDigits(u.d,a+=10,p));return external=!0,finalise(u,l,p)},P.minus=P.sub=function(e){var t,r,n,a,i,o,s,u,c,l,p,d,f=this,m=f.constructor;if(e=new m(e),!f.d||!e.d)return f.s&&e.s?f.d?e.s=-e.s:e=new m(e.d||f.s!==e.s?f:NaN):e=new m(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.plus(e);if(c=f.d,d=e.d,s=m.precision,u=m.rounding,!c[0]||!d[0]){if(d[0])e.s=-e.s;else{if(!c[0])return new m(3===u?-0:0);e=new m(f)}return external?finalise(e,s,u):e}if(r=mathfloor(e.e/LOG_BASE),l=mathfloor(f.e/LOG_BASE),c=c.slice(),i=l-r){for((p=i<0)?(t=c,i=-i,o=d.length):(t=d,r=l,o=c.length),i>(n=Math.max(Math.ceil(s/LOG_BASE),o)+2)&&(i=n,t.length=1),t.reverse(),n=i;n--;)t.push(0);t.reverse()}else{for((p=(n=c.length)<(o=d.length))&&(o=n),n=0;n<o;n++)if(c[n]!=d[n]){p=c[n]<d[n];break}i=0}for(p&&(t=c,c=d,d=t,e.s=-e.s),o=c.length,n=d.length-o;n>0;--n)c[o++]=0;for(n=d.length;n>i;){if(c[--n]<d[n]){for(a=n;a&&0===c[--a];)c[a]=BASE-1;--c[a],c[n]+=BASE}c[n]-=d[n]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=getBase10Exponent(c,r),external?finalise(e,s,u):e):new m(3===u?-0:0)},P.modulo=P.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?finalise(new n(r),n.precision,n.rounding):(external=!1,9==n.modulo?(t=divide(r,e.abs(),0,3,1)).s*=e.s:t=divide(r,e,0,n.modulo,1),t=t.times(e),external=!0,r.minus(t))},P.naturalExponential=P.exp=function(){return naturalExponential(this)},P.naturalLogarithm=P.ln=function(){return naturalLogarithm(this)},P.negated=P.neg=function(){var e=new this.constructor(this);return e.s=-e.s,finalise(e)},P.plus=P.add=function(e){var t,r,n,a,i,o,s,u,c,l,p=this,d=p.constructor;if(e=new d(e),!p.d||!e.d)return p.s&&e.s?p.d||(e=new d(e.d||p.s===e.s?p:NaN)):e=new d(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.minus(e);if(c=p.d,l=e.d,s=d.precision,u=d.rounding,!c[0]||!l[0])return l[0]||(e=new d(p)),external?finalise(e,s,u):e;if(i=mathfloor(p.e/LOG_BASE),n=mathfloor(e.e/LOG_BASE),c=c.slice(),a=i-n){for(a<0?(r=c,a=-a,o=l.length):(r=l,n=i,o=c.length),a>(o=(i=Math.ceil(s/LOG_BASE))>o?i+1:o+1)&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((o=c.length)-(a=l.length)<0&&(a=o,r=l,l=c,c=r),t=0;a;)t=(c[--a]=c[a]+l[a]+t)/BASE|0,c[a]%=BASE;for(t&&(c.unshift(t),++n),o=c.length;0==c[--o];)c.pop();return e.d=c,e.e=getBase10Exponent(c,n),external?finalise(e,s,u):e},P.precision=P.sd=function(e){var t,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(invalidArgument+e);return r.d?(t=getPrecision(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t},P.round=function(){var e=this,t=e.constructor;return finalise(new t(e),e.e+1,t.rounding)},P.sine=P.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+LOG_BASE,n.rounding=1,r=sine(n,toLessThanHalfPi(n,r)),n.precision=e,n.rounding=t,finalise(quadrant>2?r.neg():r,e,t,!0)):new n(NaN)},P.squareRoot=P.sqrt=function(){var e,t,r,n,a,i,o=this,s=o.d,u=o.e,c=o.s,l=o.constructor;if(1!==c||!s||!s[0])return new l(!c||c<0&&(!s||s[0])?NaN:s?o:1/0);for(external=!1,0==(c=Math.sqrt(+o))||c==1/0?(((t=digitsToString(s)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=mathfloor((u+1)/2)-(u<0||u%2),n=new l(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new l(c.toString()),r=(u=l.precision)+3;;)if(n=(i=n).plus(divide(o,i,r+2,1)).times(.5),digitsToString(i.d).slice(0,r)===(t=digitsToString(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(a||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(finalise(n,u+1,1),e=!n.times(n).eq(o));break}if(!a&&(finalise(i,u+1,0),i.times(i).eq(o))){n=i;break}r+=4,a=1}return external=!0,finalise(n,u,l.rounding,e)},P.tangent=P.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=divide(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,finalise(2==quadrant||4==quadrant?r.neg():r,e,t,!0)):new n(NaN)},P.times=P.mul=function(e){var t,r,n,a,i,o,s,u,c,l=this,p=l.constructor,d=l.d,f=(e=new p(e)).d;if(e.s*=l.s,!(d&&d[0]&&f&&f[0]))return new p(!e.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:d&&f?0*e.s:e.s/0);for(r=mathfloor(l.e/LOG_BASE)+mathfloor(e.e/LOG_BASE),(u=d.length)<(c=f.length)&&(i=d,d=f,f=i,o=u,u=c,c=o),i=[],n=o=u+c;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=u+n;a>n;)s=i[a]+f[n]*d[a-n-1]+t,i[a--]=s%BASE|0,t=s/BASE|0;i[a]=(i[a]+t)%BASE|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=getBase10Exponent(i,r),external?finalise(e,p.precision,p.rounding):e},P.toBinary=function(e,t){return toStringBinary(this,2,e,t)},P.toDecimalPlaces=P.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(checkInt32(e,0,MAX_DIGITS),void 0===t?t=n.rounding:checkInt32(t,0,8),finalise(r,e+r.e+1,t))},P.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=finiteToString(n,!0):(checkInt32(e,0,MAX_DIGITS),void 0===t?t=a.rounding:checkInt32(t,0,8),r=finiteToString(n=finalise(new a(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},P.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return void 0===e?r=finiteToString(a):(checkInt32(e,0,MAX_DIGITS),void 0===t?t=i.rounding:checkInt32(t,0,8),r=finiteToString(n=finalise(new i(a),e+a.e+1,t),!1,e+n.e+1)),a.isNeg()&&!a.isZero()?"-"+r:r},P.toFraction=function(e){var t,r,n,a,i,o,s,u,c,l,p,d,f=this,m=f.d,h=f.constructor;if(!m)return new h(f);if(c=r=new h(1),n=u=new h(0),o=(i=(t=new h(n)).e=getPrecision(m)-f.e-1)%LOG_BASE,t.d[0]=mathpow(10,o<0?LOG_BASE+o:o),null==e)e=i>0?t:c;else{if(!(s=new h(e)).isInt()||s.lt(c))throw Error(invalidArgument+s);e=s.gt(t)?i>0?t:c:s}for(external=!1,s=new h(digitsToString(m)),l=h.precision,h.precision=i=m.length*LOG_BASE*2;p=divide(s,t,0,1,1),1!=(a=r.plus(p.times(n))).cmp(e);)r=n,n=a,a=c,c=u.plus(p.times(a)),u=a,a=t,t=s.minus(p.times(a)),s=a;return a=divide(e.minus(r),n,0,1,1),u=u.plus(a.times(c)),r=r.plus(a.times(n)),u.s=c.s=f.s,d=divide(c,n,i,1).minus(f).abs().cmp(divide(u,r,i,1).minus(f).abs())<1?[c,n]:[u,r],h.precision=l,external=!0,d},P.toHexadecimal=P.toHex=function(e,t){return toStringBinary(this,16,e,t)},P.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:checkInt32(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(external=!1,r=divide(r,e,0,t,1).times(e),external=!0,finalise(r)):(e.s=r.s,r=e),r},P.toNumber=function(){return+this},P.toOctal=function(e,t){return toStringBinary(this,8,e,t)},P.toPower=P.pow=function(e){var t,r,n,a,i,o,s=this,u=s.constructor,c=+(e=new u(e));if(!(s.d&&e.d&&s.d[0]&&e.d[0]))return new u(mathpow(+s,c));if((s=new u(s)).eq(1))return s;if(n=u.precision,i=u.rounding,e.eq(1))return finalise(s,n,i);if((t=mathfloor(e.e/LOG_BASE))>=e.d.length-1&&(r=c<0?-c:c)<=MAX_SAFE_INTEGER)return a=intPow(u,s,r,n),e.s<0?new u(1).div(a):finalise(a,n,i);if((o=s.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(t=0!=(r=mathpow(+s,c))&&isFinite(r)?new u(r+"").e:mathfloor(c*(Math.log("0."+digitsToString(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?o/0:0):(external=!1,u.rounding=s.s=1,r=Math.min(12,(t+"").length),(a=naturalExponential(e.times(naturalLogarithm(s,n+r)),n)).d&&checkRoundingDigits((a=finalise(a,n+5,1)).d,n,i)&&(t=n+10,+digitsToString((a=finalise(naturalExponential(e.times(naturalLogarithm(s,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(a=finalise(a,n+1,0))),a.s=o,external=!0,u.rounding=i,finalise(a,n,i))},P.toPrecision=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=finiteToString(n,n.e<=a.toExpNeg||n.e>=a.toExpPos):(checkInt32(e,1,MAX_DIGITS),void 0===t?t=a.rounding:checkInt32(t,0,8),r=finiteToString(n=finalise(new a(n),e,t),e<=n.e||n.e<=a.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},P.toSignificantDigits=P.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(checkInt32(e,1,MAX_DIGITS),void 0===t?t=r.rounding:checkInt32(t,0,8)),finalise(new r(this),e,t)},P.toString=function(){var e=this,t=e.constructor,r=finiteToString(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r},P.truncated=P.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)},P.valueOf=P.toJSON=function(){var e=this,t=e.constructor,r=finiteToString(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};var divide=function(){function e(e,t,r){var n,a=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+a,e[i]=n%r|0,a=n/r|0;return a&&e.unshift(a),e}function t(e,t,r,n){var a,i;if(r!=n)i=r>n?1:-1;else for(a=i=0;a<r;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function r(e,t,r,n){for(var a=0;r--;)e[r]-=a,a=e[r]<t[r]?1:0,e[r]=a*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,i,o,s,u){var c,l,p,d,f,m,h,_,v,g,y,b,$,x,w,S,N,C,E,A,M=n.constructor,T=n.s==a.s?1:-1,O=n.d,P=a.d;if(!(O&&O[0]&&P&&P[0]))return new M(n.s&&a.s&&(O?!P||O[0]!=P[0]:P)?O&&0==O[0]||!P?0*T:T/0:NaN);for(u?(f=1,l=n.e-a.e):(u=BASE,f=LOG_BASE,l=mathfloor(n.e/f)-mathfloor(a.e/f)),E=P.length,N=O.length,g=(v=new M(T)).d=[],p=0;P[p]==(O[p]||0);p++);if(P[p]>(O[p]||0)&&l--,null==i?(x=i=M.precision,o=M.rounding):x=s?i+(n.e-a.e)+1:i,x<0)g.push(1),m=!0;else{if(x=x/f+2|0,p=0,1==E){for(d=0,P=P[0],x++;(p<N||d)&&x--;p++)w=d*u+(O[p]||0),g[p]=w/P|0,d=w%P|0;m=d||p<N}else{for((d=u/(P[0]+1)|0)>1&&(P=e(P,d,u),O=e(O,d,u),E=P.length,N=O.length),S=E,b=(y=O.slice(0,E)).length;b<E;)y[b++]=0;(A=P.slice()).unshift(0),C=P[0],P[1]>=u/2&&++C;do{d=0,(c=t(P,y,E,b))<0?($=y[0],E!=b&&($=$*u+(y[1]||0)),(d=$/C|0)>1?(d>=u&&(d=u-1),1==(c=t(h=e(P,d,u),y,_=h.length,b=y.length))&&(d--,r(h,E<_?A:P,_,u))):(0==d&&(c=d=1),h=P.slice()),(_=h.length)<b&&h.unshift(0),r(y,h,b,u),-1==c&&(c=t(P,y,E,b=y.length))<1&&(d++,r(y,E<b?A:P,b,u)),b=y.length):0===c&&(d++,y=[0]),g[p++]=d,c&&y[0]?y[b++]=O[S]||0:(y=[O[S]],b=1)}while((S++<N||void 0!==y[0])&&x--);m=void 0!==y[0]}g[0]||g.shift()}if(1==f)v.e=l,inexact=m;else{for(p=1,d=g[0];d>=10;d/=10)p++;v.e=p+l*f-1,finalise(v,s?i+v.e+1:i,o,m)}return v}}();function finalise(e,t,r,n){var a,i,o,s,u,c,l,p,d,f=e.constructor;e:if(null!=t){if(!(p=e.d))return e;for(a=1,s=p[0];s>=10;s/=10)a++;if((i=t-a)<0)i+=LOG_BASE,o=t,u=(l=p[d=0])/mathpow(10,a-o-1)%10|0;else if((d=Math.ceil((i+1)/LOG_BASE))>=(s=p.length)){if(!n)break e;for(;s++<=d;)p.push(0);l=u=0,a=1,o=(i%=LOG_BASE)-LOG_BASE+1}else{for(l=s=p[d],a=1;s>=10;s/=10)a++;u=(o=(i%=LOG_BASE)-LOG_BASE+a)<0?0:l/mathpow(10,a-o-1)%10|0}if(n=n||t<0||void 0!==p[d+1]||(o<0?l:l%mathpow(10,a-o-1)),c=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(i>0?o>0?l/mathpow(10,a-o):0:p[d-1])%10&1||r==(e.s<0?8:7)),t<1||!p[0])return p.length=0,c?(t-=e.e+1,p[0]=mathpow(10,(LOG_BASE-t%LOG_BASE)%LOG_BASE),e.e=-t||0):p[0]=e.e=0,e;if(0==i?(p.length=d,s=1,d--):(p.length=d+1,s=mathpow(10,LOG_BASE-i),p[d]=o>0?(l/mathpow(10,a-o)%mathpow(10,o)|0)*s:0),c)for(;;){if(0==d){for(i=1,o=p[0];o>=10;o/=10)i++;for(o=p[0]+=s,s=1;o>=10;o/=10)s++;i!=s&&(e.e++,p[0]==BASE&&(p[0]=1));break}if(p[d]+=s,p[d]!=BASE)break;p[d--]=0,s=1}for(i=p.length;0===p[--i];)p.pop()}return external&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function finiteToString(e,t,r){if(!e.isFinite())return nonFiniteToString(e);var n,a=e.e,i=digitsToString(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+getZeroString(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):a<0?(i="0."+getZeroString(-a-1)+i,r&&(n=r-o)>0&&(i+=getZeroString(n))):a>=o?(i+=getZeroString(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+getZeroString(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=getZeroString(n))),i}function getBase10Exponent(e,t){var r=e[0];for(t*=LOG_BASE;r>=10;r/=10)t++;return t}function getLn10(e,t,r){if(t>LN10_PRECISION)throw external=!0,r&&(e.precision=r),Error(precisionLimitExceeded);return finalise(new e(LN10),t,1,!0)}function getPi(e,t,r){if(t>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new e(PI),t,r,!0)}function getPrecision(e){var t=e.length-1,r=t*LOG_BASE+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function getZeroString(e){for(var t="";e--;)t+="0";return t}function intPow(e,t,r,n){var a,i=new e(1),o=Math.ceil(n/LOG_BASE+4);for(external=!1;;){if(r%2&&truncate((i=i.times(t)).d,o)&&(a=!0),0===(r=mathfloor(r/2))){r=i.d.length-1,a&&0===i.d[r]&&++i.d[r];break}truncate((t=t.times(t)).d,o)}return external=!0,i}function isOdd(e){return 1&e.d[e.d.length-1]}function maxOrMin(e,t,r){for(var n,a=new e(t[0]),i=0;++i<t.length;){if(!(n=new e(t[i])).s){a=n;break}a[r](n)&&(a=n)}return a}function naturalExponential(e,t){var r,n,a,i,o,s,u,c=0,l=0,p=0,d=e.constructor,f=d.rounding,m=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(external=!1,u=m):u=t,s=new d(.03125);e.e>-2;)e=e.times(s),p+=5;for(u+=n=Math.log(mathpow(2,p))/Math.LN10*2+5|0,r=i=o=new d(1),d.precision=u;;){if(i=finalise(i.times(e),u,1),r=r.times(++l),digitsToString((s=o.plus(divide(i,r,u,1))).d).slice(0,u)===digitsToString(o.d).slice(0,u)){for(a=p;a--;)o=finalise(o.times(o),u,1);if(null!=t)return d.precision=m,o;if(!(c<3&&checkRoundingDigits(o.d,u-n,f,c)))return finalise(o,d.precision=m,f,external=!0);d.precision=u+=10,r=i=s=new d(1),l=0,c++}o=s}}function naturalLogarithm(e,t){var r,n,a,i,o,s,u,c,l,p,d,f=1,m=e,h=m.d,_=m.constructor,v=_.rounding,g=_.precision;if(m.s<0||!h||!h[0]||!m.e&&1==h[0]&&1==h.length)return new _(h&&!h[0]?-1/0:1!=m.s?NaN:h?0:m);if(null==t?(external=!1,l=g):l=t,_.precision=l+=10,n=(r=digitsToString(h)).charAt(0),!(Math.abs(i=m.e)<15e14))return c=getLn10(_,l+2,g).times(i+""),m=naturalLogarithm(new _(n+"."+r.slice(1)),l-10).plus(c),_.precision=g,null==t?finalise(m,g,v,external=!0):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=digitsToString((m=m.times(e)).d)).charAt(0),f++;for(i=m.e,n>1?(m=new _("0."+r),i++):m=new _(n+"."+r.slice(1)),p=m,u=o=m=divide(m.minus(1),m.plus(1),l,1),d=finalise(m.times(m),l,1),a=3;;){if(o=finalise(o.times(d),l,1),digitsToString((c=u.plus(divide(o,new _(a),l,1))).d).slice(0,l)===digitsToString(u.d).slice(0,l)){if(u=u.times(2),0!==i&&(u=u.plus(getLn10(_,l+2,g).times(i+""))),u=divide(u,new _(f),l,1),null!=t)return _.precision=g,u;if(!checkRoundingDigits(u.d,l-10,v,s))return finalise(u,_.precision=g,v,external=!0);_.precision=l+=10,c=o=m=divide(p.minus(1),p.plus(1),l,1),d=finalise(m.times(m),l,1),a=s=1}u=c,a+=2}}function nonFiniteToString(e){return String(e.s*e.s/0)}function parseDecimal(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(a=t.length;48===t.charCodeAt(a-1);--a);if(t=t.slice(n,a)){if(a-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%LOG_BASE,r<0&&(n+=LOG_BASE),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=LOG_BASE;n<a;)e.d.push(+t.slice(n,n+=LOG_BASE));t=t.slice(n),n=LOG_BASE-t.length}else n-=a;for(;n--;)t+="0";e.d.push(+t),external&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function parseOther(e,t){var r,n,a,i,o,s,u,c,l;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(isHex.test(t))r=16,t=t.toLowerCase();else if(isBinary.test(t))r=2;else{if(!isOctal.test(t))throw Error(invalidArgument+t);r=8}for((i=t.search(/p/i))>0?(u=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),o=(i=t.indexOf("."))>=0,n=e.constructor,o&&(i=(s=(t=t.replace(".","")).length)-i,a=intPow(n,new n(r),i,2*i)),i=l=(c=convertBase(t,r,BASE)).length-1;0===c[i];--i)c.pop();return i<0?new n(0*e.s):(e.e=getBase10Exponent(c,l),e.d=c,external=!1,o&&(e=divide(e,a,4*s)),u&&(e=e.times(Math.abs(u)<54?mathpow(2,u):Decimal.pow(2,u))),external=!0,e)}function sine(e,t){var r,n=t.d.length;if(n<3)return taylorSeries(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=taylorSeries(e,2,t=t.times(1/tinyPow(5,r)),t);for(var a,i=new e(5),o=new e(16),s=new e(20);r--;)a=t.times(t),t=t.times(i.plus(a.times(o.times(a).minus(s))));return t}function taylorSeries(e,t,r,n,a){var i,o,s,u,c=e.precision,l=Math.ceil(c/LOG_BASE);for(external=!1,u=r.times(r),s=new e(n);;){if(o=divide(s.times(u),new e(t++*t++),c,1),s=a?n.plus(o):n.minus(o),n=divide(o.times(u),new e(t++*t++),c,1),void 0!==(o=s.plus(n)).d[l]){for(i=l;o.d[i]===s.d[i]&&i--;);if(-1==i)break}i=s,s=n,n=o,o=i}return external=!0,o.d.length=l+1,o}function tinyPow(e,t){for(var r=e;--t;)r*=e;return r}function toLessThanHalfPi(e,t){var r,n=t.s<0,a=getPi(e,e.precision,1),i=a.times(.5);if((t=t.abs()).lte(i))return quadrant=n?4:1,t;if((r=t.divToInt(a)).isZero())quadrant=n?3:2;else{if((t=t.minus(r.times(a))).lte(i))return quadrant=isOdd(r)?n?2:3:n?4:1,t;quadrant=isOdd(r)?n?1:4:n?3:2}return t.minus(a).abs()}function toStringBinary(e,t,r,n){var a,i,o,s,u,c,l,p,d,f=e.constructor,m=void 0!==r;if(m?(checkInt32(r,1,MAX_DIGITS),void 0===n?n=f.rounding:checkInt32(n,0,8)):(r=f.precision,n=f.rounding),e.isFinite()){for(m?(a=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):a=t,(o=(l=finiteToString(e)).indexOf("."))>=0&&(l=l.replace(".",""),(d=new f(1)).e=l.length-o,d.d=convertBase(finiteToString(d),10,a),d.e=d.d.length),i=u=(p=convertBase(l,10,a)).length;0==p[--u];)p.pop();if(p[0]){if(o<0?i--:((e=new f(e)).d=p,e.e=i,p=(e=divide(e,d,r,n,0,a)).d,i=e.e,c=inexact),o=p[r],s=a/2,c=c||void 0!==p[r+1],c=n<4?(void 0!==o||c)&&(0===n||n===(e.s<0?3:2)):o>s||o===s&&(4===n||c||6===n&&1&p[r-1]||n===(e.s<0?8:7)),p.length=r,c)for(;++p[--r]>a-1;)p[r]=0,r||(++i,p.unshift(1));for(u=p.length;!p[u-1];--u);for(o=0,l="";o<u;o++)l+=NUMERALS.charAt(p[o]);if(m){if(u>1)if(16==t||8==t){for(o=16==t?4:3,--u;u%o;u++)l+="0";for(u=(p=convertBase(l,a,t)).length;!p[u-1];--u);for(o=1,l="1.";o<u;o++)l+=NUMERALS.charAt(p[o])}else l=l.charAt(0)+"."+l.slice(1);l=l+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)l="0"+l;l="0."+l}else if(++i>u)for(i-=u;i--;)l+="0";else i<u&&(l=l.slice(0,i)+"."+l.slice(i))}else l=m?"0p+0":"0";l=(16==t?"0x":2==t?"0b":8==t?"0o":"")+l}else l=nonFiniteToString(e);return e.s<0?"-"+l:l}function truncate(e,t){if(e.length>t)return e.length=t,!0}function abs(e){return new this(e).abs()}function acos(e){return new this(e).acos()}function acosh$1(e){return new this(e).acosh()}function add(e,t){return new this(e).plus(t)}function asin(e){return new this(e).asin()}function asinh$1(e){return new this(e).asinh()}function atan(e){return new this(e).atan()}function atanh$1(e){return new this(e).atanh()}function atan2(e,t){e=new this(e),t=new this(t);var r,n=this.precision,a=this.rounding,i=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?getPi(this,n,a):new this(0)).s=e.s:!e.d||t.isZero()?(r=getPi(this,i,1).times(.5)).s=e.s:t.s<0?(this.precision=i,this.rounding=1,r=this.atan(divide(e,t,i,1)),t=getPi(this,i,1),this.precision=n,this.rounding=a,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(divide(e,t,i,1)):(r=getPi(this,i,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function cbrt$1(e){return new this(e).cbrt()}function ceil(e){return finalise(e=new this(e),e.e+1,2)}function config$1(e){if(!e||"object"!=typeof e)throw Error(decimalError+"Object expected");var t,r,n,a=!0===e.defaults,i=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-EXP_LIMIT,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-EXP_LIMIT,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(r=i[t],a&&(this[r]=DEFAULTS[r]),void 0!==(n=e[r])){if(!(mathfloor(n)===n&&n>=i[t+1]&&n<=i[t+2]))throw Error(invalidArgument+r+": "+n);this[r]=n}if(r="crypto",a&&(this[r]=DEFAULTS[r]),void 0!==(n=e[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(invalidArgument+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(cryptoUnavailable);this[r]=!0}else this[r]=!1}return this}function cos(e){return new this(e).cos()}function cosh$1(e){return new this(e).cosh()}function clone$1(e){var t,r,n;function a(e){var t,r,n,i=this;if(!(i instanceof a))return new a(e);if(i.constructor=a,e instanceof a)return i.s=e.s,void(external?!e.d||e.e>a.maxE?(i.e=NaN,i.d=null):e.e<a.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(n=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;return void(external?t>a.maxE?(i.e=NaN,i.d=null):t<a.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):parseDecimal(i,e.toString())}if("string"!==n)throw Error(invalidArgument+e);return 45===(r=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===r&&(e=e.slice(1)),i.s=1),isDecimal.test(e)?parseDecimal(i,e):parseOther(i,e)}if(a.prototype=P,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=config$1,a.clone=clone$1,a.isDecimal=isDecimalInstance,a.abs=abs,a.acos=acos,a.acosh=acosh$1,a.add=add,a.asin=asin,a.asinh=asinh$1,a.atan=atan,a.atanh=atanh$1,a.atan2=atan2,a.cbrt=cbrt$1,a.ceil=ceil,a.cos=cos,a.cosh=cosh$1,a.div=div,a.exp=exp,a.floor=floor,a.hypot=hypot,a.ln=ln,a.log=log,a.log10=log10$1,a.log2=log2$1,a.max=max,a.min=min,a.mod=mod,a.mul=mul,a.pow=pow,a.random=random,a.round=round,a.sign=sign$1,a.sin=sin,a.sinh=sinh$1,a.sqrt=sqrt,a.sub=sub,a.tan=tan,a.tanh=tanh$1,a.trunc=trunc,void 0===e&&(e={}),e&&!0!==e.defaults)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function div(e,t){return new this(e).div(t)}function exp(e){return new this(e).exp()}function floor(e){return finalise(e=new this(e),e.e+1,3)}function hypot(){var e,t,r=new this(0);for(external=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return external=!0,new this(1/0);r=t}return external=!0,r.sqrt()}function isDecimalInstance(e){return e instanceof Decimal||e&&"[object Decimal]"===e.name||!1}function ln(e){return new this(e).ln()}function log(e,t){return new this(e).log(t)}function log2$1(e){return new this(e).log(2)}function log10$1(e){return new this(e).log(10)}function max(){return maxOrMin(this,arguments,"lt")}function min(){return maxOrMin(this,arguments,"gt")}function mod(e,t){return new this(e).mod(t)}function mul(e,t){return new this(e).mul(t)}function pow(e,t){return new this(e).pow(t)}function random(e){var t,r,n,a,i=0,o=new this(1),s=[];if(void 0===e?e=this.precision:checkInt32(e,1,MAX_DIGITS),n=Math.ceil(e/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));i<n;)(a=t[i])>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:s[i++]=a%1e7;else{if(!crypto.randomBytes)throw Error(cryptoUnavailable);for(t=crypto.randomBytes(n*=4);i<n;)(a=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((127&t[i+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,i):(s.push(a%1e7),i+=4);i=n/4}else for(;i<n;)s[i++]=1e7*Math.random()|0;for(n=s[--i],e%=LOG_BASE,n&&e&&(a=mathpow(10,LOG_BASE-e),s[i]=(n/a|0)*a);0===s[i];i--)s.pop();if(i<0)r=0,s=[0];else{for(r=-1;0===s[0];r-=LOG_BASE)s.shift();for(n=1,a=s[0];a>=10;a/=10)n++;n<LOG_BASE&&(r-=LOG_BASE-n)}return o.e=r,o.d=s,o}function round(e){return finalise(e=new this(e),e.e+1,this.rounding)}function sign$1(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function sin(e){return new this(e).sin()}function sinh$1(e){return new this(e).sinh()}function sqrt(e){return new this(e).sqrt()}function sub(e,t){return new this(e).sub(t)}function tan(e){return new this(e).tan()}function tanh$1(e){return new this(e).tanh()}function trunc(e){return finalise(e=new this(e),e.e+1,1)}P[Symbol.for("nodejs.util.inspect.custom")]=P.toString,P[Symbol.toStringTag]="Decimal";var Decimal=clone$1(DEFAULTS);LN10=new Decimal(LN10),PI=new Decimal(PI);var name$1="BigNumber",dependencies$2=["?on","config"],createBigNumberClass=factory(name$1,dependencies$2,(function(e){var t=e.on,r=e.config,n=Decimal.clone({precision:r.precision,modulo:9});return n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(e){return new n(e.value)},t&&t("config",(function(e,t){e.precision!==t.precision&&n.config({precision:e.precision})})),n}),{isClass:!0}),complex=createCommonjsModule((function(e,t){
/**
 * @license Complex.js v2.0.11 11/02/2016
 *
 * Copyright (c) 2016, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(r){var n=function(e){return.5*(Math.exp(e)+Math.exp(-e))},a=function(e){return.5*(Math.exp(e)-Math.exp(-e))},i=function(){throw SyntaxError("Invalid Param")};function o(e,t){var r=Math.abs(e),n=Math.abs(t);return 0===e?Math.log(n):0===t?Math.log(r):r<3e3&&n<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}var s=function(e,t){var r={re:0,im:0};if(null==e)r.re=r.im=0;else if(void 0!==t)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return u.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return u.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else 2===e.length?(r.re=e[0],r.im=e[1]):i();break;case"string":r.im=r.re=0;var n=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),a=1,o=0;null===n&&i();for(var s=0;s<n.length;s++){var c=n[s];" "===c||"\t"===c||"\n"===c||("+"===c?a++:"-"===c?o++:"i"===c||"I"===c?(a+o===0&&i()," "===n[s+1]||isNaN(n[s+1])?r.im+=parseFloat((o%2?"-":"")+"1"):(r.im+=parseFloat((o%2?"-":"")+n[s+1]),s++),a=o=0):((a+o===0||isNaN(c))&&i(),"i"===n[s+1]||"I"===n[s+1]?(r.im+=parseFloat((o%2?"-":"")+c),s++):r.re+=parseFloat((o%2?"-":"")+c),a=o=0))}a+o>0&&i();break;case"number":r.im=0,r.re=e;break;default:i()}return r};function u(e,t){if(!(this instanceof u))return new u(e,t);var r=s(e,t);this.re=r.re,this.im=r.im}u.prototype={re:0,im:0,sign:function(){var e=this.abs();return new u(this.re/e,this.im/e)},add:function(e,t){var r=new u(e,t);return this.isInfinite()&&r.isInfinite()?u.NAN:this.isInfinite()||r.isInfinite()?u.INFINITY:new u(this.re+r.re,this.im+r.im)},sub:function(e,t){var r=new u(e,t);return this.isInfinite()&&r.isInfinite()?u.NAN:this.isInfinite()||r.isInfinite()?u.INFINITY:new u(this.re-r.re,this.im-r.im)},mul:function(e,t){var r=new u(e,t);return this.isInfinite()&&r.isZero()||this.isZero()&&r.isInfinite()?u.NAN:this.isInfinite()||r.isInfinite()?u.INFINITY:0===r.im&&0===this.im?new u(this.re*r.re,0):new u(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){var r=new u(e,t);if(this.isZero()&&r.isZero()||this.isInfinite()&&r.isInfinite())return u.NAN;if(this.isInfinite()||r.isZero())return u.INFINITY;if(this.isZero()||r.isInfinite())return u.ZERO;e=this.re,t=this.im;var n,a,i=r.re,o=r.im;return 0===o?new u(e/i,t/i):Math.abs(i)<Math.abs(o)?new u((e*(a=i/o)+t)/(n=i*a+o),(t*a-e)/n):new u((e+t*(a=o/i))/(n=o*a+i),(t-e*a)/n)},pow:function(e,t){var r=new u(e,t);if(e=this.re,t=this.im,r.isZero())return u.ONE;if(0===r.im){if(0===t&&e>=0)return new u(Math.pow(e,r.re),0);if(0===e)switch((r.re%4+4)%4){case 0:return new u(Math.pow(t,r.re),0);case 1:return new u(0,Math.pow(t,r.re));case 2:return new u(-Math.pow(t,r.re),0);case 3:return new u(0,-Math.pow(t,r.re))}}if(0===e&&0===t&&r.re>0&&r.im>=0)return u.ZERO;var n=Math.atan2(t,e),a=o(e,t);return e=Math.exp(r.re*a-r.im*n),t=r.im*a+r.re*n,new u(e*Math.cos(t),e*Math.sin(t))},sqrt:function(){var e,t,r=this.re,n=this.im,a=this.abs();if(r>=0){if(0===n)return new u(Math.sqrt(r),0);e=.5*Math.sqrt(2*(a+r))}else e=Math.abs(n)/Math.sqrt(2*(a-r));return t=r<=0?.5*Math.sqrt(2*(a-r)):Math.abs(n)/Math.sqrt(2*(a+r)),new u(e,n<0?-t:t)},exp:function(){var e=Math.exp(this.re);return this.im,new u(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){var e=this.re,t=this.im;return new u(Math.expm1(e)*Math.cos(t)+function(e){var t=Math.PI/4;if(e<-t||e>t)return Math.cos(e)-1;var r=e*e;return r*(r*(1/24+r*(-1/720+r*(1/40320+r*(-1/3628800+r*(1/4790014600+r*(-1/87178291200+r*(1/20922789888e3)))))))-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){var e=this.re,t=this.im;return new u(o(e,t),Math.atan2(t,e))},abs:function(){return e=this.re,t=this.im,r=Math.abs(e),n=Math.abs(t),r<3e3&&n<3e3?Math.sqrt(r*r+n*n):(r<n?(r=n,n=e/t):n=t/e,r*Math.sqrt(1+n*n));var e,t,r,n},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,t=this.im;return new u(Math.sin(e)*n(t),Math.cos(e)*a(t))},cos:function(){var e=this.re,t=this.im;return new u(Math.cos(e)*n(t),-Math.sin(e)*a(t))},tan:function(){var e=2*this.re,t=2*this.im,r=Math.cos(e)+n(t);return new u(Math.sin(e)/r,a(t)/r)},cot:function(){var e=2*this.re,t=2*this.im,r=Math.cos(e)-n(t);return new u(-Math.sin(e)/r,a(t)/r)},sec:function(){var e=this.re,t=this.im,r=.5*n(2*t)+.5*Math.cos(2*e);return new u(Math.cos(e)*n(t)/r,Math.sin(e)*a(t)/r)},csc:function(){var e=this.re,t=this.im,r=.5*n(2*t)-.5*Math.cos(2*e);return new u(Math.sin(e)*n(t)/r,-Math.cos(e)*a(t)/r)},asin:function(){var e=this.re,t=this.im,r=new u(t*t-e*e+1,-2*e*t).sqrt(),n=new u(r.re-t,r.im+e).log();return new u(n.im,-n.re)},acos:function(){var e=this.re,t=this.im,r=new u(t*t-e*e+1,-2*e*t).sqrt(),n=new u(r.re-t,r.im+e).log();return new u(Math.PI/2-n.im,n.re)},atan:function(){var e=this.re,t=this.im;if(0===e){if(1===t)return new u(0,1/0);if(-1===t)return new u(0,-1/0)}var r=e*e+(1-t)*(1-t),n=new u((1-t*t-e*e)/r,-2*e/r).log();return new u(-.5*n.im,.5*n.re)},acot:function(){var e=this.re,t=this.im;if(0===t)return new u(Math.atan2(1,e),0);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).atan():new u(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(0,1/0);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).acos():new u(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(Math.PI/2,1/0);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).asin():new u(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){var e=this.re,t=this.im;return new u(a(e)*Math.cos(t),n(e)*Math.sin(t))},cosh:function(){var e=this.re,t=this.im;return new u(n(e)*Math.cos(t),a(e)*Math.sin(t))},tanh:function(){var e=2*this.re,t=2*this.im,r=n(e)+Math.cos(t);return new u(a(e)/r,Math.sin(t)/r)},coth:function(){var e=2*this.re,t=2*this.im,r=n(e)-Math.cos(t);return new u(a(e)/r,-Math.sin(t)/r)},csch:function(){var e=this.re,t=this.im,r=Math.cos(2*t)-n(2*e);return new u(-2*a(e)*Math.cos(t)/r,2*n(e)*Math.sin(t)/r)},sech:function(){var e=this.re,t=this.im,r=Math.cos(2*t)+n(2*e);return new u(2*n(e)*Math.cos(t)/r,-2*a(e)*Math.sin(t)/r)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){var e=this.acos();if(e.im<=0){var t=e.re;e.re=-e.im,e.im=t}else{t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){var e=this.re,t=this.im,r=e>1&&0===t,n=1-e,a=1+e,i=n*n+t*t,s=0!==i?new u((a*n-t*t)/i,(t*n+a*t)/i):new u(-1!==e?e/0:0,0!==t?t/0:0),c=s.re;return s.re=o(s.re,s.im)/2,s.im=Math.atan2(s.im,c)/2,r&&(s.im=-s.im),s},acoth:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(0,Math.PI/2);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).atanh():new u(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){var e=this.re,t=this.im;if(0===t)return new u(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).asinh():new u(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){var e=this.re,t=this.im;if(this.isZero())return u.INFINITY;var r=e*e+t*t;return 0!==r?new u(e/r,-t/r).acosh():new u(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var e=this.re,t=this.im,r=e*e+t*t;return new u(e/r,-t/r)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new u(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new u(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new u(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){var r=new u(e,t);return Math.abs(r.re-this.re)<=u.EPSILON&&Math.abs(r.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==e&&(r+=e),0!==t&&(0!==e?r+=t<0?" - ":" + ":t<0&&(r+="-"),1!==(t=Math.abs(t))&&(r+=t),r+="i"),r||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return!(0!==this.re&&-0!==this.re||0!==this.im&&-0!==this.im)},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-16,Object.defineProperty(t,"__esModule",{value:!0}),u.default=u,u.Complex=u,e.exports=u}()})),Complex=unwrapExports(complex);function _typeof$3(e){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var name$2="Complex",dependencies$3=[],createComplexClass=factory(name$2,dependencies$3,(function(){return Complex.prototype.type="Complex",Complex.prototype.isComplex=!0,Complex.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Complex.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Complex.prototype.format=function(e){var t=this.im,r=this.re,n=format(this.re,e),a=format(this.im,e),i=isNumber(e)?e:e?e.precision:null;if(null!==i){var o=Math.pow(10,-i);Math.abs(r/t)<o&&(r=0),Math.abs(t/r)<o&&(t=0)}return 0===t?n:0===r?1===t?"i":-1===t?"-i":a+"i":t<0?-1===t?n+" - i":n+" - "+a.substring(1)+"i":1===t?n+" + i":n+" + "+a+"i"},Complex.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"===_typeof$3(t))return Complex(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],n=arguments[1];if(isNumber(r)){if(isUnit(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),isNumber(n))return new Complex({r:r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Complex.prototype.valueOf=Complex.prototype.toString,Complex.fromJSON=function(e){return new Complex(e)},Complex.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},Complex}),{isClass:!0}),fraction=createCommonjsModule((function(e,t){
/**
 * @license Fraction.js v4.0.12 09/09/2015
 * http://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(r){var n=2e3,a={s:1,n:0,d:1};function i(e){function t(){var t=Error.apply(this,arguments);t.name=this.name=e,this.stack=t.stack,this.message=t.message}function r(){}return r.prototype=Error.prototype,t.prototype=new r,t}var o=d.DivisionByZero=i("DivisionByZero"),s=d.InvalidParameter=i("InvalidParameter");function u(e,t){return isNaN(e=parseInt(e,10))&&c(),e*t}function c(){throw new s}var l=function(e,t){var r,n=0,i=1,s=1,l=0,p=0,d=0,f=1,m=1,h=0,_=1,v=1,g=1,y=1e7;if(null==e);else if(void 0!==t)s=(n=e)*(i=t);else switch(typeof e){case"object":"d"in e&&"n"in e?(n=e.n,i=e.d,"s"in e&&(n*=e.s)):0 in e?(n=e[0],1 in e&&(i=e[1])):c(),s=n*i;break;case"number":if(e<0&&(s=e,e=-e),e%1==0)n=e;else if(e>0){for(e>=1&&(e/=m=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));_<=y&&g<=y;){if(e===(r=(h+v)/(_+g))){_+g<=y?(n=h+v,i=_+g):g>_?(n=v,i=g):(n=h,i=_);break}e>r?(h+=v,_+=g):(v+=h,g+=_),_>y?(n=v,i=g):(n=h,i=_)}n*=m}else(isNaN(e)||isNaN(t))&&(i=n=NaN);break;case"string":if(null===(_=e.match(/\d+|./g))&&c(),"-"===_[h]?(s=-1,h++):"+"===_[h]&&h++,_.length===h+1?p=u(_[h++],s):"."===_[h+1]||"."===_[h]?("."!==_[h]&&(l=u(_[h++],s)),(++h+1===_.length||"("===_[h+1]&&")"===_[h+3]||"'"===_[h+1]&&"'"===_[h+3])&&(p=u(_[h],s),f=Math.pow(10,_[h].length),h++),("("===_[h]&&")"===_[h+2]||"'"===_[h]&&"'"===_[h+2])&&(d=u(_[h+1],s),m=Math.pow(10,_[h+1].length)-1,h+=3)):"/"===_[h+1]||":"===_[h+1]?(p=u(_[h],s),f=u(_[h+2],1),h+=3):"/"===_[h+3]&&" "===_[h+1]&&(l=u(_[h],s),p=u(_[h+2],s),f=u(_[h+4],1),h+=5),_.length<=h){s=n=d+(i=f*m)*l+m*p;break}default:c()}if(0===i)throw new o;a.s=s<0?-1:1,a.n=Math.abs(n),a.d=Math.abs(i)};function p(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function d(e,t){if(!(this instanceof d))return new d(e,t);l(e,t),e=d.REDUCE?p(a.d,a.n):1,this.s=a.s,this.n=a.n/e,this.d=a.d/e}d.REDUCE=1,d.prototype={s:1,n:0,d:1,abs:function(){return new d(this.n,this.d)},neg:function(){return new d(-this.s*this.n,this.d)},add:function(e,t){return l(e,t),new d(this.s*this.n*a.d+a.s*this.d*a.n,this.d*a.d)},sub:function(e,t){return l(e,t),new d(this.s*this.n*a.d-a.s*this.d*a.n,this.d*a.d)},mul:function(e,t){return l(e,t),new d(this.s*a.s*this.n*a.n,this.d*a.d)},div:function(e,t){return l(e,t),new d(this.s*a.s*this.n*a.d,this.d*a.n)},clone:function(){return new d(this)},mod:function(e,t){return isNaN(this.n)||isNaN(this.d)?new d(NaN):void 0===e?new d(this.s*this.n%this.d,1):(l(e,t),0===a.n&&0===this.d&&d(0,0),new d(this.s*(a.d*this.n)%(a.n*this.d),a.d*this.d))},gcd:function(e,t){return l(e,t),new d(p(a.n,this.n)*p(a.d,this.d),a.d*this.d)},lcm:function(e,t){return l(e,t),0===a.n&&0===this.n?new d:new d(a.n*this.n,p(a.n,this.n)*p(a.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):new d(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):new d(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):new d(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return new d(this.s*this.d,this.n)},pow:function(e){return e<0?new d(Math.pow(this.s*this.d,-e),Math.pow(this.n,-e)):new d(Math.pow(this.s*this.n,e),Math.pow(this.d,e))},equals:function(e,t){return l(e,t),this.s*this.n*a.d==a.s*a.n*this.d},compare:function(e,t){l(e,t);var r=this.s*this.n*a.d-a.s*a.n*this.d;return(0<r)-(r<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;var t=this.abs().toContinued();function r(e){return 1===e.length?new d(e[0]):r(e.slice(1)).inverse().add(e[0])}e=e||.001;for(var n=0;n<t.length;n++){var a=r(t.slice(0,n+1));if(a.sub(this.abs()).abs().valueOf()<e)return a.mul(this.s)}return this},divisible:function(e,t){return l(e,t),!(!(a.n*this.d)||this.n*a.d%(a.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,r="",n=this.n,a=this.d;return this.s<0&&(r+="-"),1===a?r+=n:(e&&(t=Math.floor(n/a))>0&&(r+=t,r+=" ",n%=a),r+=n,r+="/",r+=a),r},toLatex:function(e){var t,r="",n=this.n,a=this.d;return this.s<0&&(r+="-"),1===a?r+=n:(e&&(t=Math.floor(n/a))>0&&(r+=t,n%=a),r+="\\frac{",r+=n,r+="}{",r+=a,r+="}"),r},toContinued:function(){var e,t=this.n,r=this.d,n=[];if(isNaN(this.n)||isNaN(this.d))return n;do{n.push(Math.floor(t/r)),e=t%r,t=r,r=e}while(1!==t);return n},toString:function(e){var t,r=this.n,a=this.d;if(isNaN(r)||isNaN(a))return"NaN";d.REDUCE||(r/=t=p(r,a),a/=t),e=e||15;var i=function(e,t){for(;t%2==0;t/=2);for(;t%5==0;t/=5);if(1===t)return 0;for(var r=10%t,a=1;1!==r;a++)if(r=10*r%t,a>n)return 0;return a}(0,a),o=function(e,t,r){for(var n=1,a=function(e,t,r){for(var n=1;t>0;e=e*e%r,t>>=1)1&t&&(n=n*e%r);return n}(10,r,t),i=0;i<300;i++){if(n===a)return i;n=10*n%t,a=10*a%t}return 0}(0,a,i),s=-1===this.s?"-":"";if(s+=r/a|0,r%=a,(r*=10)&&(s+="."),i){for(var u=o;u--;)s+=r/a|0,r%=a,r*=10;s+="(";for(u=i;u--;)s+=r/a|0,r%=a,r*=10;s+=")"}else for(u=e;r&&u--;)s+=r/a|0,r%=a,r*=10;return s}},Object.defineProperty(t,"__esModule",{value:!0}),d.default=d,d.Fraction=d,e.exports=d}()})),Fraction=unwrapExports(fraction),name$3="Fraction",dependencies$4=[],createFractionClass=factory(name$3,dependencies$4,(function(){return Fraction.prototype.type="Fraction",Fraction.prototype.isFraction=!0,Fraction.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Fraction.fromJSON=function(e){return new Fraction(e)},Fraction}),{isClass:!0}),name$4="Range",dependencies$5=[],createRangeClass=factory(name$4,dependencies$5,(function(){function e(t,r,n){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");var a=null!=t,i=null!=r,o=null!=n;if(a)if(isBigNumber(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(i)if(isBigNumber(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter end must be a number");if(o)if(isBigNumber(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=a?parseFloat(t):0,this.end=i?parseFloat(r):0,this.step=o?parseFloat(n):1}return e.prototype.type="Range",e.prototype.isRange=!0,e.parse=function(t){if("string"!=typeof t)return null;var r=t.split(":").map((function(e){return parseFloat(e)}));if(r.some((function(e){return isNaN(e)})))return null;switch(r.length){case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[2],r[1]);default:return null}},e.prototype.clone=function(){return new e(this.start,this.end,this.step)},e.prototype.size=function(){var e=0,t=this.start,r=this.step,n=this.end-t;return sign(r)===sign(n)?e=Math.ceil(n/r):0===n&&(e=0),isNaN(e)&&(e=0),[e]},e.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},e.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},e.prototype.forEach=function(e){var t=this.start,r=this.step,n=this.end,a=0;if(r>0)for(;t<n;)e(t,[a],this),t+=r,a++;else if(r<0)for(;t>n;)e(t,[a],this),t+=r,a++},e.prototype.map=function(e){var t=[];return this.forEach((function(r,n,a){t[n[0]]=e(r,n,a)})),t},e.prototype.toArray=function(){var e=[];return this.forEach((function(t,r){e[r[0]]=t})),e},e.prototype.valueOf=function(){return this.toArray()},e.prototype.format=function(e){var t=format(this.start,e);return 1!==this.step&&(t+=":"+format(this.step,e)),t+=":"+format(this.end,e)},e.prototype.toString=function(){return this.format()},e.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},e.fromJSON=function(t){return new e(t.start,t.end,t.step)},e}),{isClass:!0}),name$5="Matrix",dependencies$6=[],createMatrixClass=factory(name$5,dependencies$6,(function(){function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e}),{isClass:!0}),name$6="DenseMatrix",dependencies$7=["Matrix"],createDenseMatrixClass=factory(name$6,dependencies$7,(function(e){var t=e.Matrix;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!isString(t))throw new Error("Invalid datatype: "+t);if(isMatrix(e))"DenseMatrix"===e.type?(this._data=clone(e._data),this._size=clone(e._size),this._datatype=t||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=t||e._datatype);else if(e&&isArray(e.data)&&isArray(e.size))this._data=e.data,this._size=e.size,validate(this._data,this._size),this._datatype=t||e.datatype;else if(isArray(e))this._data=function e(t){for(var r=0,n=t.length;r<n;r++){var a=t[r];isArray(a)?t[r]=e(a):a&&!0===a.isMatrix&&(t[r]=e(a.valueOf()))}return t}(e),this._size=arraySize(this._data),validate(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+typeOf(e)+")");this._data=[],this._size=[0],this._datatype=t}}function n(e,t){if(!isIndex(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var n=t.size();if(n.length!==e._size.length)throw new DimensionError(n.length,e._size.length);for(var a=t.min(),i=t.max(),o=0,s=e._size.length;o<s;o++)validateIndex(a[o],e._size[o]),validateIndex(i[o],e._size[o]);return new r(function e(t,r,n,a){var i=a===n-1,o=r.dimension(a);return i?o.map((function(e){return validateIndex(e,t.length),t[e]})).valueOf():o.map((function(i){validateIndex(i,t.length);var o=t[i];return e(o,r,n,a+1)})).valueOf()}(e._data,t,n.length,0),e._datatype)}function a(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var a,i=t.size(),s=t.isScalar();if(isMatrix(r)?(a=r.size(),r=r.valueOf()):a=arraySize(r),s){if(0!==a.length)throw new TypeError("Scalar expected");e.set(t.min(),r,n)}else{if(i.length<e._size.length)throw new DimensionError(i.length,e._size.length,"<");if(a.length<i.length){for(var u=0,c=0;1===i[u]&&1===a[u];)u++;for(;1===i[u];)c++,u++;r=unsqueeze(r,i.length,c,a)}if(!deepStrictEqual(i,a))throw new DimensionError(i,a,">");o(e,t.max().map((function(e){return e+1})),n);var l=i.length;!function e(t,r,n,a,i){var o=i===a-1,s=r.dimension(i);o?s.forEach((function(e,r){validateIndex(e),t[e]=n[r[0]]})):s.forEach((function(o,s){validateIndex(o),e(t[o],r,n[s[0]],a,i+1)}))}(e._data,t,r,l,0)}return e}function i(e,t,r){if(0===t.length){for(var n=e._data;isArray(n);)n=n[0];return n}return e._size=t.slice(0),e._data=resize(e._data,e._size,r),e}function o(e,t,r){for(var n=e._size.slice(0),a=!1;n.length<t.length;)n.push(0),a=!0;for(var o=0,s=t.length;o<s;o++)t[o]>n[o]&&(n[o]=t[o],a=!0);a&&i(e,n,r)}return r.prototype=new t,r.prototype.createDenseMatrix=function(e,t){return new r(e,t)},r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return getArrayDataType(this._data,typeOf)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(e,t){return new r(e,t)},r.prototype.subset=function(e,t,r){switch(arguments.length){case 1:return n(this,e);case 2:case 3:return a(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(e){if(!isArray(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new DimensionError(e.length,this._size.length);for(var t=0;t<e.length;t++)validateIndex(e[t],this._size[t]);for(var r=this._data,n=0,a=e.length;n<a;n++){var i=e[n];validateIndex(i,r.length),r=r[i]}return r},r.prototype.set=function(e,t,r){if(!isArray(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new DimensionError(e.length,this._size.length,"<");var n,a,i;o(this,e.map((function(e){return e+1})),r);var s=this._data;for(n=0,a=e.length-1;n<a;n++)validateIndex(i=e[n],s.length),s=s[i];return validateIndex(i=e[e.length-1],s.length),s[i]=t,this},r.prototype.resize=function(e,t,r){if(!isCollection(e))throw new TypeError("Array or Matrix expected");var n=e.valueOf().map((function(e){return Array.isArray(e)&&1===e.length?e[0]:e}));return i(r?this.clone():this,n,t)},r.prototype.reshape=function(e,t){var r=t?this.clone():this;return r._data=reshape(r._data,e),r._size=e.slice(0),r},r.prototype.clone=function(){return new r({data:clone(this._data),size:clone(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(e){var t=this,n=function r(n,a){return isArray(n)?n.map((function(e,t){return r(e,a.concat(t))})):e(n,a,t)}(this._data,[]);return new r(n,void 0!==this._datatype?getArrayDataType(n,typeOf):void 0)},r.prototype.forEach=function(e){var t=this;!function r(n,a){isArray(n)?n.forEach((function(e,t){r(e,a.concat(t))})):e(n,a,t)}(this._data,[])},r.prototype.toArray=function(){return clone(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(e){return format$2(this._data,e)},r.prototype.toString=function(){return format$2(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(e){if(e){if(isBigNumber(e)&&(e=e.toNumber()),!isNumber(e)||!isInteger(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,n=e<0?-e:0,a=this._size[0],i=this._size[1],o=Math.min(a-n,i-t),s=[],u=0;u<o;u++)s[u]=this._data[u+n][u+t];return new r({data:s,size:[o],datatype:this._datatype})},r.diagonal=function(e,t,n,a){if(!isArray(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(isBigNumber(e)&&(e=e.toNumber()),!isNumber(e)||!isInteger(e)||e<1)throw new Error("Size values must be positive integers");return e})),n){if(isBigNumber(n)&&(n=n.toNumber()),!isNumber(n)||!isInteger(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var i,o=n>0?n:0,s=n<0?-n:0,u=e[0],c=e[1],l=Math.min(u-s,c-o);if(isArray(t)){if(t.length!==l)throw new Error("Invalid value array length");i=function(e){return t[e]}}else if(isMatrix(t)){var p=t.size();if(1!==p.length||p[0]!==l)throw new Error("Invalid matrix length");i=function(e){return t.get([e])}}else i=function(){return t};a||(a=isBigNumber(i(0))?i(0).mul(0):0);var d=[];if(e.length>0){d=resize(d,e,a);for(var f=0;f<l;f++)d[f+s][f+o]=i(f)}return new r({data:d,size:[u,c]})},r.fromJSON=function(e){return new r(e)},r.prototype.swapRows=function(e,t){if(!(isNumber(e)&&isInteger(e)&&isNumber(t)&&isInteger(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return validateIndex(e,this._size[0]),validateIndex(t,this._size[0]),r._swapRows(e,t,this._data),this},r._swapRows=function(e,t,r){var n=r[e];r[e]=r[t],r[t]=n},r}),{isClass:!0}),name$7="clone",dependencies$8=["typed"],createClone=factory(name$7,dependencies$8,(function(e){return(0,e.typed)(name$7,{any:clone})}));function containsCollections(e){for(var t=0;t<e.length;t++)if(isCollection(e[t]))return!0;return!1}function deepForEach(e,t){isMatrix(e)&&(e=e.valueOf());for(var r=0,n=e.length;r<n;r++){var a=e[r];Array.isArray(a)?deepForEach(a,t):t(a)}}function deepMap(e,t,r){return e&&"function"==typeof e.map?e.map((function(e){return deepMap(e,t)})):t(e)}function reduce(e,t,r){var n=Array.isArray(e)?arraySize(e):e.size();if(t<0||t>=n.length)throw new IndexError(t,n.length);return isMatrix(e)?e.create(_reduce(e.valueOf(),t,r)):_reduce(e,t,r)}function _reduce(e,t,r){var n,a,i,o;if(t<=0){if(Array.isArray(e[0])){for(o=_switch(e),a=[],n=0;n<o.length;n++)a[n]=_reduce(o[n],t-1,r);return a}for(i=e[0],n=1;n<e.length;n++)i=r(i,e[n]);return i}for(a=[],n=0;n<e.length;n++)a[n]=_reduce(e[n],t-1,r);return a}function _switch(e){var t,r,n=e.length,a=e[0].length,i=[];for(r=0;r<a;r++){var o=[];for(t=0;t<n;t++)o.push(e[t][r]);i.push(o)}return i}function scatter(e,t,r,n,a,i,o,s,u,c,l){var p,d,f,m,h=e._values,_=e._index,v=e._ptr;if(n)for(d=v[t],f=v[t+1],p=d;p<f;p++)r[m=_[p]]!==i?(r[m]=i,o.push(m),c?(n[m]=u?s(h[p],l):s(l,h[p]),a[m]=i):n[m]=h[p]):(n[m]=u?s(h[p],n[m]):s(n[m],h[p]),a[m]=i);else for(d=v[t],f=v[t+1],p=d;p<f;p++)r[m=_[p]]!==i?(r[m]=i,o.push(m)):a[m]=i}var name$8="isInteger",dependencies$9=["typed"],createIsInteger=factory(name$8,dependencies$9,(function(e){return(0,e.typed)(name$8,{number:isInteger,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":function(e){return deepMap(e,this)}})})),n1="number",n2="number, number";function absNumber(e){return Math.abs(e)}function addNumber(e,t){return e+t}function multiplyNumber(e,t){return e*t}function unaryMinusNumber(e){return-e}function unaryPlusNumber(e){return e}function cbrtNumber(e){return cbrt(e)}function ceilNumber(e){return Math.ceil(e)}function cubeNumber(e){return e*e*e}function expNumber(e){return Math.exp(e)}function expm1Number(e){return expm1(e)}function gcdNumber(e,t){if(!isInteger(e)||!isInteger(t))throw new Error("Parameters in function gcd must be integer numbers");for(var r;0!==t;)r=e%t,e=t,t=r;return e<0?-e:e}function lcmNumber(e,t){if(!isInteger(e)||!isInteger(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var r,n=e*t;0!==t;)t=e%(r=t),e=r;return Math.abs(n/e)}function logNumber(e){return Math.log(e)}function log10Number(e){return log10(e)}function log2Number(e){return log2(e)}function modNumber(e,t){if(t>0)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")}function nthRootNumber(e,t){var r=t<0;if(r&&(t=-t),0===t)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===e)return r?1/0:0;if(!isFinite(e))return r?0:e;var n=Math.pow(Math.abs(e),1/t);return n=e<0?-n:n,r?1/n:n}function signNumber(e){return sign(e)}function squareNumber(e){return e*e}function xgcdNumber(e,t){var r,n,a,i=0,o=1,s=1,u=0;if(!isInteger(e)||!isInteger(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)a=e-(n=Math.floor(e/t))*t,r=i,i=o-n*i,o=r,r=s,s=u-n*s,u=r,e=t,t=a;return e<0?[-e,-o,-u]:[e,e?o:0,u]}function powNumber(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}function roundNumber(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(toFixed(e,t))}absNumber.signature=n1,addNumber.signature=n2,multiplyNumber.signature=n2,unaryMinusNumber.signature=n1,unaryPlusNumber.signature=n1,cbrtNumber.signature=n1,ceilNumber.signature=n1,cubeNumber.signature=n1,expNumber.signature=n1,expm1Number.signature=n1,gcdNumber.signature=n2,lcmNumber.signature=n2,logNumber.signature=n1,log10Number.signature=n1,log2Number.signature=n1,modNumber.signature=n2,nthRootNumber.signature=n2,signNumber.signature=n1,squareNumber.signature=n1,xgcdNumber.signature=n2,powNumber.signature=n2,roundNumber.signature=n2;var n1$1="number",n2$1="number, number";function bitAndNumber(e,t){if(!isInteger(e)||!isInteger(t))throw new Error("Integers expected in function bitAnd");return e&t}function bitNotNumber(e){if(!isInteger(e))throw new Error("Integer expected in function bitNot");return~e}function bitOrNumber(e,t){if(!isInteger(e)||!isInteger(t))throw new Error("Integers expected in function bitOr");return e|t}function bitXorNumber(e,t){if(!isInteger(e)||!isInteger(t))throw new Error("Integers expected in function bitXor");return e^t}function leftShiftNumber(e,t){if(!isInteger(e)||!isInteger(t))throw new Error("Integers expected in function leftShift");return e<<t}function rightArithShiftNumber(e,t){if(!isInteger(e)||!isInteger(t))throw new Error("Integers expected in function rightArithShift");return e>>t}function rightLogShiftNumber(e,t){if(!isInteger(e)||!isInteger(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}function product(e,t){if(t<e)return 1;if(t===e)return t;var r=t+e>>1;return product(e,r)*product(r+1,t)}function combinationsNumber(e,t){if(!isInteger(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!isInteger(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");var r=e-t;return t<r?product(r+1,e)/product(1,t):product(t+1,e)/product(1,r)}bitAndNumber.signature=n2$1,bitNotNumber.signature=n1$1,bitOrNumber.signature=n2$1,bitXorNumber.signature=n2$1,leftShiftNumber.signature=n2$1,rightArithShiftNumber.signature=n2$1,rightLogShiftNumber.signature=n2$1,combinationsNumber.signature="number, number";var pi=Math.PI,tau=2*Math.PI,e=Math.E,phi=1.618033988749895,n1$2="number",n2$2="number, number";function notNumber(e){return!e}function orNumber(e,t){return!(!e&&!t)}function xorNumber(e,t){return!!e!=!!t}function andNumber(e,t){return!(!e||!t)}function gammaNumber(e){var t;if(isInteger(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:product(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*gammaNumber(1-e));if(e>=171.35)return 1/0;if(e>85){var r=e*e,n=r*e,a=n*e,i=a*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*r)-139/(51840*n)-571/(2488320*a)+163879/(209018880*i)+5246819/(75246796800*i*e))}--e,t=gammaP[0];for(var o=1;o<gammaP.length;++o)t+=gammaP[o]/(e+o);var s=e+gammaG+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,e+.5)*Math.exp(-s)*t}notNumber.signature=n1$2,orNumber.signature=n2$2,xorNumber.signature=n2$2,andNumber.signature=n2$2,gammaNumber.signature="number";var gammaG=4.7421875,gammaP=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],n1$3="number";function acoshNumber(e){return acosh(e)}function acotNumber(e){return Math.atan(1/e)}function acothNumber(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function acscNumber(e){return Math.asin(1/e)}function acschNumber(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function asecNumber(e){return Math.acos(1/e)}function asechNumber(e){var t=1/e,r=Math.sqrt(t*t-1);return Math.log(r+t)}function asinhNumber(e){return asinh(e)}function atanhNumber(e){return atanh(e)}function cotNumber(e){return 1/Math.tan(e)}function cothNumber(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function cscNumber(e){return 1/Math.sin(e)}function cschNumber(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*sign(e)}function secNumber(e){return 1/Math.cos(e)}function sechNumber(e){return 2/(Math.exp(e)+Math.exp(-e))}function sinhNumber(e){return sinh(e)}acoshNumber.signature=n1$3,acotNumber.signature=n1$3,acothNumber.signature=n1$3,acscNumber.signature=n1$3,acschNumber.signature=n1$3,asecNumber.signature=n1$3,asechNumber.signature=n1$3,asinhNumber.signature=n1$3,atanhNumber.signature=n1$3,cotNumber.signature=n1$3,cothNumber.signature=n1$3,cscNumber.signature=n1$3,cschNumber.signature=n1$3,secNumber.signature=n1$3,sechNumber.signature=n1$3,sinhNumber.signature=n1$3;var n1$4="number";function isNegativeNumber(e){return e<0}function isPositiveNumber(e){return e>0}function isZeroNumber(e){return 0===e}function isNaNNumber(e){return Number.isNaN(e)}isNegativeNumber.signature=n1$4,isPositiveNumber.signature=n1$4,isZeroNumber.signature=n1$4,isNaNNumber.signature=n1$4;var name$9="isNegative",dependencies$a=["typed"],createIsNegative=factory(name$9,dependencies$a,(function(e){return(0,e.typed)(name$9,{number:isNegativeNumber,BigNumber:function(e){return e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s<0},Unit:function(e){return this(e.value)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$a="isNumeric",dependencies$b=["typed"],createIsNumeric=factory(name$a,dependencies$b,(function(e){return(0,e.typed)(name$a,{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$b="hasNumericValue",dependencies$c=["typed","isNumeric"],createHasNumericValue=factory(name$b,dependencies$c,(function(e){var t=e.typed,r=e.isNumeric;return t(name$b,{string:function(e){return e.trim().length>0&&!isNaN(Number(e))},any:function(e){return r(e)}})})),name$c="isPositive",dependencies$d=["typed"],createIsPositive=factory(name$c,dependencies$d,(function(e){return(0,e.typed)(name$c,{number:isPositiveNumber,BigNumber:function(e){return!e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s>0&&e.n>0},Unit:function(e){return this(e.value)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$d="isZero",dependencies$e=["typed"],createIsZero=factory(name$d,dependencies$e,(function(e){return(0,e.typed)(name$d,{number:isZeroNumber,BigNumber:function(e){return e.isZero()},Complex:function(e){return 0===e.re&&0===e.im},Fraction:function(e){return 1===e.d&&0===e.n},Unit:function(e){return this(e.value)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$e="isNaN",dependencies$f=["typed"],createIsNaN=factory(name$e,dependencies$f,(function(e){return(0,e.typed)(name$e,{number:isNaNNumber,BigNumber:function(e){return e.isNaN()},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":function(e){return deepMap(e,Number.isNaN)}})})),name$f="typeOf",dependencies$g=["typed"],createTypeOf=factory(name$f,dependencies$g,(function(e){return(0,e.typed)(name$f,{any:typeOf})}));function nearlyEqual$1(e,t,r){if(null==r)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var n=e.minus(t).abs();if(n.isZero())return!0;var a=e.constructor.max(e.abs(),t.abs());return n.lte(a.times(r))}return!1}function complexEquals(e,t,r){return nearlyEqual(e.re,t.re,r)&&nearlyEqual(e.im,t.im,r)}var name$g="equalScalar",dependencies$h=["typed","config"],createEqualScalar=factory(name$g,dependencies$h,(function(e){var t=e.typed,r=e.config;return t(name$g,{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,t){return nearlyEqual(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.eq(t)||nearlyEqual$1(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return complexEquals(e,t,r.epsilon)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)}})})),createEqualScalarNumber=factory(name$g,["typed","config"],(function(e){var t=e.typed,r=e.config;return t(name$g,{"number, number":function(e,t){return nearlyEqual(e,t,r.epsilon)}})})),name$h="SparseMatrix",dependencies$i=["typed","equalScalar","Matrix"],createSparseMatrixClass=factory(name$h,dependencies$i,(function(e){var t=e.typed,r=e.equalScalar,n=e.Matrix;function a(e,t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!isString(t))throw new Error("Invalid datatype: "+t);if(isMatrix(e))!function(e,t,r){"SparseMatrix"===t.type?(e._values=t._values?clone(t._values):void 0,e._index=clone(t._index),e._ptr=clone(t._ptr),e._size=clone(t._size),e._datatype=r||t._datatype):i(e,t.valueOf(),r||t._datatype)}(this,e,t);else if(e&&isArray(e.index)&&isArray(e.ptr)&&isArray(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(isArray(e))i(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+typeOf(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}function i(e,n,a){e._values=[],e._index=[],e._ptr=[],e._datatype=a;var i=n.length,o=0,s=r,u=0;if(isString(a)&&(s=t.find(r,[a,a])||r,u=t.convert(0,a)),i>0){var c=0;do{e._ptr.push(e._index.length);for(var l=0;l<i;l++){var p=n[l];if(isArray(p)){if(0===c&&o<p.length&&(o=p.length),c<p.length){var d=p[c];s(d,u)||(e._values.push(d),e._index.push(l))}}else 0===c&&o<1&&(o=1),s(p,u)||(e._values.push(p),e._index.push(l))}c++}while(c<o)}e._ptr.push(e._index.length),e._size=[i,o]}function o(e,t){if(!isIndex(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var r,n,i,o,s=t.size();if(s.length!==e._size.length)throw new DimensionError(s.length,e._size.length);var u=t.min(),c=t.max();for(r=0,n=e._size.length;r<n;r++)validateIndex(u[r],e._size[r]),validateIndex(c[r],e._size[r]);var l=e._values,p=e._index,d=e._ptr,f=t.dimension(0),m=t.dimension(1),h=[],_=[];f.forEach((function(e,t){_[e]=t[0],h[e]=!0}));var v=l?[]:void 0,g=[],y=[];return m.forEach((function(e){for(y.push(g.length),i=d[e],o=d[e+1];i<o;i++)r=p[i],!0===h[r]&&(g.push(_[r]),v&&v.push(l[i]))})),y.push(g.length),new a({values:v,index:g,ptr:y,size:s,datatype:e._datatype})}function s(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var a,i=t.size(),o=t.isScalar();if(isMatrix(r)?(a=r.size(),r=r.toArray()):a=arraySize(r),o){if(0!==a.length)throw new TypeError("Scalar expected");e.set(t.min(),r,n)}else{if(1!==i.length&&2!==i.length)throw new DimensionError(i.length,e._size.length,"<");if(a.length<i.length){for(var s=0,u=0;1===i[s]&&1===a[s];)s++;for(;1===i[s];)u++,s++;r=unsqueeze(r,i.length,u,a)}if(!deepStrictEqual(i,a))throw new DimensionError(i,a,">");for(var c=t.min()[0],l=t.min()[1],p=a[0],d=a[1],f=0;f<p;f++)for(var m=0;m<d;m++){var h=r[f][m];e.set([f+c,m+l],h,n)}}return e}function u(e,t,r,n){if(r-t==0)return r;for(var a=t;a<r;a++)if(n[a]===e)return a;return t}function c(e,t,r,n,a,i,o){a.splice(e,0,n),i.splice(e,0,t);for(var s=r+1;s<o.length;s++)o[s]++}function l(e,n,a,i){var o=i||0,s=r,u=0;isString(e._datatype)&&(s=t.find(r,[e._datatype,e._datatype])||r,u=t.convert(0,e._datatype),o=t.convert(o,e._datatype));var c,l,p,d=!s(o,u),f=e._size[0],m=e._size[1];if(a>m){for(l=m;l<a;l++)if(e._ptr[l]=e._values.length,d)for(c=0;c<f;c++)e._values.push(o),e._index.push(c);e._ptr[a]=e._values.length}else a<m&&(e._ptr.splice(a+1,m-a),e._values.splice(e._ptr[a],e._values.length),e._index.splice(e._ptr[a],e._index.length));if(m=a,n>f){if(d){var h=0;for(l=0;l<m;l++){e._ptr[l]=e._ptr[l]+h,p=e._ptr[l+1]+h;var _=0;for(c=f;c<n;c++,_++)e._values.splice(p+_,0,o),e._index.splice(p+_,0,c),h++}e._ptr[m]=e._values.length}}else if(n<f){var v=0;for(l=0;l<m;l++){e._ptr[l]=e._ptr[l]-v;var g=e._ptr[l],y=e._ptr[l+1]-v;for(p=g;p<y;p++)(c=e._index[p])>n-1&&(e._values.splice(p,1),e._index.splice(p,1),v++)}e._ptr[l]=e._values.length}return e._size[0]=n,e._size[1]=a,e}function p(e,t,r,n,a){var i,o,s=n[0],u=n[1],c=[];for(i=0;i<s;i++)for(c[i]=[],o=0;o<u;o++)c[i][o]=0;for(o=0;o<u;o++)for(var l=r[o],p=r[o+1],d=l;d<p;d++)c[i=t[d]][o]=e?a?clone(e[d]):e[d]:1;return c}return a.prototype=new n,a.prototype.createSparseMatrix=function(e,t){return new a(e,t)},a.prototype.type="SparseMatrix",a.prototype.isSparseMatrix=!0,a.prototype.getDataType=function(){return getArrayDataType(this._values,typeOf)},a.prototype.storage=function(){return"sparse"},a.prototype.datatype=function(){return this._datatype},a.prototype.create=function(e,t){return new a(e,t)},a.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},a.prototype.subset=function(e,t,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return o(this,e);case 2:case 3:return s(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments")}},a.prototype.get=function(e){if(!isArray(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new DimensionError(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],r=e[1];validateIndex(t,this._size[0]),validateIndex(r,this._size[1]);var n=u(t,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===t?this._values[n]:0},a.prototype.set=function(e,n,a){if(!isArray(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new DimensionError(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var i=e[0],o=e[1],s=this._size[0],p=this._size[1],d=r,f=0;isString(this._datatype)&&(d=t.find(r,[this._datatype,this._datatype])||r,f=t.convert(0,this._datatype)),(i>s-1||o>p-1)&&(l(this,Math.max(i+1,s),Math.max(o+1,p),a),s=this._size[0],p=this._size[1]),validateIndex(i,s),validateIndex(o,p);var m=u(i,this._ptr[o],this._ptr[o+1],this._index);return m<this._ptr[o+1]&&this._index[m]===i?d(n,f)?function(e,t,r,n,a){r.splice(e,1),n.splice(e,1);for(var i=t+1;i<a.length;i++)a[i]--}(m,o,this._values,this._index,this._ptr):this._values[m]=n:c(m,i,o,n,this._values,this._index,this._ptr),this},a.prototype.resize=function(e,t,r){if(!isCollection(e))throw new TypeError("Array or Matrix expected");var n=e.valueOf().map((function(e){return Array.isArray(e)&&1===e.length?e[0]:e}));if(2!==n.length)throw new Error("Only two dimensions matrix are supported");return n.forEach((function(e){if(!isNumber(e)||!isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+format$2(n)+")")})),l(r?this.clone():this,n[0],n[1],t)},a.prototype.reshape=function(e,t){if(!isArray(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(e.forEach((function(t){if(!isNumber(t)||!isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+format$2(e)+")")})),this._size[0]*this._size[1]!=e[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return r;for(var n=[],a=0;a<r._ptr.length;a++)for(var i=0;i<r._ptr[a+1]-r._ptr[a];i++)n.push(a);for(var o=r._values.slice(),s=r._index.slice(),l=0;l<r._index.length;l++){var p=s[l],d=n[l],f=p*r._size[1]+d;n[l]=f%e[1],s[l]=Math.floor(f/e[1])}r._values.length=0,r._index.length=0,r._ptr.length=e[1]+1,r._size=e.slice();for(var m=0;m<r._ptr.length;m++)r._ptr[m]=0;for(var h=0;h<o.length;h++){var _=s[h],v=n[h],g=o[h];c(u(_,r._ptr[v],r._ptr[v+1],r._index),_,v,g,r._values,r._index,r._ptr)}return r},a.prototype.clone=function(){return new a({values:this._values?clone(this._values):void 0,index:clone(this._index),ptr:clone(this._ptr),size:clone(this._size),datatype:this._datatype})},a.prototype.size=function(){return this._size.slice(0)},a.prototype.map=function(e,n){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var i=this;return function(e,n,i,o,s,u,c){var l=[],p=[],d=[],f=r,m=0;isString(e._datatype)&&(f=t.find(r,[e._datatype,e._datatype])||r,m=t.convert(0,e._datatype));for(var h=function(e,t,r){e=u(e,t,r),f(e,m)||(l.push(e),p.push(t))},_=o;_<=s;_++){d.push(l.length);var v=e._ptr[_],g=e._ptr[_+1];if(c)for(var y=v;y<g;y++){var b=e._index[y];b>=n&&b<=i&&h(e._values[y],b-n,_-o)}else{for(var $={},x=v;x<g;x++){var w=e._index[x];$[w]=e._values[x]}for(var S=n;S<=i;S++){var N=S in $?$[S]:0;h(N,S-n,_-o)}}}return d.push(l.length),new a({values:l,index:p,ptr:d,size:[i-n+1,s-o+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(t,r,n){return e(t,[r,n],i)}),n)},a.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],n=this._size[1],a=0;a<n;a++){var i=this._ptr[a],o=this._ptr[a+1];if(t)for(var s=i;s<o;s++){var u=this._index[s];e(this._values[s],[u,a],this)}else{for(var c={},l=i;l<o;l++){c[this._index[l]]=this._values[l]}for(var p=0;p<r;p++){e(p in c?c[p]:0,[p,a],this)}}}},a.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},a.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)},a.prototype.format=function(e){for(var t=this._size[0],r=this._size[1],n=this.density(),a="Sparse Matrix ["+format$2(t,e)+" x "+format$2(r,e)+"] density: "+format$2(n,e)+"\n",i=0;i<r;i++)for(var o=this._ptr[i],s=this._ptr[i+1],u=o;u<s;u++){a+="\n    ("+format$2(this._index[u],e)+", "+format$2(i,e)+") ==> "+(this._values?format$2(this._values[u],e):"X")}return a},a.prototype.toString=function(){return format$2(this.toArray())},a.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},a.prototype.diagonal=function(e){if(e){if(isBigNumber(e)&&(e=e.toNumber()),!isNumber(e)||!isInteger(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,r=e<0?-e:0,n=this._size[0],i=this._size[1],o=Math.min(n-r,i-t),s=[],u=[],c=[];c[0]=0;for(var l=t;l<i&&s.length<o;l++)for(var p=this._ptr[l],d=this._ptr[l+1],f=p;f<d;f++){var m=this._index[f];if(m===l-t+r){s.push(this._values[f]),u[s.length-1]=m-r;break}}return c.push(s.length),new a({values:s,index:u,ptr:c,size:[o,1]})},a.fromJSON=function(e){return new a(e)},a.diagonal=function(e,n,i,o,s){if(!isArray(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(isBigNumber(e)&&(e=e.toNumber()),!isNumber(e)||!isInteger(e)||e<1)throw new Error("Size values must be positive integers");return e})),i){if(isBigNumber(i)&&(i=i.toNumber()),!isNumber(i)||!isInteger(i))throw new TypeError("The parameter k must be an integer number")}else i=0;var u=r,c=0;isString(s)&&(u=t.find(r,[s,s])||r,c=t.convert(0,s));var l,p=i>0?i:0,d=i<0?-i:0,f=e[0],m=e[1],h=Math.min(f-d,m-p);if(isArray(n)){if(n.length!==h)throw new Error("Invalid value array length");l=function(e){return n[e]}}else if(isMatrix(n)){var _=n.size();if(1!==_.length||_[0]!==h)throw new Error("Invalid matrix length");l=function(e){return n.get([e])}}else l=function(){return n};for(var v=[],g=[],y=[],b=0;b<m;b++){y.push(v.length);var $=b-p;if($>=0&&$<h){var x=l($);u(x,c)||(g.push($+d),v.push(x))}}return y.push(v.length),new a({values:v,index:g,ptr:y,size:[f,m]})},a.prototype.swapRows=function(e,t){if(!(isNumber(e)&&isInteger(e)&&isNumber(t)&&isInteger(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return validateIndex(e,this._size[0]),validateIndex(t,this._size[0]),a._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},a._forEachRow=function(e,t,r,n,a){for(var i=n[e],o=n[e+1],s=i;s<o;s++)a(r[s],t[s])},a._swapRows=function(e,t,r,n,a,i){for(var o=0;o<r;o++){var s=i[o],c=i[o+1],l=u(e,s,c,a),p=u(t,s,c,a);if(l<c&&p<c&&a[l]===e&&a[p]===t){if(n){var d=n[l];n[l]=n[p],n[p]=d}}else if(l<c&&a[l]===e&&(p>=c||a[p]!==t)){var f=n?n[l]:void 0;a.splice(p,0,t),n&&n.splice(p,0,f),a.splice(p<=l?l+1:l,1),n&&n.splice(p<=l?l+1:l,1)}else if(p<c&&a[p]===t&&(l>=c||a[l]!==e)){var m=n?n[p]:void 0;a.splice(l,0,e),n&&n.splice(l,0,m),a.splice(l<=p?p+1:p,1),n&&n.splice(l<=p?p+1:p,1)}}},a}),{isClass:!0}),name$i="number",dependencies$j=["typed"],createNumber=factory(name$i,dependencies$j,(function(e){var t=(0,e.typed)("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');if(["0b","0o","0x"].includes(e.substring(0,2))){if(t>Math.pow(2,32)-1)throw new SyntaxError('String "'.concat(e,'" is out of range'));2147483648&t&&(t=-1*~(t-1))}return t},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return deepMap(e,this)}});return t.fromJSON=function(e){return parseFloat(e.value)},t})),name$j="string",dependencies$k=["typed"],createString=factory(name$j,dependencies$k,(function(e){return(0,e.typed)(name$j,{"":function(){return""},number:format,null:function(e){return"null"},boolean:function(e){return e+""},string:function(e){return e},"Array | Matrix":function(e){return deepMap(e,this)},any:function(e){return String(e)}})})),name$k="boolean",dependencies$l=["typed"],createBoolean=factory(name$k,dependencies$l,(function(e){return(0,e.typed)(name$k,{"":function(){return!1},boolean:function(e){return e},number:function(e){return!!e},null:function(e){return!1},BigNumber:function(e){return!e.isZero()},string:function(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var r=Number(e);if(""!==e&&!isNaN(r))return!!r;throw new Error('Cannot convert "'+e+'" to a boolean')},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$l="bignumber",dependencies$m=["typed","BigNumber"],createBignumber=factory(name$l,dependencies$m,(function(e){var t=e.typed,r=e.BigNumber;return t("bignumber",{"":function(){return new r(0)},number:function(e){return new r(e+"")},string:function(e){return new r(e)},BigNumber:function(e){return e},Fraction:function(e){return new r(e.n).div(e.d).times(e.s)},null:function(e){return new r(0)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$m="complex",dependencies$n=["typed","Complex"],createComplex=factory(name$m,dependencies$n,(function(e){var t=e.typed,r=e.Complex;return t("complex",{"":function(){return r.ZERO},number:function(e){return new r(e,0)},"number, number":function(e,t){return new r(e,t)},"BigNumber, BigNumber":function(e,t){return new r(e.toNumber(),t.toNumber())},Fraction:function(e){return new r(e.valueOf(),0)},Complex:function(e){return e.clone()},string:function(e){return r(e)},null:function(e){return r(0)},Object:function(e){if("re"in e&&"im"in e)return new r(e.re,e.im);if("r"in e&&"phi"in e||"abs"in e&&"arg"in e)return new r(e);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$n="fraction",dependencies$o=["typed","Fraction"],createFraction=factory(name$n,dependencies$o,(function(e){var t=e.typed,r=e.Fraction;return t("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new r(e)},string:function(e){return new r(e)},"number, number":function(e,t){return new r(e,t)},null:function(e){return new r(0)},BigNumber:function(e){return new r(e.toString())},Fraction:function(e){return e},Object:function(e){return new r(e)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$o="matrix",dependencies$p=["typed","Matrix","DenseMatrix","SparseMatrix"],createMatrix=factory(name$o,dependencies$p,(function(e){var t=e.typed,r=(e.Matrix,e.DenseMatrix),n=e.SparseMatrix;return t(name$o,{"":function(){return a([])},string:function(e){return a([],e)},"string, string":function(e,t){return a([],e,t)},Array:function(e){return a(e)},Matrix:function(e){return a(e,e.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(e,t,a){if("dense"===t||"default"===t||void 0===t)return new r(e,a);if("sparse"===t)return new n(e,a);throw new TypeError("Unknown matrix type "+JSON.stringify(t)+".")}})),name$p="splitUnit",dependencies$q=["typed"],createSplitUnit=factory(name$p,dependencies$q,(function(e){return(0,e.typed)(name$p,{"Unit, Array":function(e,t){return e.splitUnit(t)}})})),name$q="unaryMinus",dependencies$r=["typed"],createUnaryMinus=factory(name$q,dependencies$r,(function(e){return(0,e.typed)(name$q,{number:unaryMinusNumber,Complex:function(e){return e.neg()},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var t=e.clone();return t.value=this(e.value),t},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$r="unaryPlus",dependencies$s=["typed","config","BigNumber"],createUnaryPlus=factory(name$r,dependencies$s,(function(e){var t=e.typed,r=e.config,n=e.BigNumber;return t(name$r,{number:unaryPlusNumber,Complex:function(e){return e},BigNumber:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":function(e){return deepMap(e,this)},"boolean | string":function(e){return"BigNumber"===r.number?new n(+e):+e}})})),name$s="abs",dependencies$t=["typed"],createAbs=factory(name$s,dependencies$t,(function(e){return(0,e.typed)(name$s,{number:absNumber,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return deepMap(e,this)},Unit:function(e){return e.abs()}})})),name$t="apply",dependencies$u=["typed","isInteger"],createApply=factory(name$t,dependencies$u,(function(e){var t=e.typed,r=e.isInteger;return t(name$t,{"Array | Matrix, number | BigNumber, function":function(e,t,n){if(!r(t))throw new TypeError("Integer number expected for dimension");var a=Array.isArray(e)?arraySize(e):e.size();if(t<0||t>=a.length)throw new IndexError(t,a.length);return isMatrix(e)?e.create(_apply(e.valueOf(),t,n)):_apply(e,t,n)}})}));function _apply(e,t,r){var n,a,i;if(t<=0){if(Array.isArray(e[0])){for(i=_switch$1(e),a=[],n=0;n<i.length;n++)a[n]=_apply(i[n],t-1,r);return a}return r(e)}for(a=[],n=0;n<e.length;n++)a[n]=_apply(e[n],t-1,r);return a}function _switch$1(e){var t,r,n=e.length,a=e[0].length,i=[];for(r=0;r<a;r++){var o=[];for(t=0;t<n;t++)o.push(e[t][r]);i.push(o)}return i}var name$u="addScalar",dependencies$v=["typed"],createAddScalar=factory(name$u,dependencies$v,(function(e){return(0,e.typed)(name$u,{"number, number":addNumber,"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":function(e,t){if(null===e.value||void 0===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value||void 0===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var r=e.clone();return r.value=this(r.value,t.value),r.fixPrefix=!1,r}})})),name$v="cbrt",dependencies$w=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],createCbrt=factory(name$v,dependencies$w,(function(e){var t=e.config,r=e.typed,n=e.isNegative,a=e.unaryMinus,i=e.matrix,o=e.Complex,s=e.BigNumber,u=e.Fraction;return r(name$v,{number:cbrtNumber,Complex:c,"Complex, boolean":c,BigNumber:function(e){return e.cbrt()},Unit:function(e){if(e.value&&isComplex(e.value)){var t=e.clone();return t.value=1,(t=t.pow(1/3)).value=c(e.value),t}var r,i=n(e.value);i&&(e.value=a(e.value)),r=isBigNumber(e.value)?new s(1).div(3):isFraction(e.value)?new u(1,3):1/3;var o=e.pow(r);return i&&(o.value=a(o.value)),o},"Array | Matrix":function(e){return deepMap(e,this)}});function c(e,r){var n=e.arg()/3,a=e.abs(),s=new o(cbrtNumber(a),0).mul(new o(0,n).exp());if(r){var u=[s,new o(cbrtNumber(a),0).mul(new o(0,n+2*Math.PI/3).exp()),new o(cbrtNumber(a),0).mul(new o(0,n-2*Math.PI/3).exp())];return"Array"===t.matrix?u:i(u)}return s}})),name$w="ceil",dependencies$x=["typed","config","round"],createCeil=factory(name$w,dependencies$x,(function(e){var t=e.typed,r=e.config,n=e.round;return t("ceil",{number:function(e){return nearlyEqual(e,n(e),r.epsilon)?n(e):ceilNumber(e)},Complex:function(e){return e.ceil()},BigNumber:function(e){return nearlyEqual$1(e,n(e),r.epsilon)?n(e):e.ceil()},Fraction:function(e){return e.ceil()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$x="cube",dependencies$y=["typed"],createCube=factory(name$x,dependencies$y,(function(e){return(0,e.typed)(name$x,{number:cubeNumber,Complex:function(e){return e.mul(e).mul(e)},BigNumber:function(e){return e.times(e).times(e)},Fraction:function(e){return e.pow(3)},"Array | Matrix":function(e){return deepMap(e,this)},Unit:function(e){return e.pow(3)}})})),name$y="exp",dependencies$z=["typed"],createExp=factory(name$y,dependencies$z,(function(e){return(0,e.typed)(name$y,{number:expNumber,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$z="expm1",dependencies$A=["typed","Complex"],createExpm1=factory(name$z,dependencies$A,(function(e){var t=e.typed,r=e.Complex;return t(name$z,{number:expm1Number,Complex:function(e){var t=Math.exp(e.re);return new r(t*Math.cos(e.im)-1,t*Math.sin(e.im))},BigNumber:function(e){return e.exp().minus(1)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$A="fix",dependencies$B=["typed","Complex","ceil","floor"],createFix=factory(name$A,dependencies$B,(function(e){var t=e.typed,r=e.Complex,n=e.ceil,a=e.floor;return t("fix",{number:function(e){return e>0?a(e):n(e)},Complex:function(e){return new r(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},BigNumber:function(e){return e.isNegative()?n(e):a(e)},Fraction:function(e){return e.s<0?e.ceil():e.floor()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$B="floor",dependencies$C=["typed","config","round"],createFloor=factory(name$B,dependencies$C,(function(e){var t=e.typed,r=e.config,n=e.round;return t("floor",{number:function(e){return nearlyEqual(e,n(e),r.epsilon)?n(e):Math.floor(e)},Complex:function(e){return e.floor()},BigNumber:function(e){return nearlyEqual$1(e,n(e),r.epsilon)?n(e):e.floor()},Fraction:function(e){return e.floor()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$C="algorithm01",dependencies$D=["typed"],createAlgorithm01=factory(name$C,dependencies$D,(function(e){var t=e.typed;return function(e,r,n,a){var i=e._data,o=e._size,s=e._datatype,u=r._values,c=r._index,l=r._ptr,p=r._size,d=r._datatype;if(o.length!==p.length)throw new DimensionError(o.length,p.length);if(o[0]!==p[0]||o[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+p+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,m,h=o[0],_=o[1],v="string"==typeof s&&s===d?s:void 0,g=v?t.find(n,[v,v]):n,y=[];for(f=0;f<h;f++)y[f]=[];var b=[],$=[];for(m=0;m<_;m++){for(var x=m+1,w=l[m],S=l[m+1],N=w;N<S;N++)b[f=c[N]]=a?g(u[N],i[f][m]):g(i[f][m],u[N]),$[f]=x;for(f=0;f<h;f++)$[f]===x?y[f][m]=b[f]:y[f][m]=i[f][m]}return e.createDenseMatrix({data:y,size:[h,_],datatype:v})}})),name$D="algorithm04",dependencies$E=["typed","equalScalar"],createAlgorithm04=factory(name$D,dependencies$E,(function(e){var t=e.typed,r=e.equalScalar;return function(e,n,a){var i=e._values,o=e._index,s=e._ptr,u=e._size,c=e._datatype,l=n._values,p=n._index,d=n._ptr,f=n._size,m=n._datatype;if(u.length!==f.length)throw new DimensionError(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var h,_=u[0],v=u[1],g=r,y=0,b=a;"string"==typeof c&&c===m&&(h=c,g=t.find(r,[h,h]),y=t.convert(0,h),b=t.find(a,[h,h]));var $,x,w,S,N,C=i&&l?[]:void 0,E=[],A=[],M=i&&l?[]:void 0,T=i&&l?[]:void 0,O=[],P=[];for(x=0;x<v;x++){A[x]=E.length;var D=x+1;for(S=s[x],N=s[x+1],w=S;w<N;w++)$=o[w],E.push($),O[$]=D,M&&(M[$]=i[w]);for(S=d[x],N=d[x+1],w=S;w<N;w++)if(O[$=p[w]]===D){if(M){var I=b(M[$],l[w]);g(I,y)?O[$]=null:M[$]=I}}else E.push($),P[$]=D,T&&(T[$]=l[w]);if(M&&T)for(w=A[x];w<E.length;)O[$=E[w]]===D?(C[w]=M[$],w++):P[$]===D?(C[w]=T[$],w++):E.splice(w,1)}return A[v]=E.length,e.createSparseMatrix({values:C,index:E,ptr:A,size:[_,v],datatype:h})}})),name$E="algorithm10",dependencies$F=["typed","DenseMatrix"],createAlgorithm10=factory(name$E,dependencies$F,(function(e){var t=e.typed,r=e.DenseMatrix;return function(e,n,a,i){var o=e._values,s=e._index,u=e._ptr,c=e._size,l=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,d=c[0],f=c[1],m=a;"string"==typeof l&&(p=l,n=t.convert(n,p),m=t.find(a,[p,p]));for(var h=[],_=[],v=[],g=0;g<f;g++){for(var y=g+1,b=u[g],$=u[g+1],x=b;x<$;x++){var w=s[x];_[w]=o[x],v[w]=y}for(var S=0;S<d;S++)0===g&&(h[S]=[]),v[S]===y?h[S][g]=i?m(n,_[S]):m(_[S],n):h[S][g]=n}return new r({data:h,size:[d,f],datatype:p})}})),name$F="algorithm13",dependencies$G=["typed"],createAlgorithm13=factory(name$F,dependencies$G,(function(e){var t=e.typed;return function(e,r,n){var a,i=e._data,o=e._size,s=e._datatype,u=r._data,c=r._size,l=r._datatype,p=[];if(o.length!==c.length)throw new DimensionError(o.length,c.length);for(var d=0;d<o.length;d++){if(o[d]!==c[d])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");p[d]=o[d]}var f=n;"string"==typeof s&&s===l&&(a=s,f=t.find(n,[a,a]));var m=p.length>0?function e(t,r,n,a,i,o){var s=[];if(r===n.length-1)for(var u=0;u<a;u++)s[u]=t(i[u],o[u]);else for(var c=0;c<a;c++)s[c]=e(t,r+1,n,n[r+1],i[c],o[c]);return s}(f,0,p,p[0],i,u):[];return e.createDenseMatrix({data:m,size:p,datatype:a})}})),name$G="algorithm14",dependencies$H=["typed"],createAlgorithm14=factory(name$G,dependencies$H,(function(e){var t=e.typed;return function(e,r,n,a){var i,o=e._data,s=e._size,u=e._datatype,c=n;"string"==typeof u&&(i=u,r=t.convert(r,i),c=t.find(n,[i,i]));var l=s.length>0?function e(t,r,n,a,i,o,s){var u=[];if(r===n.length-1)for(var c=0;c<a;c++)u[c]=s?t(o,i[c]):t(i[c],o);else for(var l=0;l<a;l++)u[l]=e(t,r+1,n,n[r+1],i[l],o,s);return u}(c,0,s,s[0],o,r,a):[];return e.createDenseMatrix({data:l,size:clone(s),datatype:i})}})),name$H="gcd",dependencies$I=["typed","matrix","equalScalar","BigNumber","DenseMatrix"],createGcd=factory(name$H,dependencies$I,(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,a=e.BigNumber,i=e.DenseMatrix,o=createAlgorithm01({typed:t}),s=createAlgorithm04({typed:t,equalScalar:n}),u=createAlgorithm10({typed:t,DenseMatrix:i}),c=createAlgorithm13({typed:t}),l=createAlgorithm14({typed:t});return t(name$H,{"number, number":gcdNumber,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function gcd must be integer numbers");var r=new a(0);for(;!t.isZero();){var n=e.mod(t);e=t,t=n}return e.lt(r)?e.neg():e},"Fraction, Fraction":function(e,t){return e.gcd(t)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return u(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return l(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return u(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return l(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return l(r(e),t,this,!1).valueOf()},"number | BigNumber, Array":function(e,t){return l(r(t),e,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,r){for(var n=this(e,t),a=0;a<r.length;a++)n=this(n,r[a]);return n}})})),name$I="algorithm02",dependencies$J=["typed","equalScalar"],createAlgorithm02=factory(name$I,dependencies$J,(function(e){var t=e.typed,r=e.equalScalar;return function(e,n,a,i){var o=e._data,s=e._size,u=e._datatype,c=n._values,l=n._index,p=n._ptr,d=n._size,f=n._datatype;if(s.length!==d.length)throw new DimensionError(s.length,d.length);if(s[0]!==d[0]||s[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+d+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,h=s[0],_=s[1],v=r,g=0,y=a;"string"==typeof u&&u===f&&(m=u,v=t.find(r,[m,m]),g=t.convert(0,m),y=t.find(a,[m,m]));for(var b=[],$=[],x=[],w=0;w<_;w++){x[w]=$.length;for(var S=p[w],N=p[w+1],C=S;C<N;C++){var E=l[C],A=i?y(c[C],o[E][w]):y(o[E][w],c[C]);v(A,g)||($.push(E),b.push(A))}}return x[_]=$.length,n.createSparseMatrix({values:b,index:$,ptr:x,size:[h,_],datatype:m})}})),name$J="algorithm06",dependencies$K=["typed","equalScalar"],createAlgorithm06=factory(name$J,dependencies$K,(function(e){var t=e.typed,r=e.equalScalar;return function(e,n,a){var i=e._values,o=e._size,s=e._datatype,u=n._values,c=n._size,l=n._datatype;if(o.length!==c.length)throw new DimensionError(o.length,c.length);if(o[0]!==c[0]||o[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+c+")");var p,d=o[0],f=o[1],m=r,h=0,_=a;"string"==typeof s&&s===l&&(p=s,m=t.find(r,[p,p]),h=t.convert(0,p),_=t.find(a,[p,p]));for(var v=i&&u?[]:void 0,g=[],y=[],b=v?[]:void 0,$=[],x=[],w=0;w<f;w++){y[w]=g.length;var S=w+1;if(scatter(e,w,$,b,x,S,g,_),scatter(n,w,$,b,x,S,g,_),b)for(var N=y[w];N<g.length;){var C=g[N];if(x[C]===S){var E=b[C];m(E,h)?g.splice(N,1):(v.push(E),N++)}else g.splice(N,1)}else for(var A=y[w];A<g.length;){x[g[A]]!==S?g.splice(A,1):A++}}return y[f]=g.length,e.createSparseMatrix({values:v,index:g,ptr:y,size:[d,f],datatype:p})}})),name$K="algorithm11",dependencies$L=["typed","equalScalar"],createAlgorithm11=factory(name$K,dependencies$L,(function(e){var t=e.typed,r=e.equalScalar;return function(e,n,a,i){var o=e._values,s=e._index,u=e._ptr,c=e._size,l=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,d=c[0],f=c[1],m=r,h=0,_=a;"string"==typeof l&&(p=l,m=t.find(r,[p,p]),h=t.convert(0,p),n=t.convert(n,p),_=t.find(a,[p,p]));for(var v=[],g=[],y=[],b=0;b<f;b++){y[b]=g.length;for(var $=u[b],x=u[b+1],w=$;w<x;w++){var S=s[w],N=i?_(n,o[w]):_(o[w],n);m(N,h)||(g.push(S),v.push(N))}}return y[f]=g.length,e.createSparseMatrix({values:v,index:g,ptr:y,size:[d,f],datatype:p})}})),name$L="lcm",dependencies$M=["typed","matrix","equalScalar"],createLcm=factory(name$L,dependencies$M,(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,a=createAlgorithm02({typed:t,equalScalar:n}),i=createAlgorithm06({typed:t,equalScalar:n}),o=createAlgorithm11({typed:t,equalScalar:n}),s=createAlgorithm13({typed:t}),u=createAlgorithm14({typed:t});return t(name$L,{"number, number":lcmNumber,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero())return e;if(t.isZero())return t;var r=e.times(t);for(;!t.isZero();){var n=t;t=e.mod(n),e=n}return r.div(e).abs()},"Fraction, Fraction":function(e,t){return e.lcm(t)},"SparseMatrix, SparseMatrix":function(e,t){return i(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return o(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return u(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return o(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return u(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return u(r(e),t,this,!1).valueOf()},"number | BigNumber, Array":function(e,t){return u(r(t),e,this,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,r){for(var n=this(e,t),a=0;a<r.length;a++)n=this(n,r[a]);return n}})})),name$M="log10",dependencies$N=["typed","config","Complex"],createLog10=factory(name$M,dependencies$N,(function(e){var t=e.typed,r=e.config,n=e.Complex;return t(name$M,{number:function(e){return e>=0||r.predictable?log10Number(e):new n(e,0).log().div(Math.LN10)},Complex:function(e){return new n(e).log().div(Math.LN10)},BigNumber:function(e){return!e.isNegative()||r.predictable?e.log():new n(e.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$N="log2",dependencies$O=["typed","config","Complex"],createLog2=factory(name$N,dependencies$O,(function(e){var t=e.typed,r=e.config,n=e.Complex;return t(name$N,{number:function(e){return e>=0||r.predictable?log2Number(e):a(new n(e,0))},Complex:a,BigNumber:function(e){return!e.isNegative()||r.predictable?e.log(2):a(new n(e.toNumber(),0))},"Array | Matrix":function(e){return deepMap(e,this)}});function a(e){var t=Math.sqrt(e.re*e.re+e.im*e.im);return new n(Math.log2?Math.log2(t):Math.log(t)/Math.LN2,Math.atan2(e.im,e.re)/Math.LN2)}})),name$O="algorithm03",dependencies$P=["typed"],createAlgorithm03=factory(name$O,dependencies$P,(function(e){var t=e.typed;return function(e,r,n,a){var i=e._data,o=e._size,s=e._datatype,u=r._values,c=r._index,l=r._ptr,p=r._size,d=r._datatype;if(o.length!==p.length)throw new DimensionError(o.length,p.length);if(o[0]!==p[0]||o[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+p+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,m=o[0],h=o[1],_=0,v=n;"string"==typeof s&&s===d&&(f=s,_=t.convert(0,f),v=t.find(n,[f,f]));for(var g=[],y=0;y<m;y++)g[y]=[];for(var b=[],$=[],x=0;x<h;x++){for(var w=x+1,S=l[x],N=l[x+1],C=S;C<N;C++){var E=c[C];b[E]=a?v(u[C],i[E][x]):v(i[E][x],u[C]),$[E]=w}for(var A=0;A<m;A++)$[A]===w?g[A][x]=b[A]:g[A][x]=a?v(_,i[A][x]):v(i[A][x],_)}return e.createDenseMatrix({data:g,size:[m,h],datatype:f})}})),name$P="algorithm05",dependencies$Q=["typed","equalScalar"],createAlgorithm05=factory(name$P,dependencies$Q,(function(e){var t=e.typed,r=e.equalScalar;return function(e,n,a){var i=e._values,o=e._index,s=e._ptr,u=e._size,c=e._datatype,l=n._values,p=n._index,d=n._ptr,f=n._size,m=n._datatype;if(u.length!==f.length)throw new DimensionError(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var h,_=u[0],v=u[1],g=r,y=0,b=a;"string"==typeof c&&c===m&&(h=c,g=t.find(r,[h,h]),y=t.convert(0,h),b=t.find(a,[h,h]));var $,x,w,S,N=i&&l?[]:void 0,C=[],E=[],A=N?[]:void 0,M=N?[]:void 0,T=[],O=[];for(x=0;x<v;x++){E[x]=C.length;var P=x+1;for(w=s[x],S=s[x+1];w<S;w++)$=o[w],C.push($),T[$]=P,A&&(A[$]=i[w]);for(w=d[x],S=d[x+1];w<S;w++)T[$=p[w]]!==P&&C.push($),O[$]=P,M&&(M[$]=l[w]);if(N)for(w=E[x];w<C.length;){var D=T[$=C[w]],I=O[$];if(D===P||I===P){var F=b(D===P?A[$]:y,I===P?M[$]:y);g(F,y)?C.splice(w,1):(N.push(F),w++)}}}return E[v]=C.length,e.createSparseMatrix({values:N,index:C,ptr:E,size:[_,v],datatype:h})}})),name$Q="algorithm12",dependencies$R=["typed","DenseMatrix"],createAlgorithm12=factory(name$Q,dependencies$R,(function(e){var t=e.typed,r=e.DenseMatrix;return function(e,n,a,i){var o=e._values,s=e._index,u=e._ptr,c=e._size,l=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,d=c[0],f=c[1],m=a;"string"==typeof l&&(p=l,n=t.convert(n,p),m=t.find(a,[p,p]));for(var h=[],_=[],v=[],g=0;g<f;g++){for(var y=g+1,b=u[g],$=u[g+1],x=b;x<$;x++){var w=s[x];_[w]=o[x],v[w]=y}for(var S=0;S<d;S++)0===g&&(h[S]=[]),v[S]===y?h[S][g]=i?m(n,_[S]):m(_[S],n):h[S][g]=i?m(n,0):m(0,n)}return new r({data:h,size:[d,f],datatype:p})}})),name$R="mod",dependencies$S=["typed","matrix","equalScalar","DenseMatrix"],createMod=factory(name$R,dependencies$S,(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,a=e.DenseMatrix,i=createAlgorithm02({typed:t,equalScalar:n}),o=createAlgorithm03({typed:t}),s=createAlgorithm05({typed:t,equalScalar:n}),u=createAlgorithm11({typed:t,equalScalar:n}),c=createAlgorithm12({typed:t,DenseMatrix:a}),l=createAlgorithm13({typed:t}),p=createAlgorithm14({typed:t});return t(name$R,{"number, number":modNumber,"BigNumber, BigNumber":function(e,t){if(t.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return t.isZero()?e:e.mod(t)},"Fraction, Fraction":function(e,t){if(t.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return e.compare(0)>=0?e.mod(t):e.mod(t).add(t).mod(t)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return u(e,t,this,!1)},"DenseMatrix, any":function(e,t){return p(e,t,this,!1)},"any, SparseMatrix":function(e,t){return c(t,e,this,!0)},"any, DenseMatrix":function(e,t){return p(t,e,this,!0)},"Array, any":function(e,t){return p(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return p(r(t),e,this,!0).valueOf()}})})),name$S="multiplyScalar",dependencies$T=["typed"],createMultiplyScalar=factory(name$S,dependencies$T,(function(e){return(0,e.typed)("multiplyScalar",{"number, number":multiplyNumber,"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(e,t){var r=t.clone();return r.value=null===r.value?r._normalize(e):this(r.value,e),r},"Unit, number | Fraction | BigNumber | Complex":function(e,t){var r=e.clone();return r.value=null===r.value?r._normalize(t):this(r.value,t),r},"Unit, Unit":function(e,t){return e.multiply(t)}})})),name$T="multiply",dependencies$U=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],createMultiply=factory(name$T,dependencies$U,(function(e){var t=e.typed,r=e.matrix,n=e.addScalar,a=e.multiplyScalar,i=e.equalScalar,o=e.dot,s=createAlgorithm11({typed:t,equalScalar:i}),u=createAlgorithm14({typed:t});function c(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}function l(e,r){if("dense"!==r.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,r){var i,o=e._data,s=e._size,u=e._datatype,c=r._data,l=r._size,p=r._datatype,d=s[0],f=l[1],m=n,h=a;u&&p&&u===p&&"string"==typeof u&&(i=u,m=t.find(n,[i,i]),h=t.find(a,[i,i]));for(var _=[],v=0;v<f;v++){for(var g=h(o[0],c[0][v]),y=1;y<d;y++)g=m(g,h(o[y],c[y][v]));_[v]=g}return e.createDenseMatrix({data:_,size:[f],datatype:i})}(e,r)}var p=t("_multiplyMatrixVector",{"DenseMatrix, any":function(e,r){var i,o=e._data,s=e._size,u=e._datatype,c=r._data,l=r._datatype,p=s[0],d=s[1],f=n,m=a;u&&l&&u===l&&"string"==typeof u&&(i=u,f=t.find(n,[i,i]),m=t.find(a,[i,i]));for(var h=[],_=0;_<p;_++){for(var v=o[_],g=m(v[0],c[0]),y=1;y<d;y++)g=f(g,m(v[y],c[y]));h[_]=g}return e.createDenseMatrix({data:h,size:[p],datatype:i})},"SparseMatrix, any":function(e,r){var o=e._values,s=e._index,u=e._ptr,c=e._datatype;if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,p=r._data,d=r._datatype,f=e._size[0],m=r._size[0],h=[],_=[],v=[],g=n,y=a,b=i,$=0;c&&d&&c===d&&"string"==typeof c&&(l=c,g=t.find(n,[l,l]),y=t.find(a,[l,l]),b=t.find(i,[l,l]),$=t.convert(0,l));var x=[],w=[];v[0]=0;for(var S=0;S<m;S++){var N=p[S];if(!b(N,$))for(var C=u[S],E=u[S+1],A=C;A<E;A++){var M=s[A];w[M]?x[M]=g(x[M],y(N,o[A])):(w[M]=!0,_.push(M),x[M]=y(N,o[A]))}}for(var T=_.length,O=0;O<T;O++){var P=_[O];h[O]=x[P]}return v[1]=_.length,e.createSparseMatrix({values:h,index:_,ptr:v,size:[f,1],datatype:l})}}),d=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,r){var i,o=e._data,s=e._size,u=e._datatype,c=r._data,l=r._size,p=r._datatype,d=s[0],f=s[1],m=l[1],h=n,_=a;u&&p&&u===p&&"string"==typeof u&&(i=u,h=t.find(n,[i,i]),_=t.find(a,[i,i]));for(var v=[],g=0;g<d;g++){var y=o[g];v[g]=[];for(var b=0;b<m;b++){for(var $=_(y[0],c[0][b]),x=1;x<f;x++)$=h($,_(y[x],c[x][b]));v[g][b]=$}}return e.createDenseMatrix({data:v,size:[d,m],datatype:i})},"DenseMatrix, SparseMatrix":function(e,r){var o=e._data,s=e._size,u=e._datatype,c=r._values,l=r._index,p=r._ptr,d=r._size,f=r._datatype;if(!c)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var m,h=s[0],_=d[1],v=n,g=a,y=i,b=0;u&&f&&u===f&&"string"==typeof u&&(m=u,v=t.find(n,[m,m]),g=t.find(a,[m,m]),y=t.find(i,[m,m]),b=t.convert(0,m));for(var $=[],x=[],w=[],S=r.createSparseMatrix({values:$,index:x,ptr:w,size:[h,_],datatype:m}),N=0;N<_;N++){w[N]=x.length;var C=p[N],E=p[N+1];if(E>C)for(var A=0,M=0;M<h;M++){for(var T=M+1,O=void 0,P=C;P<E;P++){var D=l[P];A!==T?(O=g(o[M][D],c[P]),A=T):O=v(O,g(o[M][D],c[P]))}A!==T||y(O,b)||(x.push(M),$.push(O))}}return w[_]=x.length,S},"SparseMatrix, DenseMatrix":function(e,r){var o=e._values,s=e._index,u=e._ptr,c=e._datatype;if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,p=r._data,d=r._datatype,f=e._size[0],m=r._size[0],h=r._size[1],_=n,v=a,g=i,y=0;c&&d&&c===d&&"string"==typeof c&&(l=c,_=t.find(n,[l,l]),v=t.find(a,[l,l]),g=t.find(i,[l,l]),y=t.convert(0,l));for(var b=[],$=[],x=[],w=e.createSparseMatrix({values:b,index:$,ptr:x,size:[f,h],datatype:l}),S=[],N=[],C=0;C<h;C++){x[C]=$.length;for(var E=C+1,A=0;A<m;A++){var M=p[A][C];if(!g(M,y))for(var T=u[A],O=u[A+1],P=T;P<O;P++){var D=s[P];N[D]!==E?(N[D]=E,$.push(D),S[D]=v(M,o[P])):S[D]=_(S[D],v(M,o[P]))}}for(var I=x[C],F=$.length,k=I;k<F;k++){var R=$[k];b[k]=S[R]}}return x[h]=$.length,w},"SparseMatrix, SparseMatrix":function(e,r){var i,o=e._values,s=e._index,u=e._ptr,c=e._datatype,l=r._values,p=r._index,d=r._ptr,f=r._datatype,m=e._size[0],h=r._size[1],_=o&&l,v=n,g=a;c&&f&&c===f&&"string"==typeof c&&(i=c,v=t.find(n,[i,i]),g=t.find(a,[i,i]));for(var y,b,$,x,w,S,N,C,E=_?[]:void 0,A=[],M=[],T=e.createSparseMatrix({values:E,index:A,ptr:M,size:[m,h],datatype:i}),O=_?[]:void 0,P=[],D=0;D<h;D++){M[D]=A.length;var I=D+1;for(w=d[D],S=d[D+1],x=w;x<S;x++)if(C=p[x],_)for(b=u[C],$=u[C+1],y=b;y<$;y++)N=s[y],P[N]!==I?(P[N]=I,A.push(N),O[N]=g(l[x],o[y])):O[N]=v(O[N],g(l[x],o[y]));else for(b=u[C],$=u[C+1],y=b;y<$;y++)N=s[y],P[N]!==I&&(P[N]=I,A.push(N));if(_)for(var F=M[D],k=A.length,R=F;R<k;R++){var j=A[R];E[R]=O[j]}}return M[h]=A.length,T}});return t(name$T,extend({"Array, Array":function(e,t){c(arraySize(e),arraySize(t));var n=this(r(e),r(t));return isMatrix(n)?n.valueOf():n},"Matrix, Matrix":function(e,t){var r=e.size(),n=t.size();return c(r,n),1===r.length?1===n.length?function(e,t,r){if(0===r)throw new Error("Cannot multiply two empty vectors");return o(e,t)}(e,t,r[0]):l(e,t):1===n.length?p(e,t):d(e,t)},"Matrix, Array":function(e,t){return this(e,r(t))},"Array, Matrix":function(e,t){return this(r(e,t.storage()),t)},"SparseMatrix, any":function(e,t){return s(e,t,a,!1)},"DenseMatrix, any":function(e,t){return u(e,t,a,!1)},"any, SparseMatrix":function(e,t){return s(t,e,a,!0)},"any, DenseMatrix":function(e,t){return u(t,e,a,!0)},"Array, any":function(e,t){return u(r(e),t,a,!1).valueOf()},"any, Array":function(e,t){return u(r(t),e,a,!0).valueOf()},"any, any":a,"any, any, ...any":function(e,t,r){for(var n=this(e,t),a=0;a<r.length;a++)n=this(n,r[a]);return n}},a.signatures))})),name$U="nthRoot",dependencies$V=["typed","matrix","equalScalar","BigNumber"],createNthRoot=factory(name$U,dependencies$V,(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,a=e.BigNumber,i=createAlgorithm01({typed:t}),o=createAlgorithm02({typed:t,equalScalar:n}),s=createAlgorithm06({typed:t,equalScalar:n}),u=createAlgorithm11({typed:t,equalScalar:n}),c=createAlgorithm13({typed:t}),l=createAlgorithm14({typed:t}),p="Complex number not supported in function nthRoot. Use nthRoots instead.";return t(name$U,{number:function(e){return nthRootNumber(e,2)},"number, number":nthRootNumber,BigNumber:function(e){return d(e,new a(2))},Complex:function(e){throw new Error(p)},"Complex, number":function(e,t){throw new Error(p)},"BigNumber, BigNumber":d,"Array | Matrix":function(e){return this(e,2)},"SparseMatrix, SparseMatrix":function(e,t){if(1===t.density())return s(e,t,this);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){if(1===t.density())return i(e,t,this,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return u(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return l(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){if(1===t.density())return u(t,e,this,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function(e,t){return l(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(r(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,r(t)).valueOf()}});function d(e,t){var r=a.precision,n=a.clone({precision:r+2}),i=new a(0),o=new n(1),s=t.isNegative();if(s&&(t=t.neg()),t.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!t.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return s?new n(1/0):0;if(!e.isFinite())return s?i:e;var u=e.abs().pow(o.div(t));return u=e.isNeg()?u.neg():u,new a((s?o.div(u):u).toPrecision(r))}})),name$V="sign",dependencies$W=["typed","BigNumber","Fraction","complex"],createSign=factory(name$V,dependencies$W,(function(e){var t=e.typed,r=e.BigNumber,n=e.complex,a=e.Fraction;return t(name$V,{number:signNumber,Complex:function(e){return 0===e.im?n(signNumber(e.re)):e.sign()},BigNumber:function(e){return new r(e.cmp(0))},Fraction:function(e){return new a(e.s,1)},"Array | Matrix":function(e){return deepMap(e,this)},Unit:function(e){return this(e.value)}})})),name$W="sqrt",dependencies$X=["config","typed","Complex"],createSqrt=factory(name$W,dependencies$X,(function(e){var t=e.config,r=e.typed,n=e.Complex;return r("sqrt",{number:a,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.sqrt():a(e.toNumber())},"Array | Matrix":function(e){return deepMap(e,this)},Unit:function(e){return e.pow(.5)}});function a(e){return isNaN(e)?NaN:e>=0||t.predictable?Math.sqrt(e):new n(e,0).sqrt()}})),name$X="square",dependencies$Y=["typed"],createSquare=factory(name$X,dependencies$Y,(function(e){return(0,e.typed)(name$X,{number:squareNumber,Complex:function(e){return e.mul(e)},BigNumber:function(e){return e.times(e)},Fraction:function(e){return e.mul(e)},"Array | Matrix":function(e){return deepMap(e,this)},Unit:function(e){return e.pow(2)}})})),name$Y="subtract",dependencies$Z=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],createSubtract=factory(name$Y,dependencies$Z,(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,a=e.addScalar,i=e.unaryMinus,o=e.DenseMatrix,s=createAlgorithm01({typed:t}),u=createAlgorithm03({typed:t}),c=createAlgorithm05({typed:t,equalScalar:n}),l=createAlgorithm10({typed:t,DenseMatrix:o}),p=createAlgorithm13({typed:t}),d=createAlgorithm14({typed:t});return t(name$Y,{"number, number":function(e,t){return e-t},"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":function(e,t){if(null===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var r=e.clone();return r.value=this(r.value,t.value),r.fixPrefix=!1,r},"SparseMatrix, SparseMatrix":function(e,t){return checkEqualDimensions(e,t),c(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return checkEqualDimensions(e,t),u(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return checkEqualDimensions(e,t),s(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return checkEqualDimensions(e,t),p(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return l(e,i(t),a)},"DenseMatrix, any":function(e,t){return d(e,t,this)},"any, SparseMatrix":function(e,t){return l(t,e,this,!0)},"any, DenseMatrix":function(e,t){return d(t,e,this,!0)},"Array, any":function(e,t){return d(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return d(r(t),e,this,!0).valueOf()}})}));function checkEqualDimensions(e,t){var r=e.size(),n=t.size();if(r.length!==n.length)throw new DimensionError(r.length,n.length)}var name$Z="xgcd",dependencies$_=["typed","config","matrix","BigNumber"],createXgcd=factory(name$Z,dependencies$_,(function(e){var t=e.typed,r=e.config,n=e.matrix,a=e.BigNumber;return t(name$Z,{"number, number":function(e,t){var a=xgcdNumber(e,t);return"Array"===r.matrix?a:n(a)},"BigNumber, BigNumber":function(e,t){var i,o,s,u,c=new a(0),l=new a(1),p=c,d=l,f=l,m=c;if(!e.isInt()||!t.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!t.isZero();)o=e.div(t).floor(),s=e.mod(t),i=p,p=d.minus(o.times(p)),d=i,i=f,f=m.minus(o.times(f)),m=i,e=t,t=s;u=e.lt(c)?[e.neg(),d.neg(),m.neg()]:[e,e.isZero()?0:d,m];return"Array"===r.matrix?u:n(u)}})})),name$_="algorithm09",dependencies$$=["typed","equalScalar"],createAlgorithm09=factory(name$_,dependencies$$,(function(e){var t=e.typed,r=e.equalScalar;return function(e,n,a){var i=e._values,o=e._index,s=e._ptr,u=e._size,c=e._datatype,l=n._values,p=n._index,d=n._ptr,f=n._size,m=n._datatype;if(u.length!==f.length)throw new DimensionError(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var h,_=u[0],v=u[1],g=r,y=0,b=a;"string"==typeof c&&c===m&&(h=c,g=t.find(r,[h,h]),y=t.convert(0,h),b=t.find(a,[h,h]));var $,x,w,S,N,C=i&&l?[]:void 0,E=[],A=[],M=C?[]:void 0,T=[];for(x=0;x<v;x++){A[x]=E.length;var O=x+1;if(M)for(S=d[x],N=d[x+1],w=S;w<N;w++)T[$=p[w]]=O,M[$]=l[w];for(S=s[x],N=s[x+1],w=S;w<N;w++)if($=o[w],M){var P=T[$]===O?M[$]:y,D=b(i[w],P);g(D,y)||(E.push($),C.push(D))}else E.push($)}return A[v]=E.length,e.createSparseMatrix({values:C,index:E,ptr:A,size:[_,v],datatype:h})}})),name$$="dotMultiply",dependencies$10=["typed","matrix","equalScalar","multiplyScalar"],createDotMultiply=factory(name$$,dependencies$10,(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,a=e.multiplyScalar,i=createAlgorithm02({typed:t,equalScalar:n}),o=createAlgorithm09({typed:t,equalScalar:n}),s=createAlgorithm11({typed:t,equalScalar:n}),u=createAlgorithm13({typed:t}),c=createAlgorithm14({typed:t});return t(name$$,{"any, any":a,"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,a,!1)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,a,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,a,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,a)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,a,!1)},"DenseMatrix, any":function(e,t){return c(e,t,a,!1)},"any, SparseMatrix":function(e,t){return s(t,e,a,!0)},"any, DenseMatrix":function(e,t){return c(t,e,a,!0)},"Array, any":function(e,t){return c(r(e),t,a,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,a,!0).valueOf()}})}));function bitAndBigNumber(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new r(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e}return bitwise(e,t,(function(e,t){return e&t}))}function bitNotBigNumber(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,r=t.precision;t.config({precision:1e9});var n=e.plus(new t(1));return n.s=-n.s||null,t.config({precision:r}),n}function bitOrBigNumber(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);var n=new r(-1);return e.isZero()||t.eq(n)||e.eq(t)?t:t.isZero()||e.eq(n)?e:e.isFinite()&&t.isFinite()?bitwise(e,t,(function(e,t){return e|t})):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?n:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e}function bitwise(e,t,r){var n,a,i,o,s,u=e.constructor,c=+(e.s<0),l=+(t.s<0);if(c){n=decCoefficientToBinaryString(bitNotBigNumber(e));for(var p=0;p<n.length;++p)n[p]^=1}else n=decCoefficientToBinaryString(e);if(l){a=decCoefficientToBinaryString(bitNotBigNumber(t));for(var d=0;d<a.length;++d)a[d]^=1}else a=decCoefficientToBinaryString(t);n.length<=a.length?(i=n,o=a,s=c):(i=a,o=n,s=l);var f=i.length,m=o.length,h=1^r(c,l),_=new u(1^h),v=new u(1),g=new u(2),y=u.precision;for(u.config({precision:1e9});f>0;)r(i[--f],o[--m])===h&&(_=_.plus(v)),v=v.times(g);for(;m>0;)r(s,o[--m])===h&&(_=_.plus(v)),v=v.times(g);return u.config({precision:y}),0===h&&(_.s=-_.s),_}function decCoefficientToBinaryString(e){for(var t=e.d,r=t[0]+"",n=1;n<t.length;++n){for(var a=t[n]+"",i=7-a.length;i--;)a="0"+a;r+=a}for(var o=r.length;"0"===r.charAt(o);)o--;var s=e.e,u=r.slice(0,o+1||1),c=u.length;if(s>0)if(++s>c)for(s-=c;s--;)u+="0";else s<c&&(u=u.slice(0,s)+"."+u.slice(s));for(var l=[0],p=0;p<u.length;){for(var d=l.length;d--;)l[d]*=10;l[0]+=parseInt(u.charAt(p++));for(var f=0;f<l.length;++f)l[f]>1&&(null!==l[f+1]&&void 0!==l[f+1]||(l[f+1]=0),l[f+1]+=l[f]>>1,l[f]&=1)}return l.reverse()}function bitXor(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new r(0);var n=new r(-1);return e.eq(n)?bitNotBigNumber(t):t.eq(n)?bitNotBigNumber(e):e.isFinite()&&t.isFinite()?bitwise(e,t,(function(e,t){return e^t})):e.isFinite()||t.isFinite()?new r(e.isNegative()===t.isNegative()?1/0:-1/0):n}function leftShiftBigNumber(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new r(2).pow(t)):new r(NaN)}function rightArithShiftBigNumber(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new r(2).pow(t)).floor():e.isNegative()?new r(-1):e.isFinite()?new r(0):new r(NaN)}var name$10="bitAnd",dependencies$11=["typed","matrix","equalScalar"],createBitAnd=factory(name$10,dependencies$11,(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,a=createAlgorithm02({typed:t,equalScalar:n}),i=createAlgorithm06({typed:t,equalScalar:n}),o=createAlgorithm11({typed:t,equalScalar:n}),s=createAlgorithm13({typed:t}),u=createAlgorithm14({typed:t});return t(name$10,{"number, number":bitAndNumber,"BigNumber, BigNumber":bitAndBigNumber,"SparseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return o(e,t,this,!1)},"DenseMatrix, any":function(e,t){return u(e,t,this,!1)},"any, SparseMatrix":function(e,t){return o(t,e,this,!0)},"any, DenseMatrix":function(e,t){return u(t,e,this,!0)},"Array, any":function(e,t){return u(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return u(r(t),e,this,!0).valueOf()}})})),name$11="bitNot",dependencies$12=["typed"],createBitNot=factory(name$11,dependencies$12,(function(e){return(0,e.typed)(name$11,{number:bitNotNumber,BigNumber:bitNotBigNumber,"Array | Matrix":function(e){return deepMap(e,this)}})})),name$12="bitOr",dependencies$13=["typed","matrix","equalScalar","DenseMatrix"],createBitOr=factory(name$12,dependencies$13,(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,a=e.DenseMatrix,i=createAlgorithm01({typed:t}),o=createAlgorithm04({typed:t,equalScalar:n}),s=createAlgorithm10({typed:t,DenseMatrix:a}),u=createAlgorithm13({typed:t}),c=createAlgorithm14({typed:t});return t(name$12,{"number, number":bitOrNumber,"BigNumber, BigNumber":bitOrBigNumber,"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,this,!1)},"DenseMatrix, any":function(e,t){return c(e,t,this,!1)},"any, SparseMatrix":function(e,t){return s(t,e,this,!0)},"any, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, any":function(e,t){return c(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,this,!0).valueOf()}})})),name$13="algorithm07",dependencies$14=["typed","DenseMatrix"],createAlgorithm07=factory(name$13,dependencies$14,(function(e){var t=e.typed,r=e.DenseMatrix;return function(e,a,i){var o=e._size,s=e._datatype,u=a._size,c=a._datatype;if(o.length!==u.length)throw new DimensionError(o.length,u.length);if(o[0]!==u[0]||o[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+u+")");var l,p,d,f=o[0],m=o[1],h=0,_=i;"string"==typeof s&&s===c&&(l=s,h=t.convert(0,l),_=t.find(i,[l,l]));var v=[];for(p=0;p<f;p++)v[p]=[];var g=[],y=[],b=[],$=[];for(d=0;d<m;d++){var x=d+1;for(n(e,d,b,g,x),n(a,d,$,y,x),p=0;p<f;p++){var w=b[p]===x?g[p]:h,S=$[p]===x?y[p]:h;v[p][d]=_(w,S)}}return new r({data:v,size:[f,m],datatype:l})};function n(e,t,r,n,a){for(var i=e._values,o=e._index,s=e._ptr,u=s[t],c=s[t+1];u<c;u++){var l=o[u];r[l]=a,n[l]=i[u]}}})),name$14="bitXor",dependencies$15=["typed","matrix","DenseMatrix"],createBitXor=factory(name$14,dependencies$15,(function(e){var t=e.typed,r=e.matrix,n=e.DenseMatrix,a=createAlgorithm03({typed:t}),i=createAlgorithm07({typed:t,DenseMatrix:n}),o=createAlgorithm12({typed:t,DenseMatrix:n}),s=createAlgorithm13({typed:t}),u=createAlgorithm14({typed:t});return t(name$14,{"number, number":bitXorNumber,"BigNumber, BigNumber":bitXor,"SparseMatrix, SparseMatrix":function(e,t){return i(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return o(e,t,this,!1)},"DenseMatrix, any":function(e,t){return u(e,t,this,!1)},"any, SparseMatrix":function(e,t){return o(t,e,this,!0)},"any, DenseMatrix":function(e,t){return u(t,e,this,!0)},"Array, any":function(e,t){return u(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return u(r(t),e,this,!0).valueOf()}})})),name$15="arg",dependencies$16=["typed"],createArg=factory(name$15,dependencies$16,(function(e){return(0,e.typed)(name$15,{number:function(e){return Math.atan2(0,e)},BigNumber:function(e){return e.constructor.atan2(0,e)},Complex:function(e){return e.arg()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$16="conj",dependencies$17=["typed"],createConj=factory(name$16,dependencies$17,(function(e){return(0,e.typed)(name$16,{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.conjugate()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$17="im",dependencies$18=["typed"],createIm=factory(name$17,dependencies$18,(function(e){return(0,e.typed)(name$17,{number:function(e){return 0},BigNumber:function(e){return e.mul(0)},Complex:function(e){return e.im},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$18="re",dependencies$19=["typed"],createRe=factory(name$18,dependencies$19,(function(e){return(0,e.typed)(name$18,{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.re},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$19="not",dependencies$1a=["typed"],createNot=factory(name$19,dependencies$1a,(function(e){return(0,e.typed)(name$19,{number:notNumber,Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},Unit:function(e){return null===e.value||this(e.value)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$1a="or",dependencies$1b=["typed","matrix","equalScalar","DenseMatrix"],createOr=factory(name$1a,dependencies$1b,(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,a=e.DenseMatrix,i=createAlgorithm03({typed:t}),o=createAlgorithm05({typed:t,equalScalar:n}),s=createAlgorithm12({typed:t,DenseMatrix:a}),u=createAlgorithm13({typed:t}),c=createAlgorithm14({typed:t});return t(name$1a,{"number, number":orNumber,"Complex, Complex":function(e,t){return 0!==e.re||0!==e.im||0!==t.re||0!==t.im},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!e.isNaN()||!t.isZero()&&!t.isNaN()},"Unit, Unit":function(e,t){return this(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,this,!1)},"DenseMatrix, any":function(e,t){return c(e,t,this,!1)},"any, SparseMatrix":function(e,t){return s(t,e,this,!0)},"any, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, any":function(e,t){return c(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,this,!0).valueOf()}})})),name$1b="xor",dependencies$1c=["typed","matrix","DenseMatrix"],createXor=factory(name$1b,dependencies$1c,(function(e){var t=e.typed,r=e.matrix,n=e.DenseMatrix,a=createAlgorithm03({typed:t}),i=createAlgorithm07({typed:t,DenseMatrix:n}),o=createAlgorithm12({typed:t,DenseMatrix:n}),s=createAlgorithm13({typed:t}),u=createAlgorithm14({typed:t});return t(name$1b,{"number, number":xorNumber,"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)!=(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return(!e.isZero()&&!e.isNaN())!=(!t.isZero()&&!t.isNaN())},"Unit, Unit":function(e,t){return this(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return i(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return o(e,t,this,!1)},"DenseMatrix, any":function(e,t){return u(e,t,this,!1)},"any, SparseMatrix":function(e,t){return o(t,e,this,!0)},"any, DenseMatrix":function(e,t){return u(t,e,this,!0)},"Array, any":function(e,t){return u(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return u(r(t),e,this,!0).valueOf()}})})),name$1c="concat",dependencies$1d=["typed","matrix","isInteger"],createConcat=factory(name$1c,dependencies$1d,(function(e){var t=e.typed,r=e.matrix,n=e.isInteger;return t(name$1c,{"...Array | Matrix | number | BigNumber":function(e){var t,a,i=e.length,o=-1,s=!1,u=[];for(t=0;t<i;t++){var c=e[t];if(isMatrix(c)&&(s=!0),isNumber(c)||isBigNumber(c)){if(t!==i-1)throw new Error("Dimension must be specified as last argument");if(a=o,o=c.valueOf(),!n(o))throw new TypeError("Integer number expected for dimension");if(o<0||t>0&&o>a)throw new IndexError(o,a+1)}else{var l=clone(c).valueOf(),p=arraySize(l);if(u[t]=l,a=o,o=p.length-1,t>0&&o!==a)throw new DimensionError(a+1,o+1)}}if(0===u.length)throw new SyntaxError("At least one matrix expected");for(var d=u.shift();u.length;)d=_concat(d,u.shift(),o,0);return s?r(d):d},"...string":function(e){return e.join("")}})}));function _concat(e,t,r,n){if(n<r){if(e.length!==t.length)throw new DimensionError(e.length,t.length);for(var a=[],i=0;i<e.length;i++)a[i]=_concat(e[i],t[i],r,n+1);return a}return e.concat(t)}var name$1d="column",dependencies$1e=["typed","Index","matrix","range"],createColumn=factory(name$1d,dependencies$1e,(function(e){var t=e.typed,r=e.Index,n=e.matrix,a=e.range;return t(name$1d,{"Matrix, number":i,"Array, number":function(e,t){return i(n(clone(e)),t).valueOf()}});function i(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");validateIndex(t,e.size()[1]);var n=a(0,e.size()[0]),i=new r(n,t);return e.subset(i)}})),name$1e="cross",dependencies$1f=["typed","matrix","subtract","multiply"],createCross=factory(name$1e,dependencies$1f,(function(e){var t=e.typed,r=e.matrix,n=e.subtract,a=e.multiply;return t(name$1e,{"Matrix, Matrix":function(e,t){return r(i(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return r(i(e.toArray(),t))},"Array, Matrix":function(e,t){return r(i(e,t.toArray()))},"Array, Array":i});function i(e,t){var r=Math.max(arraySize(e).length,arraySize(t).length);e=squeeze(e),t=squeeze(t);var i=arraySize(e),o=arraySize(t);if(1!==i.length||1!==o.length||3!==i[0]||3!==o[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+i.join(", ")+"], B = ["+o.join(", ")+"])");var s=[n(a(e[1],t[2]),a(e[2],t[1])),n(a(e[2],t[0]),a(e[0],t[2])),n(a(e[0],t[1]),a(e[1],t[0]))];return r>1?[s]:s}})),name$1f="diag",dependencies$1g=["typed","matrix","DenseMatrix","SparseMatrix"],createDiag=factory(name$1f,dependencies$1g,(function(e){var t=e.typed,r=e.matrix,n=e.DenseMatrix,a=e.SparseMatrix;return t(name$1f,{Array:function(e){return i(e,0,arraySize(e),null)},"Array, number":function(e,t){return i(e,t,arraySize(e),null)},"Array, BigNumber":function(e,t){return i(e,t.toNumber(),arraySize(e),null)},"Array, string":function(e,t){return i(e,0,arraySize(e),t)},"Array, number, string":function(e,t,r){return i(e,t,arraySize(e),r)},"Array, BigNumber, string":function(e,t,r){return i(e,t.toNumber(),arraySize(e),r)},Matrix:function(e){return i(e,0,e.size(),e.storage())},"Matrix, number":function(e,t){return i(e,t,e.size(),e.storage())},"Matrix, BigNumber":function(e,t){return i(e,t.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,t){return i(e,0,e.size(),t)},"Matrix, number, string":function(e,t,r){return i(e,t,e.size(),r)},"Matrix, BigNumber, string":function(e,t,r){return i(e,t.toNumber(),e.size(),r)}});function i(e,t,i,o){if(!isInteger(t))throw new TypeError("Second parameter in function diag must be an integer");var s=t>0?t:0,u=t<0?-t:0;switch(i.length){case 1:return function(e,t,r,i,o,s){var u=[i+o,i+s];if(r&&"sparse"!==r&&"dense"!==r)throw new TypeError("Unknown matrix type ".concat(r,'"'));var c="sparse"===r?a.diagonal(u,e,t):n.diagonal(u,e,t);return null!==r?c:c.valueOf()}(e,t,o,i[0],u,s);case 2:return function(e,t,n,a,i,o){if(isMatrix(e)){var s=e.diagonal(t);return null!==n?n!==s.storage()?r(s,n):s:s.valueOf()}for(var u=Math.min(a[0]-i,a[1]-o),c=[],l=0;l<u;l++)c[l]=e[l+i][l+o];return null!==n?r(c):c}(e,t,o,i,u,s)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}));function _typeof$4(e){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function memoize(e,t){return function r(){"object"!==_typeof$4(r.cache)&&(r.cache={});for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=t?t(n):JSON.stringify(n);return i in r.cache||(r.cache[i]=e.apply(e,n)),r.cache[i]}}function maxArgumentCount(e){return Object.keys(e.signatures||{}).reduce((function(e,t){var r=(t.match(/,/g)||[]).length+1;return Math.max(e,r)}),-1)}var name$1g="filter",dependencies$1h=["typed"],createFilter=factory(name$1g,dependencies$1h,(function(e){return(0,e.typed)("filter",{"Array, function":_filterCallback,"Matrix, function":function(e,t){return e.create(_filterCallback(e.toArray(),t))},"Array, RegExp":filterRegExp,"Matrix, RegExp":function(e,t){return e.create(filterRegExp(e.toArray(),t))}})}));function _filterCallback(e,t){var r=maxArgumentCount(t);return filter(e,(function(e,n,a){return 1===r?t(e):2===r?t(e,[n]):t(e,[n],a)}))}var name$1h="flatten",dependencies$1i=["typed","matrix"],createFlatten=factory(name$1h,dependencies$1i,(function(e){var t=e.typed,r=e.matrix;return t(name$1h,{Array:function(e){return flatten(clone(e))},Matrix:function(e){var t=flatten(clone(e.toArray()));return r(t)}})})),name$1i="forEach",dependencies$1j=["typed"],createForEach=factory(name$1i,dependencies$1j,(function(e){return(0,e.typed)(name$1i,{"Array, function":_forEach,"Matrix, function":function(e,t){return e.forEach(t)}})}));function _forEach(e,t){var r=maxArgumentCount(t);!function n(a,i){Array.isArray(a)?forEach(a,(function(e,t){n(e,i.concat(t))})):1===r?t(a):2===r?t(a,i):t(a,i,e)}(e,[])}var name$1j="getMatrixDataType",dependencies$1k=["typed"],createGetMatrixDataType=factory(name$1j,dependencies$1k,(function(e){return(0,e.typed)(name$1j,{Array:function(e){return getArrayDataType(e,typeOf)},Matrix:function(e){return e.getDataType()}})})),name$1k="identity",dependencies$1l=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],createIdentity=factory(name$1k,dependencies$1l,(function(e){var t=e.typed,r=e.config,n=e.matrix,a=e.BigNumber,i=e.DenseMatrix,o=e.SparseMatrix;return t(name$1k,{"":function(){return"Matrix"===r.matrix?n([]):[]},string:function(e){return n(e)},"number | BigNumber":function(e){return u(e,e,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, string":function(e,t){return u(e,e,t)},"number | BigNumber, number | BigNumber":function(e,t){return u(e,t,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,r){return u(e,t,r)},Array:function(e){return s(e)},"Array, string":function(e,t){return s(e,t)},Matrix:function(e){return s(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return s(e.valueOf(),t)}});function s(e,t){switch(e.length){case 0:return t?n(t):[];case 1:return u(e[0],e[0],t);case 2:return u(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function u(e,t,r){var n=isBigNumber(e)||isBigNumber(t)?a:null;if(isBigNumber(e)&&(e=e.toNumber()),isBigNumber(t)&&(t=t.toNumber()),!isInteger(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!isInteger(t)||t<1)throw new Error("Parameters in function identity must be positive integers");var s=n?new a(1):1,u=n?new n(0):0,c=[e,t];if(r){if("sparse"===r)return o.diagonal(c,s,0,u);if("dense"===r)return i.diagonal(c,s,0,u);throw new TypeError('Unknown matrix type "'.concat(r,'"'))}for(var l=resize([],c,u),p=e<t?e:t,d=0;d<p;d++)l[d][d]=s;return l}})),name$1l="kron",dependencies$1m=["typed","matrix","multiplyScalar"],createKron=factory(name$1l,dependencies$1m,(function(e){var t=e.typed,r=e.matrix,n=e.multiplyScalar;return t(name$1l,{"Matrix, Matrix":function(e,t){return r(a(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return r(a(e.toArray(),t))},"Array, Matrix":function(e,t){return r(a(e,t.toArray()))},"Array, Array":a});function a(e,t){if(1===arraySize(e).length&&(e=[e]),1===arraySize(t).length&&(t=[t]),arraySize(e).length>2||arraySize(t).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(e.length)+", y = "+JSON.stringify(t.length)+")");var r=[],a=[];return e.map((function(e){return t.map((function(t){return a=[],r.push(a),e.map((function(e){return t.map((function(t){return a.push(n(e,t))}))}))}))}))&&r}})),name$1m="map",dependencies$1n=["typed"],createMap=factory(name$1m,dependencies$1n,(function(e){return(0,e.typed)(name$1m,{"Array, function":_map,"Matrix, function":function(e,t){return e.map(t)}})}));function _map(e,t){var r=maxArgumentCount(t);return function n(a,i){return Array.isArray(a)?a.map((function(e,t){return n(e,i.concat(t))})):1===r?t(a):2===r?t(a,i):t(a,i,e)}(e,[])}var name$1n="diff",dependencies$1o=["typed","matrix","subtract","number"],createDiff=factory(name$1n,dependencies$1o,(function(e){var t=e.typed,r=e.matrix,n=e.subtract,a=e.number;return t(name$1n,{"Array | Matrix":function(e){return isMatrix(e)?r(o(e.toArray())):o(e)},"Array | Matrix, number":function(e,t){if(!isInteger(t))throw new RangeError("Dimension must be a whole number");return isMatrix(e)?r(i(e.toArray(),t)):i(e,t)},"Array | Matrix, BigNumber":function(e,t){return this(e,a(t))}});function i(e,t){if(isMatrix(e)&&(e=e.toArray()),!Array.isArray(e))throw RangeError("Array/Matrix does not have that many dimensions");if(t>0){var r=[];return e.forEach((function(e){r.push(i(e,t-1))})),r}if(0===t)return o(e);throw RangeError("Cannot have negative dimension")}function o(e){var t=[],r=e.length;if(r<2)return e;for(var n=1;n<r;n++)t.push(s(e[n-1],e[n]));return t}function s(e,t){isMatrix(e)&&(e=e.toArray()),isMatrix(t)&&(t=t.toArray());var r=Array.isArray(e),a=Array.isArray(t);if(r&&a)return function(e,t){if(e.length!==t.length)throw RangeError("Not all sub-arrays have the same length");for(var r=[],n=e.length,a=0;a<n;a++)r.push(s(e[a],t[a]));return r}(e,t);if(!r&&!a)return n(t,e);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}})),name$1o="ones",dependencies$1p=["typed","config","matrix","BigNumber"],createOnes=factory(name$1o,dependencies$1p,(function(e){var t=e.typed,r=e.config,n=e.matrix,a=e.BigNumber;return t("ones",{"":function(){return"Array"===r.matrix?i([]):i([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var t=e.pop();return i(e,t)}return"Array"===r.matrix?i(e):i(e,"default")},Array:i,Matrix:function(e){var t=e.storage();return i(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return i(e.valueOf(),t)}});function i(e,t){var r=function(e){var t=!1;return e.forEach((function(e,r,n){isBigNumber(e)&&(t=!0,n[r]=e.toNumber())})),t}(e)?new a(1):1;if(function(e){e.forEach((function(e){if("number"!=typeof e||!isInteger(e)||e<0)throw new Error("Parameters in function ones must be positive integers")}))}(e),t){var i=n(t);return e.length>0?i.resize(e,r):i}var o=[];return e.length>0?resize(o,e,r):o}}));function noBignumber(){throw new Error('No "bignumber" implementation available')}function noFraction(){throw new Error('No "fraction" implementation available')}function noMatrix(){throw new Error('No "matrix" implementation available')}var name$1p="range",dependencies$1q=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],createRange=factory(name$1p,dependencies$1q,(function(e){var t=e.typed,r=e.config,n=e.matrix,a=e.bignumber,i=e.smaller,o=e.smallerEq,s=e.larger,u=e.largerEq;return t(name$1p,{string:l,"string, boolean":l,"number, number":function(e,t){return c(p(e,t,1))},"number, number, number":function(e,t,r){return c(p(e,t,r))},"number, number, boolean":function(e,t,r){return c(r?d(e,t,1):p(e,t,1))},"number, number, number, boolean":function(e,t,r,n){return c(n?d(e,t,r):p(e,t,r))},"BigNumber, BigNumber":function(e,t){return c(f(e,t,new(0,e.constructor)(1)))},"BigNumber, BigNumber, BigNumber":function(e,t,r){return c(f(e,t,r))},"BigNumber, BigNumber, boolean":function(e,t,r){var n=e.constructor;return c(r?m(e,t,new n(1)):f(e,t,new n(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,r,n){return c(n?m(e,t,r):f(e,t,r))}});function c(e){return"Matrix"===r.matrix?n?n(e):noMatrix():e}function l(e,t){var n=function(e){var t=e.split(":").map((function(e){return Number(e)}));if(t.some((function(e){return isNaN(e)})))return null;switch(t.length){case 2:return{start:t[0],end:t[1],step:1};case 3:return{start:t[0],end:t[2],step:t[1]};default:return null}}(e);if(!n)throw new SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===r.number?(void 0===a&&noBignumber(),c((t?m:f)(a(n.start),a(n.end),a(n.step)))):c((t?d:p)(n.start,n.end,n.step))}function p(e,t,r){var n=[],a=e;if(r>0)for(;i(a,t);)n.push(a),a+=r;else if(r<0)for(;s(a,t);)n.push(a),a+=r;return n}function d(e,t,r){var n=[],a=e;if(r>0)for(;o(a,t);)n.push(a),a+=r;else if(r<0)for(;u(a,t);)n.push(a),a+=r;return n}function f(e,t,r){var n=a(0),o=[],u=e;if(r.gt(n))for(;i(u,t);)o.push(u),u=u.plus(r);else if(r.lt(n))for(;s(u,t);)o.push(u),u=u.plus(r);return o}function m(e,t,r){var n=a(0),i=[],s=e;if(r.gt(n))for(;o(s,t);)i.push(s),s=s.plus(r);else if(r.lt(n))for(;u(s,t);)i.push(s),s=s.plus(r);return i}})),name$1q="reshape",dependencies$1r=["typed","isInteger","matrix"],createReshape=factory(name$1q,dependencies$1r,(function(e){var t=e.typed,r=e.isInteger,n=e.matrix;return t(name$1q,{"Matrix, Array":function(e,t){return e.reshape?e.reshape(t):n(reshape(e.valueOf(),t))},"Array, Array":function(e,t){return t.forEach((function(e){if(!r(e))throw new TypeError("Invalid size for dimension: "+e)})),reshape(e,t)}})}));function ArgumentsError(e,t,r,n){if(!(this instanceof ArgumentsError))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+r+(null!=n?"-"+n:"")+" expected)",this.stack=(new Error).stack}ArgumentsError.prototype=new Error,ArgumentsError.prototype.constructor=Error,ArgumentsError.prototype.name="ArgumentsError",ArgumentsError.prototype.isArgumentsError=!0;var name$1r="resize",dependencies$1s=["config","matrix"],createResize=factory(name$1r,dependencies$1s,(function(e){var t=e.config,r=e.matrix;return function(e,a,i){if(2!==arguments.length&&3!==arguments.length)throw new ArgumentsError("resize",arguments.length,2,3);if(isMatrix(a)&&(a=a.valueOf()),isBigNumber(a[0])&&(a=a.map((function(e){return isBigNumber(e)?e.toNumber():e}))),isMatrix(e))return e.resize(a,i,!0);if("string"==typeof e)return n(e,a,i);var o=!Array.isArray(e)&&"Array"!==t.matrix;if(0===a.length){for(;Array.isArray(e);)e=e[0];return clone(e)}Array.isArray(e)||(e=[e]);var s=resize(e=clone(e),a,i);return o?r(s):s};function n(e,t,r){if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";if(1!==t.length)throw new DimensionError(t.length,1);var n=t[0];if("number"!=typeof n||!isInteger(n))throw new TypeError("Invalid size, must contain positive integers (size: "+format$2(t)+")");if(e.length>n)return e.substring(0,n);if(e.length<n){for(var a=e,i=0,o=n-e.length;i<o;i++)a+=r;return a}return e}})),name$1s="row",dependencies$1t=["typed","Index","matrix","range"],createRow=factory(name$1s,dependencies$1t,(function(e){var t=e.typed,r=e.Index,n=e.matrix,a=e.range;return t(name$1s,{"Matrix, number":i,"Array, number":function(e,t){return i(n(clone(e)),t).valueOf()}});function i(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");validateIndex(t,e.size()[0]);var n=a(0,e.size()[1]),i=new r(t,n);return e.subset(i)}})),name$1t="size",dependencies$1u=["typed","config","?matrix"],createSize=factory(name$1t,dependencies$1u,(function(e){var t=e.typed,r=e.config,n=e.matrix;return t(name$1t,{Matrix:function(e){return e.create(e.size())},Array:arraySize,string:function(e){return"Array"===r.matrix?[e.length]:n([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===r.matrix?[]:n?n([]):noMatrix()}})})),name$1u="squeeze",dependencies$1v=["typed","matrix"],createSqueeze=factory(name$1u,dependencies$1v,(function(e){var t=e.typed,r=e.matrix;return t(name$1u,{Array:function(e){return squeeze(clone(e))},Matrix:function(e){var t=squeeze(e.toArray());return Array.isArray(t)?r(t):t},any:function(e){return clone(e)}})}));function _typeof$5(e){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function getSafeProperty(e,t){if(isPlainObject(e)&&isSafeProperty(e,t))return e[t];if("function"==typeof e[t]&&isSafeMethod(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function setSafeProperty(e,t,r){if(isPlainObject(e)&&isSafeProperty(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function isSafeProperty(e,t){return!(!e||"object"!==_typeof$5(e))&&(!!hasOwnProperty(safeNativeProperties,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function validateSafeMethod(e,t){if(!isSafeMethod(e,t))throw new Error('No access to method "'+t+'"')}function isSafeMethod(e,t){return null!=e&&"function"==typeof e[t]&&(!(hasOwnProperty(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e))&&(!!hasOwnProperty(safeNativeMethods,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}function isPlainObject(e){return"object"===_typeof$5(e)&&e&&e.constructor===Object}var safeNativeProperties={length:!0,name:!0},safeNativeMethods={toString:!0,valueOf:!0,toLocaleString:!0},name$1v="subset",dependencies$1w=["typed","matrix"],createSubset=factory(name$1v,dependencies$1w,(function(e){var t=e.typed,r=e.matrix;return t(name$1v,{"Array, Index":function(e,t){var n=r(e).subset(t);return t.isScalar()?n:n.valueOf()},"Matrix, Index":function(e,t){return e.subset(t)},"Object, Index":_getObjectProperty,"string, Index":_getSubstring,"Array, Index, any":function(e,t,n){return r(clone(e)).subset(t,n,void 0).valueOf()},"Array, Index, any, any":function(e,t,n,a){return r(clone(e)).subset(t,n,a).valueOf()},"Matrix, Index, any":function(e,t,r){return e.clone().subset(t,r)},"Matrix, Index, any, any":function(e,t,r,n){return e.clone().subset(t,r,n)},"string, Index, string":_setSubstring,"string, Index, string, string":_setSubstring,"Object, Index, any":_setObjectProperty})}));function _getSubstring(e,t){if(!isIndex(t))throw new TypeError("Index expected");if(1!==t.size().length)throw new DimensionError(t.size().length,1);var r=e.length;validateIndex(t.min()[0],r),validateIndex(t.max()[0],r);var n=t.dimension(0),a="";return n.forEach((function(t){a+=e.charAt(t)})),a}function _setSubstring(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!==t.size().length)throw new DimensionError(t.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var a=t.dimension(0);if(a.size()[0]!==r.length)throw new DimensionError(a.size()[0],r.length);var i=e.length;validateIndex(t.min()[0]),validateIndex(t.max()[0]);for(var o=[],s=0;s<i;s++)o[s]=e.charAt(s);if(a.forEach((function(e,t){o[e]=r.charAt(t[0])})),o.length>i)for(var u=i-1,c=o.length;u<c;u++)o[u]||(o[u]=n);return o.join("")}function _getObjectProperty(e,t){if(1!==t.size().length)throw new DimensionError(t.size(),1);var r=t.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");return getSafeProperty(e,r)}function _setObjectProperty(e,t,r){if(1!==t.size().length)throw new DimensionError(t.size(),1);var n=t.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");var a=clone(e);return setSafeProperty(a,n,r),a}var name$1w="transpose",dependencies$1x=["typed","matrix"],createTranspose=factory(name$1w,dependencies$1x,(function(e){var t=e.typed,r=e.matrix;return t("transpose",{Array:function(e){return this(r(e)).valueOf()},Matrix:function(e){var t,r=e.size();switch(r.length){case 1:t=e.clone();break;case 2:var n=r[0],a=r[1];if(0===a)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+format$2(r)+")");switch(e.storage()){case"dense":t=function(e,t,r){for(var n,a=e._data,i=[],o=0;o<r;o++){n=i[o]=[];for(var s=0;s<t;s++)n[s]=clone(a[s][o])}return e.createDenseMatrix({data:i,size:[r,t],datatype:e._datatype})}(e,n,a);break;case"sparse":t=function(e,t,r){for(var n,a,i,o=e._values,s=e._index,u=e._ptr,c=o?[]:void 0,l=[],p=[],d=[],f=0;f<t;f++)d[f]=0;for(n=0,a=s.length;n<a;n++)d[s[n]]++;for(var m=0,h=0;h<t;h++)p.push(m),m+=d[h],d[h]=p[h];for(p.push(m),i=0;i<r;i++)for(var _=u[i],v=u[i+1],g=_;g<v;g++){var y=d[s[g]]++;l[y]=i,o&&(c[y]=clone(o[g]))}return e.createSparseMatrix({values:c,index:l,ptr:p,size:[r,t],datatype:e._datatype})}(e,n,a)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+format$2(this._size)+")")}return t},any:function(e){return clone(e)}})})),name$1x="ctranspose",dependencies$1y=["typed","transpose","conj"],createCtranspose=factory(name$1x,dependencies$1y,(function(e){var t=e.typed,r=e.transpose,n=e.conj;return t(name$1x,{any:function(e){return n(r(e))}})})),name$1y="zeros",dependencies$1z=["typed","config","matrix","BigNumber"],createZeros=factory(name$1y,dependencies$1z,(function(e){var t=e.typed,r=e.config,n=e.matrix,a=e.BigNumber;return t(name$1y,{"":function(){return"Array"===r.matrix?i([]):i([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var t=e.pop();return i(e,t)}return"Array"===r.matrix?i(e):i(e,"default")},Array:i,Matrix:function(e){var t=e.storage();return i(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return i(e.valueOf(),t)}});function i(e,t){var r=function(e){var t=!1;return e.forEach((function(e,r,n){isBigNumber(e)&&(t=!0,n[r]=e.toNumber())})),t}(e)?new a(0):0;if(function(e){e.forEach((function(e){if("number"!=typeof e||!isInteger(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")}))}(e),t){var i=n(t);return e.length>0?i.resize(e,r):i}var o=[];return e.length>0?resize(o,e,r):o}})),name$1z="erf",dependencies$1A=["typed"],createErf=factory(name$1z,dependencies$1A,(function(e){return(0,e.typed)("name",{number:function(e){var t=Math.abs(e);return t>=MAX_NUM?sign(e):t<=THRESH?sign(e)*function(e){var t,r=e*e,n=P$1[0][4]*r,a=r;for(t=0;t<3;t+=1)n=(n+P$1[0][t])*r,a=(a+Q[0][t])*r;return e*(n+P$1[0][3])/(a+Q[0][3])}(t):t<=4?sign(e)*(1-function(e){var t,r=P$1[1][8]*e,n=e;for(t=0;t<7;t+=1)r=(r+P$1[1][t])*e,n=(n+Q[1][t])*e;var a=(r+P$1[1][7])/(n+Q[1][7]),i=parseInt(16*e)/16,o=(e-i)*(e+i);return Math.exp(-i*i)*Math.exp(-o)*a}(t)):sign(e)*(1-function(e){var t,r=1/(e*e),n=P$1[2][5]*r,a=r;for(t=0;t<4;t+=1)n=(n+P$1[2][t])*r,a=(a+Q[2][t])*r;var i=r*(n+P$1[2][4])/(a+Q[2][4]);i=(SQRPI-i)/e,r=parseInt(16*e)/16;var o=(e-r)*(e+r);return Math.exp(-r*r)*Math.exp(-o)*i}(t))},"Array | Matrix":function(e){return deepMap(e,this)}})})),THRESH=.46875,SQRPI=.5641895835477563,P$1=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Q=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],MAX_NUM=Math.pow(2,53),name$1A="mode",dependencies$1B=["typed","isNaN","isNumeric"],createMode=factory(name$1A,dependencies$1B,(function(e){var t=e.typed,r=e.isNaN,n=e.isNumeric;return t(name$1A,{"Array | Matrix":a,"...":function(e){return a(e)}});function a(e){if(0===(e=flatten(e.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var t={},a=[],i=0,o=0;o<e.length;o++){var s=e[o];if(n(s)&&r(s))throw new Error("Cannot calculate mode of an array containing NaN values");s in t||(t[s]=0),t[s]++,t[s]===i?a.push(s):t[s]>i&&(i=t[s],a=[s])}return a}}));function improveErrorMessage(e,t,r){var n;return-1!==String(e).indexOf("Unexpected type")?(n=arguments.length>2?" (type: "+typeOf(r)+", value: "+JSON.stringify(r)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+n)):-1!==String(e).indexOf("complex numbers")?(n=arguments.length>2?" (type: "+typeOf(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+n)):e}var name$1B="prod",dependencies$1C=["typed","config","multiplyScalar","numeric"],createProd=factory(name$1B,dependencies$1C,(function(e){var t=e.typed,r=e.config,n=e.multiplyScalar,a=e.numeric;return t(name$1B,{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("prod(A, dim) is not yet supported")},"...":function(e){return i(e)}});function i(e){var t;if(deepForEach(e,(function(e){try{t=void 0===t?e:n(t,e)}catch(t){throw improveErrorMessage(t,"prod",e)}})),"string"==typeof t&&(t=a(t,r.number)),void 0===t)throw new Error("Cannot calculate prod of an empty array");return t}})),name$1C="format",dependencies$1D=["typed"],createFormat=factory(name$1C,dependencies$1D,(function(e){return(0,e.typed)(name$1C,{any:format$2,"any, Object | function | number":format$2})}));function baseFormatter(e){var t={2:"0b",8:"0o",16:"0x"}[e];return function(r){if(r>Math.pow(2,31)-1||r<-Math.pow(2,31))throw new Error("Value must be in range [-2^31, 2^31-1]");if(!isInteger(r))throw new Error("Value must be an integer");return r<0&&(r+=Math.pow(2,32)),"".concat(t).concat(r.toString(e))}}var dependencies$1E=["typed"];function createBaseFormatterFactory(e,t){return factory(e,dependencies$1E,(function(r){return(0,r.typed)(e,{number:baseFormatter(t)})}))}var createBin=createBaseFormatterFactory("bin",2),createOct=createBaseFormatterFactory("oct",8),createHex=createBaseFormatterFactory("hex",16),name$1D="print",dependencies$1F=["typed"],createPrint=factory(name$1D,dependencies$1F,(function(e){return(0,e.typed)(name$1D,{"string, Object | Array":_print,"string, Object | Array, number | Object":_print})}));function _print(e,t,r){return e.replace(/\$([\w.]+)/g,(function(e,n){for(var a=n.split("."),i=t[a.shift()];a.length&&void 0!==i;){var o=a.shift();i=o?i[o]:i+"."}return void 0!==i?isString(i)?i:format$2(i,r):e}))}var name$1E="to",dependencies$1G=["typed","matrix"],createTo=factory(name$1E,dependencies$1G,(function(e){var t=e.typed,r=e.matrix,n=createAlgorithm13({typed:t}),a=createAlgorithm14({typed:t});return t(name$1E,{"Unit, Unit | string":function(e,t){return e.to(t)},"Matrix, Matrix":function(e,t){return n(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"Matrix, any":function(e,t){return a(e,t,this,!1)},"any, Matrix":function(e,t){return a(t,e,this,!0)},"Array, any":function(e,t){return a(r(e),t,this,!1).valueOf()},"any, Array":function(e,t){return a(r(t),e,this,!0).valueOf()}})})),name$1F="isPrime",dependencies$1H=["typed"],createIsPrime=factory(name$1F,dependencies$1H,(function(e){return(0,e.typed)(name$1F,{number:function(e){if(0*e!=0)return!1;if(e<=3)return e>1;if(e%2==0||e%3==0)return!1;for(var t=5;t*t<=e;t+=6)if(e%t==0||e%(t+2)==0)return!1;return!0},BigNumber:function(e){if(0*e.toNumber()!=0)return!1;if(e.lte(3))return e.gt(1);if(e.mod(2).eq(0)||e.mod(3).eq(0))return!1;for(var t=5;e.gte(t*t);t+=6)if(e.mod(t).eq(0)||e.mod(t+2).eq(0))return!1;return!0},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$1G="numeric",dependencies$1I=["number","?bignumber","?fraction"],createNumeric=factory(name$1G,dependencies$1I,(function(e){var t=e.number,r=e.bignumber,n=e.fraction,a={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:function(e){return t(e)},BigNumber:r?function(e){return r(e)}:noBignumber,Fraction:n?function(e){return n(e)}:noFraction};return function(e,t){var r=typeOf(e);if(!(r in a))throw new TypeError("Cannot convert "+e+' of type "'+r+'"; valid input types are '+Object.keys(a).join(", "));if(!(t in i))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(i).join(", "));return t===r?e:i[t](e)}})),name$1H="divideScalar",dependencies$1J=["typed","numeric"],createDivideScalar=factory(name$1H,dependencies$1J,(function(e){var t=e.typed,r=e.numeric;return t(name$1H,{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Fraction | BigNumber":function(e,t){var n=e.clone(),a=r(1,typeOf(t));return n.value=this(null===n.value?n._normalize(a):n.value,t),n},"number | Fraction | BigNumber, Unit":function(e,t){var n=t.clone();n=n.pow(-1);var a=r(1,typeOf(e));return n.value=this(e,null===t.value?t._normalize(a):t.value),n},"Unit, Unit":function(e,t){return e.divide(t)}})})),name$1I="pow",dependencies$1K=["typed","config","identity","multiply","matrix","fraction","number","Complex"],createPow=factory(name$1I,dependencies$1K,(function(e){var t=e.typed,r=e.config,n=e.identity,a=e.multiply,i=e.matrix,o=e.number,s=e.fraction,u=e.Complex;return t(name$1I,{"number, number":c,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(e,t){return t.isInteger()||e>=0||r.predictable?e.pow(t):new u(e.toNumber(),0).pow(t.toNumber(),0)},"Fraction, Fraction":function(e,t){if(1!==t.d){if(r.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return c(e.valueOf(),t.valueOf())}return e.pow(t)},"Array, number":l,"Array, BigNumber":function(e,t){return l(e,t.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(e,t){return p(e,t.toNumber())},"Unit, number | BigNumber":function(e,t){return e.pow(t)}});function c(e,t){if(r.predictable&&!isInteger(t)&&e<0)try{var n=s(t),a=o(n);if((t===a||Math.abs((t-a)/t)<1e-14)&&n.d%2==1)return(n.n%2==0?1:-1)*Math.pow(-e,t)}catch(e){}return r.predictable&&(e<-1&&t===1/0||e>-1&&e<0&&t===-1/0)?NaN:isInteger(t)||e>=0||r.predictable?powNumber(e,t):e*e<1&&t===1/0||e*e>1&&t===-1/0?0:new u(e,0).pow(t,0)}function l(e,t){if(!isInteger(t)||t<0)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var r=arraySize(e);if(2!==r.length)throw new Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!==r[1])throw new Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");for(var i=n(r[0]).valueOf(),o=e;t>=1;)1==(1&t)&&(i=a(o,i)),t>>=1,o=a(o,o);return i}function p(e,t){return i(l(e.valueOf(),t))}}));function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var NO_INT="Number of decimals in function round must be an integer",name$1J="round",dependencies$1L=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],createRound=factory(name$1J,dependencies$1L,(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,a=e.zeros,i=e.BigNumber,o=e.DenseMatrix,s=createAlgorithm11({typed:t,equalScalar:n}),u=createAlgorithm12({typed:t,DenseMatrix:o}),c=createAlgorithm14({typed:t});return t(name$1J,_objectSpread(_objectSpread({},roundNumberSignatures),{},{Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw new TypeError(NO_INT);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(NO_INT);var r=t.toNumber();return e.round(r)},"number, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(NO_INT);return new i(e).toDecimalPlaces(t.toNumber())},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(NO_INT);return e.toDecimalPlaces(t.toNumber())},Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw new TypeError(NO_INT);return e.round(t)},"Array | Matrix":function(e){return deepMap(e,this)},"SparseMatrix, number | BigNumber":function(e,t){return s(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(e,t,this,!1)},"number | Complex | BigNumber, SparseMatrix":function(e,t){return n(e,0)?a(t.size(),t.storage()):u(t,e,this,!0)},"number | Complex | BigNumber, DenseMatrix":function(e,t){return n(e,0)?a(t.size(),t.storage()):c(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return c(r(e),t,this,!1).valueOf()},"number | Complex | BigNumber, Array":function(e,t){return c(r(t),e,this,!0).valueOf()}}))})),roundNumberSignatures={number:roundNumber,"number, number":function(e,t){if(!isInteger(t))throw new TypeError(NO_INT);if(t<0||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return roundNumber(e,t)}},name$1K="log",dependencies$1M=["config","typed","divideScalar","Complex"],createLog=factory(name$1K,dependencies$1M,(function(e){var t=e.typed,r=e.config,n=e.divideScalar,a=e.Complex;return t(name$1K,{number:function(e){return e>=0||r.predictable?logNumber(e):new a(e,0).log()},Complex:function(e){return e.log()},BigNumber:function(e){return!e.isNegative()||r.predictable?e.ln():new a(e.toNumber(),0).log()},"Array | Matrix":function(e){return deepMap(e,this)},"any, any":function(e,t){return n(this(e),this(t))}})})),name$1L="log1p",dependencies$1N=["typed","config","divideScalar","log","Complex"],createLog1p=factory(name$1L,dependencies$1N,(function(e){var t=e.typed,r=e.config,n=e.divideScalar,a=e.log,i=e.Complex;return t(name$1L,{number:function(e){return e>=-1||r.predictable?log1p(e):o(new i(e,0))},Complex:o,BigNumber:function(e){var t=e.plus(1);return!t.isNegative()||r.predictable?t.ln():o(new i(e.toNumber(),0))},"Array | Matrix":function(e){return deepMap(e,this)},"any, any":function(e,t){return n(this(e),a(t))}});function o(e){var t=e.re+1;return new i(Math.log(Math.sqrt(t*t+e.im*e.im)),Math.atan2(e.im,t))}})),name$1M="nthRoots",dependencies$1O=["config","typed","divideScalar","Complex"],createNthRoots=factory(name$1M,dependencies$1O,(function(e){var t=e.typed,r=(e.config,e.divideScalar,e.Complex),n=[function(e){return new r(e,0)},function(e){return new r(0,e)},function(e){return new r(-e,0)},function(e){return new r(0,-e)}];function a(e,t){if(t<0)throw new Error("Root must be greater than zero");if(0===t)throw new Error("Root must be non-zero");if(t%1!=0)throw new Error("Root must be an integer");if(0===e||0===e.abs())return[new r(0,0)];var a,i="number"==typeof e;(i||0===e.re||0===e.im)&&(a=i?2*+(e<0):0===e.im?2*+(e.re<0):2*+(e.im<0)+1);for(var o=e.arg(),s=e.abs(),u=[],c=Math.pow(s,1/t),l=0;l<t;l++){var p=(a+4*l)/t;p!==Math.round(p)?u.push(new r({r:c,phi:(o+2*Math.PI*l)/t})):u.push(n[p%4](c))}return u}return t(name$1M,{Complex:function(e){return a(e,2)},"Complex, number":a})})),name$1N="dotPow",dependencies$1P=["typed","equalScalar","matrix","pow","DenseMatrix"],createDotPow=factory(name$1N,dependencies$1P,(function(e){var t=e.typed,r=e.equalScalar,n=e.matrix,a=e.pow,i=e.DenseMatrix,o=createAlgorithm03({typed:t}),s=createAlgorithm07({typed:t,DenseMatrix:i}),u=createAlgorithm11({typed:t,equalScalar:r}),c=createAlgorithm12({typed:t,DenseMatrix:i}),l=createAlgorithm13({typed:t}),p=createAlgorithm14({typed:t});return t(name$1N,{"any, any":a,"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,a,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,a,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,a,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,a)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return u(e,t,this,!1)},"DenseMatrix, any":function(e,t){return p(e,t,this,!1)},"any, SparseMatrix":function(e,t){return c(t,e,this,!0)},"any, DenseMatrix":function(e,t){return p(t,e,this,!0)},"Array, any":function(e,t){return p(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return p(n(t),e,this,!0).valueOf()}})})),name$1O="dotDivide",dependencies$1Q=["typed","matrix","equalScalar","divideScalar","DenseMatrix"],createDotDivide=factory(name$1O,dependencies$1Q,(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,a=e.divideScalar,i=e.DenseMatrix,o=createAlgorithm02({typed:t,equalScalar:n}),s=createAlgorithm03({typed:t}),u=createAlgorithm07({typed:t,DenseMatrix:i}),c=createAlgorithm11({typed:t,equalScalar:n}),l=createAlgorithm12({typed:t,DenseMatrix:i}),p=createAlgorithm13({typed:t}),d=createAlgorithm14({typed:t});return t(name$1O,{"any, any":a,"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,a,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,a,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,a,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,a)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return c(e,t,a,!1)},"DenseMatrix, any":function(e,t){return d(e,t,a,!1)},"any, SparseMatrix":function(e,t){return l(t,e,a,!0)},"any, DenseMatrix":function(e,t){return d(t,e,a,!0)},"Array, any":function(e,t){return d(r(e),t,a,!1).valueOf()},"any, Array":function(e,t){return d(r(t),e,a,!0).valueOf()}})}));function createSolveValidation(e){var t=e.DenseMatrix;return function(e,r,n){var a=e.size();if(2!==a.length)throw new RangeError("Matrix must be two dimensional (size: "+format$2(a)+")");var i=a[0];if(i!==a[1])throw new RangeError("Matrix must be square (size: "+format$2(a)+")");var o=[];if(isMatrix(r)){var s=r.size(),u=r._data;if(1===s.length){if(s[0]!==i)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var c=0;c<i;c++)o[c]=[u[c]];return new t({data:o,size:[i,1],datatype:r._datatype})}if(2===s.length){if(s[0]!==i||1!==s[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(isDenseMatrix(r)){if(n){o=[];for(var l=0;l<i;l++)o[l]=[u[l][0]];return new t({data:o,size:[i,1],datatype:r._datatype})}return r}if(isSparseMatrix(r)){for(var p=0;p<i;p++)o[p]=[0];for(var d=r._values,f=r._index,m=r._ptr,h=m[1],_=m[0];_<h;_++){o[f[_]][0]=d[_]}return new t({data:o,size:[i,1],datatype:r._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(isArray(r)){var v=arraySize(r);if(1===v.length){if(v[0]!==i)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var g=0;g<i;g++)o[g]=[r[g]];return new t({data:o,size:[i,1]})}if(2===v.length){if(v[0]!==i||1!==v[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var y=0;y<i;y++)o[y]=[r[y][0]];return new t({data:o,size:[i,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var name$1P="lsolve",dependencies$1R=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],createLsolve=factory(name$1P,dependencies$1R,(function(e){var t=e.typed,r=e.matrix,n=e.divideScalar,a=e.multiplyScalar,i=e.subtract,o=e.equalScalar,s=e.DenseMatrix,u=createSolveValidation({DenseMatrix:s});return t(name$1P,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r=(t=u(e,t,!0))._data,c=e._size[0],l=e._size[1],p=e._values,d=e._index,f=e._ptr,m=[],h=0;h<l;h++){var _=r[h][0]||0;if(o(_,0))m[h]=[0];else{for(var v=0,g=[],y=[],b=f[h],$=f[h+1],x=b;x<$;x++){var w=d[x];w===h?v=p[x]:w>h&&(g.push(p[x]),y.push(w))}if(o(v,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var S=n(_,v),N=0,C=y.length;N<C;N++){var E=y[N];r[E]=[i(r[E][0]||0,a(S,g[N]))]}m[h]=[S]}}return new s({data:m,size:[c,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return c(e,t)},"Array, Array | Matrix":function(e,t){return c(r(e),t).valueOf()}});function c(e,t){for(var r=(t=u(e,t,!0))._data,c=e._size[0],l=e._size[1],p=[],d=e._data,f=0;f<l;f++){var m=r[f][0]||0,h=void 0;if(o(m,0))h=0;else{var _=d[f][f];if(o(_,0))throw new Error("Linear system cannot be solved since matrix is singular");h=n(m,_);for(var v=f+1;v<c;v++)r[v]=[i(r[v][0]||0,a(h,d[v][f]))]}p[f]=[h]}return new s({data:p,size:[c,1]})}})),name$1Q="usolve",dependencies$1S=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],createUsolve=factory(name$1Q,dependencies$1S,(function(e){var t=e.typed,r=e.matrix,n=e.divideScalar,a=e.multiplyScalar,i=e.subtract,o=e.equalScalar,s=e.DenseMatrix,u=createSolveValidation({DenseMatrix:s});return t(name$1Q,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r=(t=u(e,t,!0))._data,c=e._size[0],l=e._size[1],p=e._values,d=e._index,f=e._ptr,m=[],h=l-1;h>=0;h--){var _=r[h][0]||0;if(o(_,0))m[h]=[0];else{for(var v=0,g=[],y=[],b=f[h],$=f[h+1]-1;$>=b;$--){var x=d[$];x===h?v=p[$]:x<h&&(g.push(p[$]),y.push(x))}if(o(v,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var w=n(_,v),S=0,N=y.length;S<N;S++){var C=y[S];r[C]=[i(r[C][0],a(w,g[S]))]}m[h]=[w]}}return new s({data:m,size:[c,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return c(e,t)},"Array, Array | Matrix":function(e,t){return c(r(e),t).valueOf()}});function c(e,t){for(var r=(t=u(e,t,!0))._data,c=e._size[0],l=e._size[1],p=[],d=e._data,f=l-1;f>=0;f--){var m=r[f][0]||0,h=void 0;if(o(m,0))h=0;else{var _=d[f][f];if(o(_,0))throw new Error("Linear system cannot be solved since matrix is singular");h=n(m,_);for(var v=f-1;v>=0;v--)r[v]=[i(r[v][0]||0,a(h,d[v][f]))]}p[f]=[h]}return new s({data:p,size:[c,1]})}}));function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var name$1R="lsolveAll",dependencies$1T=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],createLsolveAll=factory(name$1R,dependencies$1T,(function(e){var t=e.typed,r=e.matrix,n=e.divideScalar,a=e.multiplyScalar,i=e.subtract,o=e.equalScalar,s=e.DenseMatrix,u=createSolveValidation({DenseMatrix:s});return t(name$1R,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r=[u(e,t,!0)._data.map((function(e){return e[0]}))],c=e._size[0],l=e._size[1],p=e._values,d=e._index,f=e._ptr,m=0;m<l;m++)for(var h=r.length,_=0;_<h;_++){for(var v=r[_],g=[],y=[],b=f[m],$=f[m+1],x=0,w=b;w<$;w++){var S=d[w];S===m?x=p[w]:S>m&&(g.push(p[w]),y.push(S))}if(o(x,0))if(o(v[m],0)){if(0===_){var N=_toConsumableArray(v);N[m]=1;for(var C=0,E=y.length;C<E;C++){var A=y[C];N[A]=i(N[A],g[C])}r.push(N)}}else{if(0===_)return[];r.splice(_,1),_-=1,h-=1}else{v[m]=n(v[m],x);for(var M=0,T=y.length;M<T;M++){var O=y[M];v[O]=i(v[O],a(v[m],g[M]))}}}return r.map((function(e){return new s({data:e.map((function(e){return[e]})),size:[c,1]})}))}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return c(e,t)},"Array, Array | Matrix":function(e,t){return c(r(e),t).map((function(e){return e.valueOf()}))}});function c(e,t){for(var r=[u(e,t,!0)._data.map((function(e){return e[0]}))],c=e._data,l=e._size[0],p=e._size[1],d=0;d<p;d++)for(var f=r.length,m=0;m<f;m++){var h=r[m];if(o(c[d][d],0))if(o(h[d],0)){if(0===m){var _=_toConsumableArray(h);_[d]=1;for(var v=d+1;v<p;v++)_[v]=i(_[v],c[v][d]);r.push(_)}}else{if(0===m)return[];r.splice(m,1),m-=1,f-=1}else{h[d]=n(h[d],c[d][d]);for(var g=d+1;g<p;g++)h[g]=i(h[g],a(h[d],c[g][d]))}}return r.map((function(e){return new s({data:e.map((function(e){return[e]})),size:[l,1]})}))}}));function _toConsumableArray$1(e){return _arrayWithoutHoles$1(e)||_iterableToArray$1(e)||_unsupportedIterableToArray$1(e)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray$1(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$1(e,t):void 0}}function _iterableToArray$1(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles$1(e){if(Array.isArray(e))return _arrayLikeToArray$1(e)}function _arrayLikeToArray$1(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var name$1S="usolveAll",dependencies$1U=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],createUsolveAll=factory(name$1S,dependencies$1U,(function(e){var t=e.typed,r=e.matrix,n=e.divideScalar,a=e.multiplyScalar,i=e.subtract,o=e.equalScalar,s=e.DenseMatrix,u=createSolveValidation({DenseMatrix:s});return t(name$1S,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r=[u(e,t,!0)._data.map((function(e){return e[0]}))],c=e._size[0],l=e._size[1],p=e._values,d=e._index,f=e._ptr,m=l-1;m>=0;m--)for(var h=r.length,_=0;_<h;_++){for(var v=r[_],g=[],y=[],b=f[m],$=f[m+1],x=0,w=$-1;w>=b;w--){var S=d[w];S===m?x=p[w]:S<m&&(g.push(p[w]),y.push(S))}if(o(x,0))if(o(v[m],0)){if(0===_){var N=_toConsumableArray$1(v);N[m]=1;for(var C=0,E=y.length;C<E;C++){var A=y[C];N[A]=i(N[A],g[C])}r.push(N)}}else{if(0===_)return[];r.splice(_,1),_-=1,h-=1}else{v[m]=n(v[m],x);for(var M=0,T=y.length;M<T;M++){var O=y[M];v[O]=i(v[O],a(v[m],g[M]))}}}return r.map((function(e){return new s({data:e.map((function(e){return[e]})),size:[c,1]})}))}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return c(e,t)},"Array, Array | Matrix":function(e,t){return c(r(e),t).map((function(e){return e.valueOf()}))}});function c(e,t){for(var r=[u(e,t,!0)._data.map((function(e){return e[0]}))],c=e._data,l=e._size[0],p=e._size[1]-1;p>=0;p--)for(var d=r.length,f=0;f<d;f++){var m=r[f];if(o(c[p][p],0))if(o(m[p],0)){if(0===f){var h=_toConsumableArray$1(m);h[p]=1;for(var _=p-1;_>=0;_--)h[_]=i(h[_],c[_][p]);r.push(h)}}else{if(0===f)return[];r.splice(f,1),f-=1,d-=1}else{m[p]=n(m[p],c[p][p]);for(var v=p-1;v>=0;v--)m[v]=i(m[v],a(m[p],c[v][p]))}}return r.map((function(e){return new s({data:e.map((function(e){return[e]})),size:[l,1]})}))}})),name$1T="algorithm08",dependencies$1V=["typed","equalScalar"],createAlgorithm08=factory(name$1T,dependencies$1V,(function(e){var t=e.typed,r=e.equalScalar;return function(e,n,a){var i=e._values,o=e._index,s=e._ptr,u=e._size,c=e._datatype,l=n._values,p=n._index,d=n._ptr,f=n._size,m=n._datatype;if(u.length!==f.length)throw new DimensionError(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");if(!i||!l)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var h,_=u[0],v=u[1],g=r,y=0,b=a;"string"==typeof c&&c===m&&(h=c,g=t.find(r,[h,h]),y=t.convert(0,h),b=t.find(a,[h,h]));for(var $,x,w,S,N=[],C=[],E=[],A=[],M=[],T=0;T<v;T++){E[T]=C.length;var O=T+1;for(x=s[T],w=s[T+1],$=x;$<w;$++)M[S=o[$]]=O,A[S]=i[$],C.push(S);for(x=d[T],w=d[T+1],$=x;$<w;$++)M[S=p[$]]===O&&(A[S]=b(A[S],l[$]));for($=E[T];$<C.length;){var P=A[S=C[$]];g(P,y)?C.splice($,1):(N.push(P),$++)}}return E[v]=C.length,e.createSparseMatrix({values:N,index:C,ptr:E,size:[_,v],datatype:h})}})),name$1U="leftShift",dependencies$1W=["typed","matrix","equalScalar","zeros","DenseMatrix"],createLeftShift=factory(name$1U,dependencies$1W,(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,a=e.zeros,i=e.DenseMatrix,o=createAlgorithm01({typed:t}),s=createAlgorithm02({typed:t,equalScalar:n}),u=createAlgorithm08({typed:t,equalScalar:n}),c=createAlgorithm10({typed:t,DenseMatrix:i}),l=createAlgorithm11({typed:t,equalScalar:n}),p=createAlgorithm13({typed:t}),d=createAlgorithm14({typed:t});return t(name$1U,{"number, number":leftShiftNumber,"BigNumber, BigNumber":leftShiftBigNumber,"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return n(t,0)?e.clone():l(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return n(t,0)?e.clone():d(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return n(e,0)?a(t.size(),t.storage()):c(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return n(e,0)?a(t.size(),t.storage()):d(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(r(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,r(t)).valueOf()}})})),name$1V="rightArithShift",dependencies$1X=["typed","matrix","equalScalar","zeros","DenseMatrix"],createRightArithShift=factory(name$1V,dependencies$1X,(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,a=e.zeros,i=e.DenseMatrix,o=createAlgorithm01({typed:t}),s=createAlgorithm02({typed:t,equalScalar:n}),u=createAlgorithm08({typed:t,equalScalar:n}),c=createAlgorithm10({typed:t,DenseMatrix:i}),l=createAlgorithm11({typed:t,equalScalar:n}),p=createAlgorithm13({typed:t}),d=createAlgorithm14({typed:t});return t(name$1V,{"number, number":rightArithShiftNumber,"BigNumber, BigNumber":rightArithShiftBigNumber,"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return n(t,0)?e.clone():l(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return n(t,0)?e.clone():d(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return n(e,0)?a(t.size(),t.storage()):c(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return n(e,0)?a(t.size(),t.storage()):d(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(r(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,r(t)).valueOf()}})})),name$1W="rightLogShift",dependencies$1Y=["typed","matrix","equalScalar","zeros","DenseMatrix"],createRightLogShift=factory(name$1W,dependencies$1Y,(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,a=e.zeros,i=e.DenseMatrix,o=createAlgorithm01({typed:t}),s=createAlgorithm02({typed:t,equalScalar:n}),u=createAlgorithm08({typed:t,equalScalar:n}),c=createAlgorithm10({typed:t,DenseMatrix:i}),l=createAlgorithm11({typed:t,equalScalar:n}),p=createAlgorithm13({typed:t}),d=createAlgorithm14({typed:t});return t(name$1W,{"number, number":rightLogShiftNumber,"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return n(t,0)?e.clone():l(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return n(t,0)?e.clone():d(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return n(e,0)?a(t.size(),t.storage()):c(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return n(e,0)?a(t.size(),t.storage()):d(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return this(r(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return this(e,r(t)).valueOf()}})})),name$1X="and",dependencies$1Z=["typed","matrix","equalScalar","zeros","not"],createAnd=factory(name$1X,dependencies$1Z,(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,a=e.zeros,i=e.not,o=createAlgorithm02({typed:t,equalScalar:n}),s=createAlgorithm06({typed:t,equalScalar:n}),u=createAlgorithm11({typed:t,equalScalar:n}),c=createAlgorithm13({typed:t}),l=createAlgorithm14({typed:t});return t(name$1X,{"number, number":andNumber,"Complex, Complex":function(e,t){return!(0===e.re&&0===e.im||0===t.re&&0===t.im)},"BigNumber, BigNumber":function(e,t){return!(e.isZero()||t.isZero()||e.isNaN()||t.isNaN())},"Unit, Unit":function(e,t){return this(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return i(t)?a(e.size(),e.storage()):u(e,t,this,!1)},"DenseMatrix, any":function(e,t){return i(t)?a(e.size(),e.storage()):l(e,t,this,!1)},"any, SparseMatrix":function(e,t){return i(e)?a(e.size(),e.storage()):u(t,e,this,!0)},"any, DenseMatrix":function(e,t){return i(e)?a(e.size(),e.storage()):l(t,e,this,!0)},"Array, any":function(e,t){return this(r(e),t).valueOf()},"any, Array":function(e,t){return this(e,r(t)).valueOf()}})})),name$1Y="compare",dependencies$1_=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],createCompare=factory(name$1Y,dependencies$1_,(function(e){var t=e.typed,r=e.config,n=e.equalScalar,a=e.matrix,i=e.BigNumber,o=e.Fraction,s=e.DenseMatrix,u=createAlgorithm03({typed:t}),c=createAlgorithm05({typed:t,equalScalar:n}),l=createAlgorithm12({typed:t,DenseMatrix:s}),p=createAlgorithm13({typed:t}),d=createAlgorithm14({typed:t});return t(name$1Y,{"boolean, boolean":function(e,t){return e===t?0:e>t?1:-1},"number, number":function(e,t){return nearlyEqual(e,t,r.epsilon)?0:e>t?1:-1},"BigNumber, BigNumber":function(e,t){return nearlyEqual$1(e,t,r.epsilon)?new i(0):new i(e.cmp(t))},"Fraction, Fraction":function(e,t){return new o(e.compare(t))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return u(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,this)},"Array, Array":function(e,t){return this(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return this(a(e),t)},"Matrix, Array":function(e,t){return this(e,a(t))},"SparseMatrix, any":function(e,t){return l(e,t,this,!1)},"DenseMatrix, any":function(e,t){return d(e,t,this,!1)},"any, SparseMatrix":function(e,t){return l(t,e,this,!0)},"any, DenseMatrix":function(e,t){return d(t,e,this,!0)},"Array, any":function(e,t){return d(a(e),t,this,!1).valueOf()},"any, Array":function(e,t){return d(a(t),e,this,!0).valueOf()}})})),naturalSort=function e(t,r){var n,a,i=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,c=/^0/,l=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},p=l(t).replace(o,"")||"",d=l(r).replace(o,"")||"",f=p.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=d.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=parseInt(p.match(u),16)||1!==f.length&&p.match(s)&&Date.parse(p),_=parseInt(d.match(u),16)||h&&d.match(s)&&Date.parse(d)||null;if(_){if(h<_)return-1;if(h>_)return 1}for(var v=0,g=Math.max(f.length,m.length);v<g;v++){if(n=!(f[v]||"").match(c)&&parseFloat(f[v])||f[v]||0,a=!(m[v]||"").match(c)&&parseFloat(m[v])||m[v]||0,isNaN(n)!==isNaN(a))return isNaN(n)?1:-1;if(typeof n!=typeof a&&(n+="",a+=""),n<a)return-1;if(n>a)return 1}return 0},name$1Z="compareNatural",dependencies$1$=["typed","compare"],createCompareNatural=factory(name$1Z,dependencies$1$,(function(e){var t=e.typed,r=e.compare,n=r.signatures["boolean,boolean"];return t(name$1Z,{"any, any":function(e,t){var i,o=typeOf(e),s=typeOf(t);if(!("number"!==o&&"BigNumber"!==o&&"Fraction"!==o||"number"!==s&&"BigNumber"!==s&&"Fraction"!==s))return"0"!==(i=r(e,t)).toString()?i>0?1:-1:naturalSort(o,s);if("Array"===o||"Matrix"===o||"Array"===s||"Matrix"===s)return 0!==(i=function e(t,r,n){if(isSparseMatrix(r)&&isSparseMatrix(n))return a(t,r.toJSON().values,n.toJSON().values);if(isSparseMatrix(r))return e(t,r.toArray(),n);if(isSparseMatrix(n))return e(t,r,n.toArray());if(isDenseMatrix(r))return e(t,r.toJSON().data,n);if(isDenseMatrix(n))return e(t,r,n.toJSON().data);if(!Array.isArray(r))return e(t,[r],n);if(!Array.isArray(n))return e(t,r,[n]);return a(t,r,n)}(this,e,t))?i:naturalSort(o,s);if(o!==s)return naturalSort(o,s);if("Complex"===o)return compareComplexNumbers(e,t);if("Unit"===o)return e.equalBase(t)?this(e.value,t.value):a(this,e.formatUnits(),t.formatUnits());if("boolean"===o)return n(e,t);if("string"===o)return naturalSort(e,t);if("Object"===o)return function(e,t,r){var n=Object.keys(t),i=Object.keys(r);n.sort(naturalSort),i.sort(naturalSort);var o=a(e,n,i);if(0!==o)return o;for(var s=0;s<n.length;s++){var u=e(t[n[s]],r[i[s]]);if(0!==u)return u}return 0}(this,e,t);if("null"===o)return 0;if("undefined"===o)return 0;throw new TypeError('Unsupported type of value "'+o+'"')}});function a(e,t,r){for(var n=0,a=Math.min(t.length,r.length);n<a;n++){var i=e(t[n],r[n]);if(0!==i)return i}return t.length>r.length?1:t.length<r.length?-1:0}}));function compareComplexNumbers(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0}var name$1_="compareText",dependencies$20=["typed","matrix"],createCompareText=factory(name$1_,dependencies$20,(function(e){var t=e.typed,r=e.matrix,n=createAlgorithm13({typed:t}),a=createAlgorithm14({typed:t});return t(name$1_,{"any, any":compareText,"DenseMatrix, DenseMatrix":function(e,t){return n(e,t,compareText)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"DenseMatrix, any":function(e,t){return a(e,t,compareText,!1)},"any, DenseMatrix":function(e,t){return a(t,e,compareText,!0)},"Array, any":function(e,t){return a(r(e),t,compareText,!1).valueOf()},"any, Array":function(e,t){return a(r(t),e,compareText,!0).valueOf()}})})),name$1$="equal",dependencies$21=["typed","matrix","equalScalar","DenseMatrix"],createEqual=factory(name$1$,dependencies$21,(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,a=e.DenseMatrix,i=createAlgorithm03({typed:t}),o=createAlgorithm07({typed:t,DenseMatrix:a}),s=createAlgorithm12({typed:t,DenseMatrix:a}),u=createAlgorithm13({typed:t}),c=createAlgorithm14({typed:t});return t(name$1$,{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:n(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,n)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,n,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,n,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,n)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,n,!1)},"DenseMatrix, any":function(e,t){return c(e,t,n,!1)},"any, SparseMatrix":function(e,t){return s(t,e,n,!0)},"any, DenseMatrix":function(e,t){return c(t,e,n,!0)},"Array, any":function(e,t){return c(r(e),t,n,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,n,!0).valueOf()}})})),createEqualNumber=factory(name$1$,["typed","equalScalar"],(function(e){var t=e.typed,r=e.equalScalar;return t(name$1$,{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:r(e,t)}})})),name$20="equalText",dependencies$22=["typed","compareText","isZero"],createEqualText=factory(name$20,dependencies$22,(function(e){var t=e.typed,r=e.compareText,n=e.isZero;return t(name$20,{"any, any":function(e,t){return n(r(e,t))}})})),name$21="smaller",dependencies$23=["typed","config","matrix","DenseMatrix"],createSmaller=factory(name$21,dependencies$23,(function(e){var t=e.typed,r=e.config,n=e.matrix,a=e.DenseMatrix,i=createAlgorithm03({typed:t}),o=createAlgorithm07({typed:t,DenseMatrix:a}),s=createAlgorithm12({typed:t,DenseMatrix:a}),u=createAlgorithm13({typed:t}),c=createAlgorithm14({typed:t});return t(name$21,{"boolean, boolean":function(e,t){return e<t},"number, number":function(e,t){return e<t&&!nearlyEqual(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lt(t)&&!nearlyEqual$1(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return-1===e.compare(t)},"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,this,!1)},"DenseMatrix, any":function(e,t){return c(e,t,this,!1)},"any, SparseMatrix":function(e,t){return s(t,e,this,!0)},"any, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, any":function(e,t){return c(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return c(n(t),e,this,!0).valueOf()}})})),name$22="smallerEq",dependencies$24=["typed","config","matrix","DenseMatrix"],createSmallerEq=factory(name$22,dependencies$24,(function(e){var t=e.typed,r=e.config,n=e.matrix,a=e.DenseMatrix,i=createAlgorithm03({typed:t}),o=createAlgorithm07({typed:t,DenseMatrix:a}),s=createAlgorithm12({typed:t,DenseMatrix:a}),u=createAlgorithm13({typed:t}),c=createAlgorithm14({typed:t});return t(name$22,{"boolean, boolean":function(e,t){return e<=t},"number, number":function(e,t){return e<=t||nearlyEqual(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lte(t)||nearlyEqual$1(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return 1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,this,!1)},"DenseMatrix, any":function(e,t){return c(e,t,this,!1)},"any, SparseMatrix":function(e,t){return s(t,e,this,!0)},"any, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, any":function(e,t){return c(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return c(n(t),e,this,!0).valueOf()}})})),name$23="larger",dependencies$25=["typed","config","matrix","DenseMatrix"],createLarger=factory(name$23,dependencies$25,(function(e){var t=e.typed,r=e.config,n=e.matrix,a=e.DenseMatrix,i=createAlgorithm03({typed:t}),o=createAlgorithm07({typed:t,DenseMatrix:a}),s=createAlgorithm12({typed:t,DenseMatrix:a}),u=createAlgorithm13({typed:t}),c=createAlgorithm14({typed:t});return t(name$23,{"boolean, boolean":function(e,t){return e>t},"number, number":function(e,t){return e>t&&!nearlyEqual(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gt(t)&&!nearlyEqual$1(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return 1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,this,!1)},"DenseMatrix, any":function(e,t){return c(e,t,this,!1)},"any, SparseMatrix":function(e,t){return s(t,e,this,!0)},"any, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, any":function(e,t){return c(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return c(n(t),e,this,!0).valueOf()}})})),name$24="largerEq",dependencies$26=["typed","config","matrix","DenseMatrix"],createLargerEq=factory(name$24,dependencies$26,(function(e){var t=e.typed,r=e.config,n=e.matrix,a=e.DenseMatrix,i=createAlgorithm03({typed:t}),o=createAlgorithm07({typed:t,DenseMatrix:a}),s=createAlgorithm12({typed:t,DenseMatrix:a}),u=createAlgorithm13({typed:t}),c=createAlgorithm14({typed:t});return t(name$24,{"boolean, boolean":function(e,t){return e>=t},"number, number":function(e,t){return e>=t||nearlyEqual(e,t,r.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gte(t)||nearlyEqual$1(e,t,r.epsilon)},"Fraction, Fraction":function(e,t){return-1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return this(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,this)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,this)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,this,!1)},"DenseMatrix, any":function(e,t){return c(e,t,this,!1)},"any, SparseMatrix":function(e,t){return s(t,e,this,!0)},"any, DenseMatrix":function(e,t){return c(t,e,this,!0)},"Array, any":function(e,t){return c(n(e),t,this,!1).valueOf()},"any, Array":function(e,t){return c(n(t),e,this,!0).valueOf()}})})),name$25="deepEqual",dependencies$27=["typed","equal"],createDeepEqual=factory(name$25,dependencies$27,(function(e){var t=e.typed,r=e.equal;return t(name$25,{"any, any":function(e,t){return function e(t,n){if(Array.isArray(t)){if(Array.isArray(n)){var a=t.length;if(a!==n.length)return!1;for(var i=0;i<a;i++)if(!e(t[i],n[i]))return!1;return!0}return!1}return!Array.isArray(n)&&r(t,n)}(e.valueOf(),t.valueOf())}})})),name$26="unequal",dependencies$28=["typed","config","equalScalar","matrix","DenseMatrix"],createUnequal=factory(name$26,dependencies$28,(function(e){var t=e.typed,r=(e.config,e.equalScalar),n=e.matrix,a=e.DenseMatrix,i=createAlgorithm03({typed:t}),o=createAlgorithm07({typed:t,DenseMatrix:a}),s=createAlgorithm12({typed:t,DenseMatrix:a}),u=createAlgorithm13({typed:t}),c=createAlgorithm14({typed:t});return t("unequal",{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:l(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,l)},"Array, Array":function(e,t){return this(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return this(n(e),t)},"Matrix, Array":function(e,t){return this(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,l,!1)},"DenseMatrix, any":function(e,t){return c(e,t,l,!1)},"any, SparseMatrix":function(e,t){return s(t,e,l,!0)},"any, DenseMatrix":function(e,t){return c(t,e,l,!0)},"Array, any":function(e,t){return c(n(e),t,l,!1).valueOf()},"any, Array":function(e,t){return c(n(t),e,l,!0).valueOf()}});function l(e,t){return!r(e,t)}})),createUnequalNumber=factory(name$26,["typed","equalScalar"],(function(e){var t=e.typed,r=e.equalScalar;return t(name$26,{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:!r(e,t)}})})),name$27="partitionSelect",dependencies$29=["typed","isNumeric","isNaN","compare"],createPartitionSelect=factory(name$27,dependencies$29,(function(e){var t=e.typed,r=e.isNumeric,n=e.isNaN,a=e.compare,i=a,o=function(e,t){return-a(e,t)};return t(name$27,{"Array | Matrix, number":function(e,t){return s(e,t,i)},"Array | Matrix, number, string":function(e,t,r){if("asc"===r)return s(e,t,i);if("desc"===r)return s(e,t,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(e,t,r){if(!isInteger(t)||t<0)throw new Error("k must be a non-negative integer");if(isMatrix(e)){if(e.size().length>1)throw new Error("Only one dimensional matrices supported");return u(e.valueOf(),t,r)}if(Array.isArray(e))return u(e,t,r)}function u(e,t,a){if(t>=e.length)throw new Error("k out of bounds");for(var i=0;i<e.length;i++)if(r(e[i])&&n(e[i]))return e[i];for(var o=0,s=e.length-1;o<s;){for(var u=o,c=s,l=e[Math.floor(Math.random()*(s-o+1))+o];u<c;)if(a(e[u],l)>=0){var p=e[c];e[c]=e[u],e[u]=p,--c}else++u;a(e[u],l)>0&&--u,t<=u?s=u:o=u+1}return e[t]}})),name$28="sort",dependencies$2a=["typed","matrix","compare","compareNatural"],createSort=factory(name$28,dependencies$2a,(function(e){var t=e.typed,r=e.matrix,n=e.compare,a=e.compareNatural,i=n,o=function(e,t){return-n(e,t)};return t(name$28,{Array:function(e){return u(e),e.sort(i)},Matrix:function(e){return c(e),r(e.toArray().sort(i),e.storage())},"Array, function":function(e,t){return u(e),e.sort(t)},"Matrix, function":function(e,t){return c(e),r(e.toArray().sort(t),e.storage())},"Array, string":function(e,t){return u(e),e.sort(s(t))},"Matrix, string":function(e,t){return c(e),r(e.toArray().sort(s(t)),e.storage())}});function s(e){if("asc"===e)return i;if("desc"===e)return o;if("natural"===e)return a;throw new Error('String "asc", "desc", or "natural" expected')}function u(e){if(1!==arraySize(e).length)throw new Error("One dimensional array expected")}function c(e){if(1!==e.size().length)throw new Error("One dimensional matrix expected")}})),name$29="max",dependencies$2b=["typed","config","numeric","larger"],createMax=factory(name$29,dependencies$2b,(function(e){var t=e.typed,r=e.config,n=e.numeric,a=e.larger;return t(name$29,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){return reduce(e,t.valueOf(),i)},"...":function(e){if(containsCollections(e))throw new TypeError("Scalar values expected in function max");return o(e)}});function i(e,t){try{return a(e,t)?e:t}catch(e){throw improveErrorMessage(e,"max",t)}}function o(e){var t;if(deepForEach(e,(function(e){try{isNaN(e)&&"number"==typeof e?t=NaN:(void 0===t||a(e,t))&&(t=e)}catch(t){throw improveErrorMessage(t,"max",e)}})),void 0===t)throw new Error("Cannot calculate max of an empty array");return"string"==typeof t&&(t=n(t,r.number)),t}})),name$2a="min",dependencies$2c=["typed","config","numeric","smaller"],createMin=factory(name$2a,dependencies$2c,(function(e){var t=e.typed,r=e.config,n=e.numeric,a=e.smaller;return t(name$2a,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){return reduce(e,t.valueOf(),i)},"...":function(e){if(containsCollections(e))throw new TypeError("Scalar values expected in function min");return o(e)}});function i(e,t){try{return a(e,t)?e:t}catch(e){throw improveErrorMessage(e,"min",t)}}function o(e){var t;if(deepForEach(e,(function(e){try{isNaN(e)&&"number"==typeof e?t=NaN:(void 0===t||a(e,t))&&(t=e)}catch(t){throw improveErrorMessage(t,"min",e)}})),void 0===t)throw new Error("Cannot calculate min of an empty array");return"string"==typeof t&&(t=n(t,r.number)),t}})),name$2b="ImmutableDenseMatrix",dependencies$2d=["smaller","DenseMatrix"],createImmutableDenseMatrixClass=factory(name$2b,dependencies$2d,(function(e){var t=e.smaller,r=e.DenseMatrix;function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!isString(t))throw new Error("Invalid datatype: "+t);if(isMatrix(e)||isArray(e)){var a=new r(e,t);this._data=a._data,this._size=a._size,this._datatype=a._datatype,this._min=null,this._max=null}else if(e&&isArray(e.data)&&isArray(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min=void 0!==e.min?e.min:null,this._max=void 0!==e.max?e.max:null;else{if(e)throw new TypeError("Unsupported type of data ("+typeOf(e)+")");this._data=[],this._size=[0],this._datatype=t,this._min=null,this._max=null}}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(e){switch(arguments.length){case 1:var t=r.prototype.subset.call(this,e);return isMatrix(t)?new n({data:t._data,size:t._size,datatype:t._datatype}):t;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:clone(this._data),size:clone(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(e){return new n(e)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(null===this._min){var e=null;this.forEach((function(r){(null===e||t(r,e))&&(e=r)})),this._min=null!==e?e:void 0}return this._min},n.prototype.max=function(){if(null===this._max){var e=null;this.forEach((function(r){(null===e||t(e,r))&&(e=r)})),this._max=null!==e?e:void 0}return this._max},n}),{isClass:!0}),name$2c="Index",dependencies$2e=["ImmutableDenseMatrix"],createIndexClass=factory(name$2c,dependencies$2e,(function(e){var t=e.ImmutableDenseMatrix;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var t=0,a=arguments.length;t<a;t++){var i=arguments[t];if(isRange(i))this._dimensions.push(i),this._isScalar=!1;else if(Array.isArray(i)||isMatrix(i)){var o=n(i.valueOf());this._dimensions.push(o);var s=o.size();1===s.length&&1===s[0]||(this._isScalar=!1)}else if("number"==typeof i)this._dimensions.push(n([i]));else{if("string"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(i)}}}function n(e){for(var r=0,n=e.length;r<n;r++)if("number"!=typeof e[r]||!isInteger(e[r]))throw new TypeError("Index parameters must be positive integer numbers");return new t(e)}return r.prototype.type="Index",r.prototype.isIndex=!0,r.prototype.clone=function(){var e=new r;return e._dimensions=clone(this._dimensions),e._isScalar=this._isScalar,e},r.create=function(e){var t=new r;return r.apply(t,e),t},r.prototype.size=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?1:n.size()[0]}return e},r.prototype.max=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.max()}return e},r.prototype.min=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.min()}return e},r.prototype.forEach=function(e){for(var t=0,r=this._dimensions.length;t<r;t++)e(this._dimensions[t],t,this)},r.prototype.dimension=function(e){return this._dimensions[e]||null},r.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e.push("string"==typeof n?n:n.toArray())}return e},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];"string"==typeof n?e.push(JSON.stringify(n)):e.push(n.toString())}return"["+e.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(e){return r.create(e.dimensions)},r}),{isClass:!0}),name$2d="FibonacciHeap",dependencies$2f=["smaller","larger"],createFibonacciHeapClass=factory(name$2d,dependencies$2f,(function(e){var t=e.smaller,r=e.larger,n=1/Math.log((1+Math.sqrt(5))/2);function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function i(e,t,r){t.left.right=t.right,t.right.left=t.left,r.degree--,r.child===t&&(r.child=t.right),0===r.degree&&(r.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1}a.prototype.type="FibonacciHeap",a.prototype.isFibonacciHeap=!0,a.prototype.insert=function(e,r){var n={key:e,value:r,degree:0};if(this._minimum){var a=this._minimum;n.left=a,n.right=a.right,a.right=n,n.right.left=n,t(e,a.key)&&(this._minimum=n)}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},a.prototype.size=function(){return this._size},a.prototype.clear=function(){this._minimum=null,this._size=0},a.prototype.isEmpty=function(){return 0===this._size},a.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var a=this._minimum,i=e.degree,s=e.child;i>0;){var u=s.right;s.left.right=s.right,s.right.left=s.left,s.left=a,s.right=a.right,a.right=s,s.right.left=s,s.parent=null,s=u,i--}return e.left.right=e.right,e.right.left=e.left,a=e===e.right?null:function(e,a){var i,s=Math.floor(Math.log(a)*n)+1,u=new Array(s),c=0,l=e;if(l)for(c++,l=l.right;l!==e;)c++,l=l.right;for(;c>0;){for(var p=l.degree,d=l.right;i=u[p];){if(r(l.key,i.key)){var f=i;i=l,l=f}o(i,l),u[p]=null,p++}u[p]=l,l=d,c--}e=null;for(var m=0;m<s;m++)(i=u[m])&&(e?(i.left.right=i.right,i.right.left=i.left,i.left=e,i.right=e.right,e.right=i,i.right.left=i,t(i.key,e.key)&&(e=i)):e=i);return e}(a=e.right,this._size),this._size--,this._minimum=a,e},a.prototype.remove=function(e){this._minimum=function(e,r,n){r.key=n;var a=r.parent;a&&t(r.key,a.key)&&(i(e,r,a),function e(t,r){var n=r.parent;if(!n)return;r.mark?(i(t,r,n),e(n)):r.mark=!0}(e,a));t(r.key,e.key)&&(e=r);return e}(this._minimum,e,-1),this.extractMinimum()};var o=function(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1};return a}),{isClass:!0}),name$2e="Spa",dependencies$2g=["addScalar","equalScalar","FibonacciHeap"],createSpaClass=factory(name$2e,dependencies$2g,(function(e){var t=e.addScalar,r=e.equalScalar,n=e.FibonacciHeap;function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return a.prototype.type="Spa",a.prototype.isSpa=!0,a.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var r=this._heap.insert(e,t);this._values[e]=r}},a.prototype.get=function(e){var t=this._values[e];return t?t.value:0},a.prototype.accumulate=function(e,r){var n=this._values[e];n?n.value=t(n.value,r):(n=this._heap.insert(e,r),this._values[e]=n)},a.prototype.forEach=function(e,t,n){var a=this._heap,i=this._values,o=[],s=a.extractMinimum();for(s&&o.push(s);s&&s.key<=t;)s.key>=e&&(r(s.value,0)||n(s.key,s.value,this)),(s=a.extractMinimum())&&o.push(s);for(var u=0;u<o.length;u++){var c=o[u];i[(s=a.insert(c.key,c.value)).key]=s}},a.prototype.swap=function(e,t){var r=this._values[e],n=this._values[t];if(!r&&n)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(r&&!n)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(r&&n){var a=r.value;r.value=n.value,n.value=a}},a}),{isClass:!0}),createBigNumberE=memoize((function(e){return new e(1).exp()}),hasher),createBigNumberPhi=memoize((function(e){return new e(1).plus(new e(5).sqrt()).div(2)}),hasher),createBigNumberPi=memoize((function(e){return e.acos(-1)}),hasher),createBigNumberTau=memoize((function(e){return createBigNumberPi(e).times(2)}),hasher);function hasher(e){return e[0].precision}function _typeof$6(e){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends$1(){return(_extends$1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ownKeys$1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$1(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty$1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var name$2f="Unit",dependencies$2h=["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],createUnitClass=factory(name$2f,dependencies$2h,(function(e){var t,r,n,a=e.on,i=e.config,o=e.addScalar,s=e.subtract,u=e.multiplyScalar,c=e.divideScalar,l=e.pow,p=e.abs,d=e.fix,f=e.round,m=e.equal,h=e.isNumeric,_=e.format,v=e.number,g=e.Complex,y=e.BigNumber,b=e.Fraction,$=v;function x(e,t){if(!(this instanceof x))throw new Error("Constructor must be called with the new operator");if(null!=e&&!h(e)&&!isComplex(e))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==t&&("string"!=typeof t||""===t))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==t){var r=x.parse(t);this.units=r.units,this.dimensions=r.dimensions}else{this.units=[{unit:k,prefix:P.NONE,power:0}],this.dimensions=[];for(var n=0;n<D.length;n++)this.dimensions[n]=0}this.value=null!=e?this._normalize(e):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}function w(){for(;" "===n||"\t"===n;)N()}function S(e){return e>="0"&&e<="9"}function N(){r++,n=t.charAt(r)}function C(e){r=e,n=t.charAt(r)}function E(){var e="",t=r;if("+"===n?N():"-"===n&&(e+=n,N()),!function(e){return e>="0"&&e<="9"||"."===e}(n))return C(t),null;if("."===n){if(e+=n,N(),!S(n))return C(t),null}else{for(;S(n);)e+=n,N();"."===n&&(e+=n,N())}for(;S(n);)e+=n,N();if("E"===n||"e"===n){var a="",i=r;if(a+=n,N(),"+"!==n&&"-"!==n||(a+=n,N()),!S(n))return C(i),e;for(e+=a;S(n);)e+=n,N()}return e}function A(){for(var e="",a=t.charCodeAt(r);a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122;)e+=n,N(),a=t.charCodeAt(r);return((a=e.charCodeAt(0))>=65&&a<=90||a>=97&&a<=122)&&e||null}function M(e){return n===e?(N(),e):null}function T(e){if(hasOwnProperty(R,e)){var t=R[e];return{unit:t,prefix:t.prefixes[""]}}for(var r in R)if(hasOwnProperty(R,r)&&endsWith(e,r)){var n=R[r],a=e.length-r.length,i=e.substring(0,a),o=hasOwnProperty(n.prefixes,i)?n.prefixes[i]:void 0;if(void 0!==o)return{unit:n,prefix:o}}return null}function O(e){return e.equalBase(I.NONE)&&null!==e.value&&!i.predictable?e.value:e}x.prototype.type="Unit",x.prototype.isUnit=!0,x.parse=function(e,a){if(a=a||{},r=-1,n="","string"!=typeof(t=e))throw new TypeError("Invalid argument in Unit.parse, string expected");var o=new x;o.units=[];var s=1,u=!1;N(),w();var c=E(),l=null;if(c){if("BigNumber"===i.number)l=new y(c);else if("Fraction"===i.number)try{l=new b(c)}catch(e){l=parseFloat(c)}else l=parseFloat(c);w(),M("*")?(s=1,u=!0):M("/")&&(s=-1,u=!0)}for(var p=[],d=1;;){for(w();"("===n;)p.push(s),d*=s,s=1,N(),w();var f=void 0;if(!n)break;var m=n;if(null===(f=A()))throw new SyntaxError('Unexpected "'+m+'" in "'+t+'" at index '+r.toString());var h=T(f);if(null===h)throw new SyntaxError('Unit "'+f+'" not found.');var _=s*d;if(w(),M("^")){w();var v=E();if(null===v)throw new SyntaxError('In "'+e+'", "^" must be followed by a floating-point number');_*=v}o.units.push({unit:h.unit,prefix:h.prefix,power:_});for(var g=0;g<D.length;g++)o.dimensions[g]+=(h.unit.dimensions[g]||0)*_;for(w();")"===n;){if(0===p.length)throw new SyntaxError('Unmatched ")" in "'+t+'" at index '+r.toString());d/=p.pop(),N(),w()}if(u=!1,M("*")?(s=1,u=!0):M("/")?(s=-1,u=!0):s=1,h.unit.base){var $=h.unit.base.key;B.auto[$]={unit:h.unit,prefix:h.prefix}}}if(w(),n)throw new SyntaxError('Could not parse: "'+e+'"');if(u)throw new SyntaxError('Trailing characters: "'+e+'"');if(0!==p.length)throw new SyntaxError('Unmatched "(" in "'+t+'"');if(0===o.units.length&&!a.allowNoUnits)throw new SyntaxError('"'+e+'" contains no units');return o.value=void 0!==l?o._normalize(l):null,o},x.prototype.clone=function(){var e=new x;e.fixPrefix=this.fixPrefix,e.skipAutomaticSimplification=this.skipAutomaticSimplification,e.value=clone(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++)for(var r in e.units[t]={},this.units[t])hasOwnProperty(this.units[t],r)&&(e.units[t][r]=this.units[t][r]);return e},x.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},x.prototype._normalize=function(e){var t,r,n,a,i;if(null==e||0===this.units.length)return e;if(this._isDerived()){var s=e;i=x._getNumberConverter(typeOf(e));for(var c=0;c<this.units.length;c++)t=i(this.units[c].unit.value),a=i(this.units[c].prefix.value),n=i(this.units[c].power),s=u(s,l(u(t,a),n));return s}return t=(i=x._getNumberConverter(typeOf(e)))(this.units[0].unit.value),r=i(this.units[0].unit.offset),a=i(this.units[0].prefix.value),u(o(e,r),u(t,a))},x.prototype._denormalize=function(e,t){var r,n,a,i,o;if(null==e||0===this.units.length)return e;if(this._isDerived()){var p=e;o=x._getNumberConverter(typeOf(e));for(var d=0;d<this.units.length;d++)r=o(this.units[d].unit.value),i=o(this.units[d].prefix.value),a=o(this.units[d].power),p=c(p,l(u(r,i),a));return p}return r=(o=x._getNumberConverter(typeOf(e)))(this.units[0].unit.value),i=o(this.units[0].prefix.value),n=o(this.units[0].unit.offset),s(c(c(e,r),null==t?i:t),n)},x.isValuelessUnit=function(e){return null!==T(e)},x.prototype.hasBase=function(e){if("string"==typeof e&&(e=I[e]),!e)return!1;for(var t=0;t<D.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},x.prototype.equalBase=function(e){for(var t=0;t<D.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},x.prototype.equals=function(e){return this.equalBase(e)&&m(this.value,e.value)},x.prototype.multiply=function(e){for(var t=this.clone(),r=0;r<D.length;r++)t.dimensions[r]=(this.dimensions[r]||0)+(e.dimensions[r]||0);for(var n=0;n<e.units.length;n++){var a=_objectSpread$1({},e.units[n]);t.units.push(a)}if(null!==this.value||null!==e.value){var i=null===this.value?this._normalize(1):this.value,o=null===e.value?e._normalize(1):e.value;t.value=u(i,o)}else t.value=null;return t.skipAutomaticSimplification=!1,O(t)},x.prototype.divide=function(e){for(var t=this.clone(),r=0;r<D.length;r++)t.dimensions[r]=(this.dimensions[r]||0)-(e.dimensions[r]||0);for(var n=0;n<e.units.length;n++){var a=_objectSpread$1(_objectSpread$1({},e.units[n]),{},{power:-e.units[n].power});t.units.push(a)}if(null!==this.value||null!==e.value){var i=null===this.value?this._normalize(1):this.value,o=null===e.value?e._normalize(1):e.value;t.value=c(i,o)}else t.value=null;return t.skipAutomaticSimplification=!1,O(t)},x.prototype.pow=function(e){for(var t=this.clone(),r=0;r<D.length;r++)t.dimensions[r]=(this.dimensions[r]||0)*e;for(var n=0;n<t.units.length;n++)t.units[n].power*=e;return null!==t.value?t.value=l(t.value,e):t.value=null,t.skipAutomaticSimplification=!1,O(t)},x.prototype.abs=function(){var e=this.clone();for(var t in e.value=null!==e.value?p(e.value):null,e.units)"VA"!==e.units[t].unit.name&&"VAR"!==e.units[t].unit.name||(e.units[t].unit=R.W);return e},x.prototype.to=function(e){var t,r=null===this.value?this._normalize(1):this.value;if("string"==typeof e){if(t=x.parse(e),!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return t.value=clone(r),t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t}if(isUnit(e)){if(!this.equalBase(e))throw new Error("Units do not match ('".concat(e.toString(),"' != '").concat(this.toString(),"')"));if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return(t=e.clone()).value=clone(r),t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t}throw new Error("String or Unit expected as parameter")},x.prototype.toNumber=function(e){return $(this.toNumeric(e))},x.prototype.toNumeric=function(e){var t;return(t=e?this.to(e):this.clone())._isDerived()||0===t.units.length?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},x.prototype.toString=function(){return this.format()},x.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},x.fromJSON=function(e){var t=new x(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t},x.prototype.valueOf=x.prototype.toString,x.prototype.simplify=function(){var e,t,r=this.clone(),n=[];for(var a in L)if(hasOwnProperty(L,a)&&r.hasBase(I[a])){e=a;break}if("NONE"===e)r.units=[];else if(e&&hasOwnProperty(L,e)&&(t=L[e]),t)r.units=[{unit:t.unit,prefix:t.prefix,power:1}];else{for(var i=!1,o=0;o<D.length;o++){var s=D[o];Math.abs(r.dimensions[o]||0)>1e-12&&(hasOwnProperty(L,s)?n.push({unit:L[s].unit,prefix:L[s].prefix,power:r.dimensions[o]||0}):i=!0)}n.length<r.units.length&&!i&&(r.units=n)}return r},x.prototype.toSI=function(){for(var e=this.clone(),t=[],r=0;r<D.length;r++){var n=D[r];if(Math.abs(e.dimensions[r]||0)>1e-12){if(!hasOwnProperty(B.si,n))throw new Error("Cannot express custom unit "+n+" in SI units");t.push({unit:B.si[n].unit,prefix:B.si[n].prefix,power:e.dimensions[r]||0})}}return e.units=t,e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e},x.prototype.formatUnits=function(){for(var e="",t="",r=0,n=0,a=0;a<this.units.length;a++)this.units[a].power>0?(r++,e+=" "+this.units[a].prefix.name+this.units[a].unit.name,Math.abs(this.units[a].power-1)>1e-15&&(e+="^"+this.units[a].power)):this.units[a].power<0&&n++;if(n>0)for(var i=0;i<this.units.length;i++)this.units[i].power<0&&(r>0?(t+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power+1)>1e-15&&(t+="^"+-this.units[i].power)):(t+=" "+this.units[i].prefix.name+this.units[i].unit.name,t+="^"+this.units[i].power));e=e.substr(1),t=t.substr(1),r>1&&n>0&&(e="("+e+")"),n>1&&r>0&&(t="("+t+")");var o=e;return r>0&&n>0&&(o+=" / "),o+=t},x.prototype.format=function(e){var t=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),r=!1;for(var n in void 0!==t.value&&null!==t.value&&isComplex(t.value)&&(r=Math.abs(t.value.re)<1e-14),t.units)hasOwnProperty(t.units,n)&&t.units[n].unit&&("VA"===t.units[n].unit.name&&r?t.units[n].unit=R.VAR:"VAR"!==t.units[n].unit.name||r||(t.units[n].unit=R.VA));1!==t.units.length||t.fixPrefix||Math.abs(t.units[0].power-Math.round(t.units[0].power))<1e-14&&(t.units[0].prefix=t._bestPrefix());var a=t._denormalize(t.value),i=null!==t.value?_(a,e||{}):"",o=t.formatUnits();return t.value&&isComplex(t.value)&&(i="("+i+")"),o.length>0&&i.length>0&&(i+=" "),i+=o},x.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=null!==this.value?p(this.value):0,t=p(this.units[0].unit.value),r=this.units[0].prefix;if(0===e)return r;var n=this.units[0].power,a=Math.log(e/Math.pow(r.value*t,n))/Math.LN10-1.2;if(a>-2.200001&&a<1.800001)return r;a=Math.abs(a);var i=this.units[0].unit.prefixes;for(var o in i)if(hasOwnProperty(i,o)){var s=i[o];if(s.scientific){var u=Math.abs(Math.log(e/Math.pow(s.value*t,n))/Math.LN10-1.2);(u<a||u===a&&s.name.length<r.name.length)&&(r=s,a=u)}}return r},x.prototype.splitUnit=function(e){for(var t=this.clone(),r=[],n=0;n<e.length&&(t=t.to(e[n]),n!==e.length-1);n++){var a=t.toNumeric(),i=f(a),u=new x(m(i,a)?i:d(t.toNumeric()),e[n].toString());r.push(u),t=s(t,u)}for(var c=0,l=0;l<r.length;l++)c=o(c,r[l].value);return m(c,this.value)&&(t.value=0),r.push(t),r};var P={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};P.SHORTLONG=_extends$1({},P.SHORT,P.LONG),P.BINARY_SHORT=_extends$1({},P.BINARY_SHORT_SI,P.BINARY_SHORT_IEC),P.BINARY_LONG=_extends$1({},P.BINARY_LONG_SI,P.BINARY_LONG_IEC);var D=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],I={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var F in I)hasOwnProperty(I,F)&&(I[F].key=F);var k={name:"",base:{},value:1,offset:0,dimensions:D.map((function(e){return 0}))},R={meter:{name:"meter",base:I.LENGTH,prefixes:P.LONG,value:1,offset:0},inch:{name:"inch",base:I.LENGTH,prefixes:P.NONE,value:.0254,offset:0},foot:{name:"foot",base:I.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yard:{name:"yard",base:I.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mile:{name:"mile",base:I.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},link:{name:"link",base:I.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rod:{name:"rod",base:I.LENGTH,prefixes:P.NONE,value:5.0292,offset:0},chain:{name:"chain",base:I.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:I.LENGTH,prefixes:P.NONE,value:1e-10,offset:0},m:{name:"m",base:I.LENGTH,prefixes:P.SHORT,value:1,offset:0},in:{name:"in",base:I.LENGTH,prefixes:P.NONE,value:.0254,offset:0},ft:{name:"ft",base:I.LENGTH,prefixes:P.NONE,value:.3048,offset:0},yd:{name:"yd",base:I.LENGTH,prefixes:P.NONE,value:.9144,offset:0},mi:{name:"mi",base:I.LENGTH,prefixes:P.NONE,value:1609.344,offset:0},li:{name:"li",base:I.LENGTH,prefixes:P.NONE,value:.201168,offset:0},rd:{name:"rd",base:I.LENGTH,prefixes:P.NONE,value:5.02921,offset:0},ch:{name:"ch",base:I.LENGTH,prefixes:P.NONE,value:20.1168,offset:0},mil:{name:"mil",base:I.LENGTH,prefixes:P.NONE,value:254e-7,offset:0},m2:{name:"m2",base:I.SURFACE,prefixes:P.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:I.SURFACE,prefixes:P.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:I.SURFACE,prefixes:P.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:I.SURFACE,prefixes:P.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:I.SURFACE,prefixes:P.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:I.SURFACE,prefixes:P.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:I.SURFACE,prefixes:P.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:I.SURFACE,prefixes:P.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:I.SURFACE,prefixes:P.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:I.SURFACE,prefixes:P.NONE,value:1e4,offset:0},m3:{name:"m3",base:I.VOLUME,prefixes:P.CUBIC,value:1,offset:0},L:{name:"L",base:I.VOLUME,prefixes:P.SHORT,value:.001,offset:0},l:{name:"l",base:I.VOLUME,prefixes:P.SHORT,value:.001,offset:0},litre:{name:"litre",base:I.VOLUME,prefixes:P.LONG,value:.001,offset:0},cuin:{name:"cuin",base:I.VOLUME,prefixes:P.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:I.VOLUME,prefixes:P.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:I.VOLUME,prefixes:P.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:I.VOLUME,prefixes:P.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:I.VOLUME,prefixes:P.NONE,value:15e-6,offset:0},drop:{name:"drop",base:I.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:I.VOLUME,prefixes:P.NONE,value:5e-8,offset:0},minim:{name:"minim",base:I.VOLUME,prefixes:P.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:I.VOLUME,prefixes:P.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:I.VOLUME,prefixes:P.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:I.VOLUME,prefixes:P.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:I.VOLUME,prefixes:P.NONE,value:1e-6,offset:0},cup:{name:"cup",base:I.VOLUME,prefixes:P.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:I.VOLUME,prefixes:P.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:I.VOLUME,prefixes:P.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:I.VOLUME,prefixes:P.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:I.VOLUME,prefixes:P.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:I.VOLUME,prefixes:P.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:I.VOLUME,prefixes:P.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:I.VOLUME,prefixes:P.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:I.VOLUME,prefixes:P.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:I.VOLUME,prefixes:P.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:I.VOLUME,prefixes:P.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:I.VOLUME,prefixes:P.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:I.VOLUME,prefixes:P.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:I.VOLUME,prefixes:P.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:I.VOLUME,prefixes:P.NONE,value:.1173478,offset:0},obl:{name:"obl",base:I.VOLUME,prefixes:P.NONE,value:.1589873,offset:0},g:{name:"g",base:I.MASS,prefixes:P.SHORT,value:.001,offset:0},gram:{name:"gram",base:I.MASS,prefixes:P.LONG,value:.001,offset:0},ton:{name:"ton",base:I.MASS,prefixes:P.SHORT,value:907.18474,offset:0},t:{name:"t",base:I.MASS,prefixes:P.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:I.MASS,prefixes:P.LONG,value:1e3,offset:0},grain:{name:"grain",base:I.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:I.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:I.MASS,prefixes:P.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:I.MASS,prefixes:P.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:I.MASS,prefixes:P.NONE,value:45.359237,offset:0},stick:{name:"stick",base:I.MASS,prefixes:P.NONE,value:.115,offset:0},stone:{name:"stone",base:I.MASS,prefixes:P.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:I.MASS,prefixes:P.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:I.MASS,prefixes:P.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:I.MASS,prefixes:P.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:I.MASS,prefixes:P.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:I.MASS,prefixes:P.NONE,value:45.359237,offset:0},s:{name:"s",base:I.TIME,prefixes:P.SHORT,value:1,offset:0},min:{name:"min",base:I.TIME,prefixes:P.NONE,value:60,offset:0},h:{name:"h",base:I.TIME,prefixes:P.NONE,value:3600,offset:0},second:{name:"second",base:I.TIME,prefixes:P.LONG,value:1,offset:0},sec:{name:"sec",base:I.TIME,prefixes:P.LONG,value:1,offset:0},minute:{name:"minute",base:I.TIME,prefixes:P.NONE,value:60,offset:0},hour:{name:"hour",base:I.TIME,prefixes:P.NONE,value:3600,offset:0},day:{name:"day",base:I.TIME,prefixes:P.NONE,value:86400,offset:0},week:{name:"week",base:I.TIME,prefixes:P.NONE,value:604800,offset:0},month:{name:"month",base:I.TIME,prefixes:P.NONE,value:2629800,offset:0},year:{name:"year",base:I.TIME,prefixes:P.NONE,value:31557600,offset:0},decade:{name:"decade",base:I.TIME,prefixes:P.NONE,value:315576e3,offset:0},century:{name:"century",base:I.TIME,prefixes:P.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:I.TIME,prefixes:P.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:I.FREQUENCY,prefixes:P.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:I.FREQUENCY,prefixes:P.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:I.ANGLE,prefixes:P.SHORT,value:1,offset:0},radian:{name:"radian",base:I.ANGLE,prefixes:P.LONG,value:1,offset:0},deg:{name:"deg",base:I.ANGLE,prefixes:P.SHORT,value:null,offset:0},degree:{name:"degree",base:I.ANGLE,prefixes:P.LONG,value:null,offset:0},grad:{name:"grad",base:I.ANGLE,prefixes:P.SHORT,value:null,offset:0},gradian:{name:"gradian",base:I.ANGLE,prefixes:P.LONG,value:null,offset:0},cycle:{name:"cycle",base:I.ANGLE,prefixes:P.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:I.ANGLE,prefixes:P.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:I.ANGLE,prefixes:P.NONE,value:null,offset:0},A:{name:"A",base:I.CURRENT,prefixes:P.SHORT,value:1,offset:0},ampere:{name:"ampere",base:I.CURRENT,prefixes:P.LONG,value:1,offset:0},K:{name:"K",base:I.TEMPERATURE,prefixes:P.NONE,value:1,offset:0},degC:{name:"degC",base:I.TEMPERATURE,prefixes:P.NONE,value:1,offset:273.15},degF:{name:"degF",base:I.TEMPERATURE,prefixes:P.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:I.TEMPERATURE,prefixes:P.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:I.TEMPERATURE,prefixes:P.NONE,value:1,offset:0},celsius:{name:"celsius",base:I.TEMPERATURE,prefixes:P.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:I.TEMPERATURE,prefixes:P.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:I.TEMPERATURE,prefixes:P.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:I.AMOUNT_OF_SUBSTANCE,prefixes:P.SHORT,value:1,offset:0},mole:{name:"mole",base:I.AMOUNT_OF_SUBSTANCE,prefixes:P.LONG,value:1,offset:0},cd:{name:"cd",base:I.LUMINOUS_INTENSITY,prefixes:P.SHORT,value:1,offset:0},candela:{name:"candela",base:I.LUMINOUS_INTENSITY,prefixes:P.LONG,value:1,offset:0},N:{name:"N",base:I.FORCE,prefixes:P.SHORT,value:1,offset:0},newton:{name:"newton",base:I.FORCE,prefixes:P.LONG,value:1,offset:0},dyn:{name:"dyn",base:I.FORCE,prefixes:P.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:I.FORCE,prefixes:P.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:I.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:I.FORCE,prefixes:P.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:I.FORCE,prefixes:P.LONG,value:4448.2216,offset:0},J:{name:"J",base:I.ENERGY,prefixes:P.SHORT,value:1,offset:0},joule:{name:"joule",base:I.ENERGY,prefixes:P.SHORT,value:1,offset:0},erg:{name:"erg",base:I.ENERGY,prefixes:P.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:I.ENERGY,prefixes:P.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:I.ENERGY,prefixes:P.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:I.ENERGY,prefixes:P.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:I.ENERGY,prefixes:P.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:I.POWER,prefixes:P.SHORT,value:1,offset:0},watt:{name:"watt",base:I.POWER,prefixes:P.LONG,value:1,offset:0},hp:{name:"hp",base:I.POWER,prefixes:P.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:I.POWER,prefixes:P.SHORT,value:g.I,offset:0},VA:{name:"VA",base:I.POWER,prefixes:P.SHORT,value:1,offset:0},Pa:{name:"Pa",base:I.PRESSURE,prefixes:P.SHORT,value:1,offset:0},psi:{name:"psi",base:I.PRESSURE,prefixes:P.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:I.PRESSURE,prefixes:P.NONE,value:101325,offset:0},bar:{name:"bar",base:I.PRESSURE,prefixes:P.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:I.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:I.PRESSURE,prefixes:P.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:I.PRESSURE,prefixes:P.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:I.PRESSURE,prefixes:P.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:I.ELECTRIC_CHARGE,prefixes:P.LONG,value:1,offset:0},C:{name:"C",base:I.ELECTRIC_CHARGE,prefixes:P.SHORT,value:1,offset:0},farad:{name:"farad",base:I.ELECTRIC_CAPACITANCE,prefixes:P.LONG,value:1,offset:0},F:{name:"F",base:I.ELECTRIC_CAPACITANCE,prefixes:P.SHORT,value:1,offset:0},volt:{name:"volt",base:I.ELECTRIC_POTENTIAL,prefixes:P.LONG,value:1,offset:0},V:{name:"V",base:I.ELECTRIC_POTENTIAL,prefixes:P.SHORT,value:1,offset:0},ohm:{name:"ohm",base:I.ELECTRIC_RESISTANCE,prefixes:P.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:I.ELECTRIC_INDUCTANCE,prefixes:P.LONG,value:1,offset:0},H:{name:"H",base:I.ELECTRIC_INDUCTANCE,prefixes:P.SHORT,value:1,offset:0},siemens:{name:"siemens",base:I.ELECTRIC_CONDUCTANCE,prefixes:P.LONG,value:1,offset:0},S:{name:"S",base:I.ELECTRIC_CONDUCTANCE,prefixes:P.SHORT,value:1,offset:0},weber:{name:"weber",base:I.MAGNETIC_FLUX,prefixes:P.LONG,value:1,offset:0},Wb:{name:"Wb",base:I.MAGNETIC_FLUX,prefixes:P.SHORT,value:1,offset:0},tesla:{name:"tesla",base:I.MAGNETIC_FLUX_DENSITY,prefixes:P.LONG,value:1,offset:0},T:{name:"T",base:I.MAGNETIC_FLUX_DENSITY,prefixes:P.SHORT,value:1,offset:0},b:{name:"b",base:I.BIT,prefixes:P.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:I.BIT,prefixes:P.BINARY_LONG,value:1,offset:0},B:{name:"B",base:I.BIT,prefixes:P.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:I.BIT,prefixes:P.BINARY_LONG,value:8,offset:0}},j={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function q(e){if("BigNumber"===e.number){var t=createBigNumberPi(y);R.rad.value=new y(1),R.deg.value=t.div(180),R.grad.value=t.div(200),R.cycle.value=t.times(2),R.arcsec.value=t.div(648e3),R.arcmin.value=t.div(10800)}else R.rad.value=1,R.deg.value=Math.PI/180,R.grad.value=Math.PI/200,R.cycle.value=2*Math.PI,R.arcsec.value=Math.PI/648e3,R.arcmin.value=Math.PI/10800;R.radian.value=R.rad.value,R.degree.value=R.deg.value,R.gradian.value=R.grad.value}q(i),a&&a("config",(function(e,t){e.number!==t.number&&q(e)}));var B={si:{NONE:{unit:k,prefix:P.NONE[""]},LENGTH:{unit:R.m,prefix:P.SHORT[""]},MASS:{unit:R.g,prefix:P.SHORT.k},TIME:{unit:R.s,prefix:P.SHORT[""]},CURRENT:{unit:R.A,prefix:P.SHORT[""]},TEMPERATURE:{unit:R.K,prefix:P.SHORT[""]},LUMINOUS_INTENSITY:{unit:R.cd,prefix:P.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:R.mol,prefix:P.SHORT[""]},ANGLE:{unit:R.rad,prefix:P.SHORT[""]},BIT:{unit:R.bits,prefix:P.SHORT[""]},FORCE:{unit:R.N,prefix:P.SHORT[""]},ENERGY:{unit:R.J,prefix:P.SHORT[""]},POWER:{unit:R.W,prefix:P.SHORT[""]},PRESSURE:{unit:R.Pa,prefix:P.SHORT[""]},ELECTRIC_CHARGE:{unit:R.C,prefix:P.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:R.F,prefix:P.SHORT[""]},ELECTRIC_POTENTIAL:{unit:R.V,prefix:P.SHORT[""]},ELECTRIC_RESISTANCE:{unit:R.ohm,prefix:P.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:R.H,prefix:P.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:R.S,prefix:P.SHORT[""]},MAGNETIC_FLUX:{unit:R.Wb,prefix:P.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:R.T,prefix:P.SHORT[""]},FREQUENCY:{unit:R.Hz,prefix:P.SHORT[""]}}};B.cgs=JSON.parse(JSON.stringify(B.si)),B.cgs.LENGTH={unit:R.m,prefix:P.SHORT.c},B.cgs.MASS={unit:R.g,prefix:P.SHORT[""]},B.cgs.FORCE={unit:R.dyn,prefix:P.SHORT[""]},B.cgs.ENERGY={unit:R.erg,prefix:P.NONE[""]},B.us=JSON.parse(JSON.stringify(B.si)),B.us.LENGTH={unit:R.ft,prefix:P.NONE[""]},B.us.MASS={unit:R.lbm,prefix:P.NONE[""]},B.us.TEMPERATURE={unit:R.degF,prefix:P.NONE[""]},B.us.FORCE={unit:R.lbf,prefix:P.NONE[""]},B.us.ENERGY={unit:R.BTU,prefix:P.BTU[""]},B.us.POWER={unit:R.hp,prefix:P.NONE[""]},B.us.PRESSURE={unit:R.psi,prefix:P.NONE[""]},B.auto=JSON.parse(JSON.stringify(B.si));var L=B.auto;for(var V in x.setUnitSystem=function(e){if(!hasOwnProperty(B,e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(B).join(", "));L=B[e]},x.getUnitSystem=function(){for(var e in B)if(hasOwnProperty(B,e)&&B[e]===L)return e},x.typeConverters={BigNumber:function(e){return new y(e+"")},Fraction:function(e){return new b(e)},Complex:function(e){return e},number:function(e){return e}},x._getNumberConverter=function(e){if(!x.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return x.typeConverters[e]},R)if(hasOwnProperty(R,V)){var z=R[V];z.dimensions=z.base.dimensions}for(var U in j)if(hasOwnProperty(j,U)){var G=R[j[U]],H={};for(var W in G)hasOwnProperty(G,W)&&(H[W]=G[W]);H.name=U,R[U]=H}return x.createUnit=function(e,t){if("object"!==_typeof$6(e))throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override)for(var r in e)if(hasOwnProperty(e,r)&&x.deleteUnit(r),e[r].aliases)for(var n=0;n<e[r].aliases.length;n++)x.deleteUnit(e[r].aliases[n]);var a;for(var i in e)hasOwnProperty(e,i)&&(a=x.createUnitSingle(i,e[i]));return a},x.createUnitSingle=function(e,t,r){if(null==t&&(t={}),"string"!=typeof e)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(hasOwnProperty(R,e))throw new Error('Cannot create unit "'+e+'": a unit with that name already exists');!function(e){for(var t=0;t<e.length;t++){var r=e.charAt(t),n=function(e){return/^[a-zA-Z]$/.test(e)};if(0===t&&!n(r))throw new Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(t>0&&!n(r)&&!function(e){return e>="0"&&e<="9"}(r))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}}(e);var n,a,i,o=null,s=[],u=0;if(t&&"Unit"===t.type)o=t.clone();else if("string"==typeof t)""!==t&&(n=t);else{if("object"!==_typeof$6(t))throw new TypeError('Cannot create unit "'+e+'" from "'+t.toString()+'": expecting "string" or "Unit" or "Object"');n=t.definition,a=t.prefixes,u=t.offset,i=t.baseName,t.aliases&&(s=t.aliases.valueOf())}if(s)for(var c=0;c<s.length;c++)if(hasOwnProperty(R,s[c]))throw new Error('Cannot create alias "'+s[c]+'": a unit with that name already exists');if(n&&"string"==typeof n&&!o)try{o=x.parse(n,{allowNoUnits:!0})}catch(t){throw t.message='Could not create unit "'+e+'" from "'+n+'": '+t.message,t}else n&&"Unit"===n.type&&(o=n.clone());s=s||[],u=u||0,a=a&&a.toUpperCase&&P[a.toUpperCase()]||P.NONE;var l={};if(o){l={name:e,value:o.value,dimensions:o.dimensions.slice(0),prefixes:a,offset:u};var p=!1;for(var d in I)if(hasOwnProperty(I,d)){for(var f=!0,m=0;m<D.length;m++)if(Math.abs((l.dimensions[m]||0)-(I[d].dimensions[m]||0))>1e-12){f=!1;break}if(f){p=!0,l.base=I[d];break}}if(!p){i=i||e+"_STUFF";var h={dimensions:o.dimensions.slice(0)};h.key=i,I[i]=h,L[i]={unit:l,prefix:P.NONE[""]},l.base=I[i]}}else{if(i=i||e+"_STUFF",D.indexOf(i)>=0)throw new Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');for(var _ in D.push(i),I)hasOwnProperty(I,_)&&(I[_].dimensions[D.length-1]=0);for(var v={dimensions:[]},g=0;g<D.length;g++)v.dimensions[g]=0;v.dimensions[D.length-1]=1,v.key=i,I[i]=v,l={name:e,value:1,dimensions:I[i].dimensions.slice(0),prefixes:a,offset:u,base:I[i]},L[i]={unit:l,prefix:P.NONE[""]}}x.UNITS[e]=l;for(var y=0;y<s.length;y++){var b=s[y],$={};for(var w in l)hasOwnProperty(l,w)&&($[w]=l[w]);$.name=b,x.UNITS[b]=$}return new x(null,e)},x.deleteUnit=function(e){delete x.UNITS[e]},x.PREFIXES=P,x.BASE_DIMENSIONS=D,x.BASE_UNITS=I,x.UNIT_SYSTEMS=B,x.UNITS=R,x}),{isClass:!0}),name$2g="unit",dependencies$2i=["typed","Unit"],createUnitFunction=factory(name$2g,dependencies$2i,(function(e){var t=e.typed,r=e.Unit;return t(name$2g,{Unit:function(e){return e.clone()},string:function(e){return r.isValuelessUnit(e)?new r(null,e):r.parse(e,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(e,t){return new r(e,t)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2h="sparse",dependencies$2j=["typed","SparseMatrix"],createSparse=factory(name$2h,dependencies$2j,(function(e){var t=e.typed,r=e.SparseMatrix;return t(name$2h,{"":function(){return new r([])},string:function(e){return new r([],e)},"Array | Matrix":function(e){return new r(e)},"Array | Matrix, string":function(e,t){return new r(e,t)}})})),name$2i="createUnit",dependencies$2k=["typed","Unit"],createCreateUnit=factory(name$2i,dependencies$2k,(function(e){var t=e.typed,r=e.Unit;return t(name$2i,{"Object, Object":function(e,t){return r.createUnit(e,t)},Object:function(e){return r.createUnit(e,{})},"string, Unit | string | Object, Object":function(e,t,n){var a={};return a[e]=t,r.createUnit(a,n)},"string, Unit | string | Object":function(e,t){var n={};return n[e]=t,r.createUnit(n,{})},string:function(e){var t={};return t[e]={},r.createUnit(t,{})}})})),name$2j="acos",dependencies$2l=["typed","config","Complex"],createAcos=factory(name$2j,dependencies$2l,(function(e){var t=e.typed,r=e.config,n=e.Complex;return t(name$2j,{number:function(e){return e>=-1&&e<=1||r.predictable?Math.acos(e):new n(e,0).acos()},Complex:function(e){return e.acos()},BigNumber:function(e){return e.acos()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2k="acosh",dependencies$2m=["typed","config","Complex"],createAcosh=factory(name$2k,dependencies$2m,(function(e){var t=e.typed,r=e.config,n=e.Complex;return t(name$2k,{number:function(e){return e>=1||r.predictable?acoshNumber(e):e<=-1?new n(Math.log(Math.sqrt(e*e-1)-e),Math.PI):new n(e,0).acosh()},Complex:function(e){return e.acosh()},BigNumber:function(e){return e.acosh()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2l="acot",dependencies$2n=["typed","BigNumber"],createAcot=factory(name$2l,dependencies$2n,(function(e){var t=e.typed,r=e.BigNumber;return t(name$2l,{number:acotNumber,Complex:function(e){return e.acot()},BigNumber:function(e){return new r(1).div(e).atan()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2m="acoth",dependencies$2o=["typed","config","Complex","BigNumber"],createAcoth=factory(name$2m,dependencies$2o,(function(e){var t=e.typed,r=e.config,n=e.Complex,a=e.BigNumber;return t(name$2m,{number:function(e){return e>=1||e<=-1||r.predictable?acothNumber(e):new n(e,0).acoth()},Complex:function(e){return e.acoth()},BigNumber:function(e){return new a(1).div(e).atanh()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2n="acsc",dependencies$2p=["typed","config","Complex","BigNumber"],createAcsc=factory(name$2n,dependencies$2p,(function(e){var t=e.typed,r=e.config,n=e.Complex,a=e.BigNumber;return t(name$2n,{number:function(e){return e<=-1||e>=1||r.predictable?acscNumber(e):new n(e,0).acsc()},Complex:function(e){return e.acsc()},BigNumber:function(e){return new a(1).div(e).asin()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2o="acsch",dependencies$2q=["typed","BigNumber"],createAcsch=factory(name$2o,dependencies$2q,(function(e){var t=e.typed,r=e.BigNumber;return t(name$2o,{number:acschNumber,Complex:function(e){return e.acsch()},BigNumber:function(e){return new r(1).div(e).asinh()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2p="asec",dependencies$2r=["typed","config","Complex","BigNumber"],createAsec=factory(name$2p,dependencies$2r,(function(e){var t=e.typed,r=e.config,n=e.Complex,a=e.BigNumber;return t(name$2p,{number:function(e){return e<=-1||e>=1||r.predictable?asecNumber(e):new n(e,0).asec()},Complex:function(e){return e.asec()},BigNumber:function(e){return new a(1).div(e).acos()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2q="asech",dependencies$2s=["typed","config","Complex","BigNumber"],createAsech=factory(name$2q,dependencies$2s,(function(e){var t=e.typed,r=e.config,n=e.Complex,a=e.BigNumber;return t(name$2q,{number:function(e){if(e<=1&&e>=-1||r.predictable){var t=1/e;if(t>0||r.predictable)return asechNumber(e);var a=Math.sqrt(t*t-1);return new n(Math.log(a-t),Math.PI)}return new n(e,0).asech()},Complex:function(e){return e.asech()},BigNumber:function(e){return new a(1).div(e).acosh()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2r="asin",dependencies$2t=["typed","config","Complex"],createAsin=factory(name$2r,dependencies$2t,(function(e){var t=e.typed,r=e.config,n=e.Complex;return t(name$2r,{number:function(e){return e>=-1&&e<=1||r.predictable?Math.asin(e):new n(e,0).asin()},Complex:function(e){return e.asin()},BigNumber:function(e){return e.asin()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2s="asinh",dependencies$2u=["typed"],createAsinh=factory(name$2s,dependencies$2u,(function(e){return(0,e.typed)("asinh",{number:asinhNumber,Complex:function(e){return e.asinh()},BigNumber:function(e){return e.asinh()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2t="atan",dependencies$2v=["typed"],createAtan=factory(name$2t,dependencies$2v,(function(e){return(0,e.typed)("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2u="atan2",dependencies$2w=["typed","matrix","equalScalar","BigNumber","DenseMatrix"],createAtan2=factory(name$2u,dependencies$2w,(function(e){var t=e.typed,r=e.matrix,n=e.equalScalar,a=e.BigNumber,i=e.DenseMatrix,o=createAlgorithm02({typed:t,equalScalar:n}),s=createAlgorithm03({typed:t}),u=createAlgorithm09({typed:t,equalScalar:n}),c=createAlgorithm11({typed:t,equalScalar:n}),l=createAlgorithm12({typed:t,DenseMatrix:i}),p=createAlgorithm13({typed:t}),d=createAlgorithm14({typed:t});return t(name$2u,{"number, number":Math.atan2,"BigNumber, BigNumber":function(e,t){return a.atan2(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,this,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,this,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,this,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,this)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"SparseMatrix, number | BigNumber":function(e,t){return c(e,t,this,!1)},"DenseMatrix, number | BigNumber":function(e,t){return d(e,t,this,!1)},"number | BigNumber, SparseMatrix":function(e,t){return l(t,e,this,!0)},"number | BigNumber, DenseMatrix":function(e,t){return d(t,e,this,!0)},"Array, number | BigNumber":function(e,t){return d(r(e),t,this,!1).valueOf()},"number | BigNumber, Array":function(e,t){return d(r(t),e,this,!0).valueOf()}})})),name$2v="atanh",dependencies$2x=["typed","config","Complex"],createAtanh=factory(name$2v,dependencies$2x,(function(e){var t=e.typed,r=e.config,n=e.Complex;return t(name$2v,{number:function(e){return e<=1&&e>=-1||r.predictable?atanhNumber(e):new n(e,0).atanh()},Complex:function(e){return e.atanh()},BigNumber:function(e){return e.atanh()},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2w="cos",dependencies$2y=["typed"],createCos=factory(name$2w,dependencies$2y,(function(e){return(0,e.typed)(name$2w,{number:Math.cos,Complex:function(e){return e.cos()},BigNumber:function(e){return e.cos()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return this(e.value)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2x="cosh",dependencies$2z=["typed"],createCosh=factory(name$2x,dependencies$2z,(function(e){return(0,e.typed)(name$2x,{number:cosh,Complex:function(e){return e.cosh()},BigNumber:function(e){return e.cosh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return this(e.value)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2y="cot",dependencies$2A=["typed","BigNumber"],createCot=factory(name$2y,dependencies$2A,(function(e){var t=e.typed,r=e.BigNumber;return t(name$2y,{number:cotNumber,Complex:function(e){return e.cot()},BigNumber:function(e){return new r(1).div(e.tan())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return this(e.value)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2z="coth",dependencies$2B=["typed","BigNumber"],createCoth=factory(name$2z,dependencies$2B,(function(e){var t=e.typed,r=e.BigNumber;return t(name$2z,{number:cothNumber,Complex:function(e){return e.coth()},BigNumber:function(e){return new r(1).div(e.tanh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return this(e.value)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2A="csc",dependencies$2C=["typed","BigNumber"],createCsc=factory(name$2A,dependencies$2C,(function(e){var t=e.typed,r=e.BigNumber;return t(name$2A,{number:cscNumber,Complex:function(e){return e.csc()},BigNumber:function(e){return new r(1).div(e.sin())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return this(e.value)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2B="csch",dependencies$2D=["typed","BigNumber"],createCsch=factory(name$2B,dependencies$2D,(function(e){var t=e.typed,r=e.BigNumber;return t(name$2B,{number:cschNumber,Complex:function(e){return e.csch()},BigNumber:function(e){return new r(1).div(e.sinh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return this(e.value)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2C="sec",dependencies$2E=["typed","BigNumber"],createSec=factory(name$2C,dependencies$2E,(function(e){var t=e.typed,r=e.BigNumber;return t(name$2C,{number:secNumber,Complex:function(e){return e.sec()},BigNumber:function(e){return new r(1).div(e.cos())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return this(e.value)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2D="sech",dependencies$2F=["typed","BigNumber"],createSech=factory(name$2D,dependencies$2F,(function(e){var t=e.typed,r=e.BigNumber;return t(name$2D,{number:sechNumber,Complex:function(e){return e.sech()},BigNumber:function(e){return new r(1).div(e.cosh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return this(e.value)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2E="sin",dependencies$2G=["typed"],createSin=factory(name$2E,dependencies$2G,(function(e){return(0,e.typed)(name$2E,{number:Math.sin,Complex:function(e){return e.sin()},BigNumber:function(e){return e.sin()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return this(e.value)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2F="sinh",dependencies$2H=["typed"],createSinh=factory(name$2F,dependencies$2H,(function(e){return(0,e.typed)(name$2F,{number:sinhNumber,Complex:function(e){return e.sinh()},BigNumber:function(e){return e.sinh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return this(e.value)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2G="tan",dependencies$2I=["typed"],createTan=factory(name$2G,dependencies$2I,(function(e){return(0,e.typed)(name$2G,{number:Math.tan,Complex:function(e){return e.tan()},BigNumber:function(e){return e.tan()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return this(e.value)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2H="tanh",dependencies$2J=["typed"],createTanh=factory(name$2H,dependencies$2J,(function(e){return(0,e.typed)("tanh",{number:tanh,Complex:function(e){return e.tanh()},BigNumber:function(e){return e.tanh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return this(e.value)},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$2I="setCartesian",dependencies$2K=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetCartesian=factory(name$2I,dependencies$2K,(function(e){var t=e.typed,r=e.size,n=e.subset,a=e.compareNatural,i=e.Index,o=e.DenseMatrix;return t(name$2I,{"Array | Matrix, Array | Matrix":function(e,t){var s=[];if(0!==n(r(e),new i(0))&&0!==n(r(t),new i(0))){var u=flatten(Array.isArray(e)?e:e.toArray()).sort(a),c=flatten(Array.isArray(t)?t:t.toArray()).sort(a);s=[];for(var l=0;l<u.length;l++)for(var p=0;p<c.length;p++)s.push([u[l],c[p]])}return Array.isArray(e)&&Array.isArray(t)?s:new o(s)}})})),name$2J="setDifference",dependencies$2L=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetDifference=factory(name$2J,dependencies$2L,(function(e){var t=e.typed,r=e.size,n=e.subset,a=e.compareNatural,i=e.Index,o=e.DenseMatrix;return t(name$2J,{"Array | Matrix, Array | Matrix":function(e,t){var s;if(0===n(r(e),new i(0)))s=[];else{if(0===n(r(t),new i(0)))return flatten(e.toArray());var u,c=identify(flatten(Array.isArray(e)?e:e.toArray()).sort(a)),l=identify(flatten(Array.isArray(t)?t:t.toArray()).sort(a));s=[];for(var p=0;p<c.length;p++){u=!1;for(var d=0;d<l.length;d++)if(0===a(c[p].value,l[d].value)&&c[p].identifier===l[d].identifier){u=!0;break}u||s.push(c[p])}}return Array.isArray(e)&&Array.isArray(t)?generalize(s):new o(generalize(s))}})})),name$2K="setDistinct",dependencies$2M=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetDistinct=factory(name$2K,dependencies$2M,(function(e){var t=e.typed,r=e.size,n=e.subset,a=e.compareNatural,i=e.Index,o=e.DenseMatrix;return t(name$2K,{"Array | Matrix":function(e){var t;if(0===n(r(e),new i(0)))t=[];else{var s=flatten(Array.isArray(e)?e:e.toArray()).sort(a);(t=[]).push(s[0]);for(var u=1;u<s.length;u++)0!==a(s[u],s[u-1])&&t.push(s[u])}return Array.isArray(e)?t:new o(t)}})})),name$2L="setIntersect",dependencies$2N=["typed","size","subset","compareNatural","Index","DenseMatrix"],createSetIntersect=factory(name$2L,dependencies$2N,(function(e){var t=e.typed,r=e.size,n=e.subset,a=e.compareNatural,i=e.Index,o=e.DenseMatrix;return t(name$2L,{"Array | Matrix, Array | Matrix":function(e,t){var s;if(0===n(r(e),new i(0))||0===n(r(t),new i(0)))s=[];else{var u=identify(flatten(Array.isArray(e)?e:e.toArray()).sort(a)),c=identify(flatten(Array.isArray(t)?t:t.toArray()).sort(a));s=[];for(var l=0;l<u.length;l++)for(var p=0;p<c.length;p++)if(0===a(u[l].value,c[p].value)&&u[l].identifier===c[p].identifier){s.push(u[l]);break}}return Array.isArray(e)&&Array.isArray(t)?generalize(s):new o(generalize(s))}})})),name$2M="setIsSubset",dependencies$2O=["typed","size","subset","compareNatural","Index"],createSetIsSubset=factory(name$2M,dependencies$2O,(function(e){var t=e.typed,r=e.size,n=e.subset,a=e.compareNatural,i=e.Index;return t(name$2M,{"Array | Matrix, Array | Matrix":function(e,t){if(0===n(r(e),new i(0)))return!0;if(0===n(r(t),new i(0)))return!1;for(var o,s=identify(flatten(Array.isArray(e)?e:e.toArray()).sort(a)),u=identify(flatten(Array.isArray(t)?t:t.toArray()).sort(a)),c=0;c<s.length;c++){o=!1;for(var l=0;l<u.length;l++)if(0===a(s[c].value,u[l].value)&&s[c].identifier===u[l].identifier){o=!0;break}if(!1===o)return!1}return!0}})})),name$2N="setMultiplicity",dependencies$2P=["typed","size","subset","compareNatural","Index"],createSetMultiplicity=factory(name$2N,dependencies$2P,(function(e){var t=e.typed,r=e.size,n=e.subset,a=e.compareNatural,i=e.Index;return t(name$2N,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(e,t){if(0===n(r(t),new i(0)))return 0;for(var o=flatten(Array.isArray(t)?t:t.toArray()),s=0,u=0;u<o.length;u++)0===a(o[u],e)&&s++;return s}})})),name$2O="setPowerset",dependencies$2Q=["typed","size","subset","compareNatural","Index"],createSetPowerset=factory(name$2O,dependencies$2Q,(function(e){var t=e.typed,r=e.size,n=e.subset,a=e.compareNatural,i=e.Index;return t(name$2O,{"Array | Matrix":function(e){if(0===n(r(e),new i(0)))return[];for(var t=flatten(Array.isArray(e)?e:e.toArray()).sort(a),s=[],u=0;u.toString(2).length<=t.length;)s.push(o(t,u.toString(2).split("").reverse())),u++;return function(e){for(var t=[],r=e.length-1;r>0;r--)for(var n=0;n<r;n++)e[n].length>e[n+1].length&&(t=e[n],e[n]=e[n+1],e[n+1]=t);return e}(s)}});function o(e,t){for(var r=[],n=0;n<t.length;n++)"1"===t[n]&&r.push(e[n]);return r}})),name$2P="setSize",dependencies$2R=["typed","compareNatural"],createSetSize=factory(name$2P,dependencies$2R,(function(e){var t=e.typed,r=e.compareNatural;return t(name$2P,{"Array | Matrix":function(e){return Array.isArray(e)?flatten(e).length:flatten(e.toArray()).length},"Array | Matrix, boolean":function(e,t){if(!1===t||0===e.length)return Array.isArray(e)?flatten(e).length:flatten(e.toArray()).length;for(var n=flatten(Array.isArray(e)?e:e.toArray()).sort(r),a=1,i=1;i<n.length;i++)0!==r(n[i],n[i-1])&&a++;return a}})})),name$2Q="setSymDifference",dependencies$2S=["typed","size","concat","subset","setDifference","Index"],createSetSymDifference=factory(name$2Q,dependencies$2S,(function(e){var t=e.typed,r=e.size,n=e.concat,a=e.subset,i=e.setDifference,o=e.Index;return t(name$2Q,{"Array | Matrix, Array | Matrix":function(e,t){if(0===a(r(e),new o(0)))return flatten(t);if(0===a(r(t),new o(0)))return flatten(e);var s=flatten(e),u=flatten(t);return n(i(s,u),i(u,s))}})})),name$2R="setUnion",dependencies$2T=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],createSetUnion=factory(name$2R,dependencies$2T,(function(e){var t=e.typed,r=e.size,n=e.concat,a=e.subset,i=e.setIntersect,o=e.setSymDifference,s=e.Index;return t(name$2R,{"Array | Matrix, Array | Matrix":function(e,t){if(0===a(r(e),new s(0)))return flatten(t);if(0===a(r(t),new s(0)))return flatten(e);var u=flatten(e),c=flatten(t);return n(o(u,c),i(u,c))}})})),name$2S="add",dependencies$2U=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],createAdd=factory(name$2S,dependencies$2U,(function(e){var t=e.typed,r=e.matrix,n=e.addScalar,a=e.equalScalar,i=e.DenseMatrix,o=(e.SparseMatrix,createAlgorithm01({typed:t})),s=createAlgorithm04({typed:t,equalScalar:a}),u=createAlgorithm10({typed:t,DenseMatrix:i}),c=createAlgorithm13({typed:t}),l=createAlgorithm14({typed:t});return t(name$2S,extend({"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,n)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,n,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,n,!0)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,n)},"Array, Array":function(e,t){return this(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return this(r(e),t)},"Matrix, Array":function(e,t){return this(e,r(t))},"DenseMatrix, any":function(e,t){return l(e,t,n,!1)},"SparseMatrix, any":function(e,t){return u(e,t,n,!1)},"any, DenseMatrix":function(e,t){return l(t,e,n,!0)},"any, SparseMatrix":function(e,t){return u(t,e,n,!0)},"Array, any":function(e,t){return l(r(e),t,n,!1).valueOf()},"any, Array":function(e,t){return l(r(t),e,n,!0).valueOf()},"any, any":n,"any, any, ...any":function(e,t,r){for(var n=this(e,t),a=0;a<r.length;a++)n=this(n,r[a]);return n}},n.signatures))})),name$2T="hypot",dependencies$2V=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],createHypot=factory(name$2T,dependencies$2V,(function(e){var t=e.typed,r=e.abs,n=e.addScalar,a=e.divideScalar,i=e.multiplyScalar,o=e.sqrt,s=e.smaller,u=e.isPositive;return t(name$2T,{"... number | BigNumber":function(e){for(var t=0,c=0,l=0;l<e.length;l++){var p=r(e[l]);s(c,p)?(t=i(t,i(a(c,p),a(c,p))),t=n(t,1),c=p):t=n(t,u(p)?i(a(p,c),a(p,c)):p)}return i(c,o(t))},Array:function(e){return this.apply(this,flatten(e))},Matrix:function(e){return this.apply(this,flatten(e.toArray()))}})})),name$2U="norm",dependencies$2W=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],createNorm=factory(name$2U,dependencies$2W,(function(e){var t=e.typed,r=e.abs,n=e.add,a=e.pow,i=e.conj,o=e.sqrt,s=e.multiply,u=e.equalScalar,c=e.larger,l=e.smaller,p=e.matrix,d=e.ctranspose,f=e.eigs;return t(name$2U,{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},boolean:function(e){return Math.abs(e)},Array:function(e){return _(p(e),2)},Matrix:function(e){return _(e,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(e){return this(e)},"Array, number | BigNumber | string":function(e,t){return _(p(e),t)},"Matrix, number | BigNumber | string":function(e,t){return _(e,t)}});function m(e,t){if(t===Number.POSITIVE_INFINITY||"inf"===t)return function(e){var t=0;return e.forEach((function(e){var n=r(e);c(n,t)&&(t=n)}),!0),t}(e);if(t===Number.NEGATIVE_INFINITY||"-inf"===t)return function(e){var t;return e.forEach((function(e){var n=r(e);t&&!l(n,t)||(t=n)}),!0),t||0}(e);if("fro"===t)return _(e,2);if("number"==typeof t&&!isNaN(t)){if(!u(t,0)){var i=0;return e.forEach((function(e){i=n(a(r(e),t),i)}),!0),a(i,1/t)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function h(e,t){if(1===t)return function(e){var t=[],a=0;return e.forEach((function(e,i){var o=i[1],s=n(t[o]||0,r(e));c(s,a)&&(a=s),t[o]=s}),!0),a}(e);if(t===Number.POSITIVE_INFINITY||"inf"===t)return function(e){var t=[],a=0;return e.forEach((function(e,i){var o=i[0],s=n(t[o]||0,r(e));c(s,a)&&(a=s),t[o]=s}),!0),a}(e);if("fro"===t)return function(e){var t=0;return e.forEach((function(e,r){t=n(t,s(e,i(e)))})),r(o(t))}(e);if(2===t)return function(e){var t=e.size();if(t[0]!==t[1])throw new RangeError("Invalid matrix dimensions");var n=d(e),a=s(n,e),i=f(a).values,u=i.get([i.size()[0]-1]);return r(o(u))}(e);throw new Error("Unsupported parameter value "+t)}function _(e,t){var r=e.size();if(1===r.length)return m(e,t);if(2===r.length){if(r[0]&&r[1])return h(e,t);throw new RangeError("Invalid matrix dimensions")}}})),name$2V="dot",dependencies$2X=["typed","addScalar","multiplyScalar","conj","size"],createDot=factory(name$2V,dependencies$2X,(function(e){var t=e.typed,r=e.addScalar,n=e.multiplyScalar,a=e.conj,i=e.size;return t(name$2V,{"Array | DenseMatrix, Array | DenseMatrix":function(e,i){var u=o(e,i),c=isMatrix(e)?e._data:e,l=isMatrix(e)?e._datatype:void 0,p=isMatrix(i)?i._data:i,d=isMatrix(i)?i._datatype:void 0,f=2===s(e).length,m=2===s(i).length,h=r,_=n;if(l&&d&&l===d&&"string"==typeof l){var v=l;h=t.find(r,[v,v]),_=t.find(n,[v,v])}if(!f&&!m){for(var g=_(a(c[0]),p[0]),y=1;y<u;y++)g=h(g,_(a(c[y]),p[y]));return g}if(!f&&m){for(var b=_(a(c[0]),p[0][0]),$=1;$<u;$++)b=h(b,_(a(c[$]),p[$][0]));return b}if(f&&!m){for(var x=_(a(c[0][0]),p[0]),w=1;w<u;w++)x=h(x,_(a(c[w][0]),p[w]));return x}if(f&&m){for(var S=_(a(c[0][0]),p[0][0]),N=1;N<u;N++)S=h(S,_(a(c[N][0]),p[N][0]));return S}},"SparseMatrix, SparseMatrix":function(e,t){o(e,t);var a=e._index,i=e._values,s=t._index,u=t._values,c=0,l=r,p=n,d=0,f=0;for(;d<a.length&&f<s.length;){var m=a[d],h=s[f];m<h?d++:m>h?f++:m===h&&(c=l(c,p(i[d],u[f])),d++,f++)}return c}});function o(e,t){var r,n,a=s(e),i=s(t);if(1===a.length)r=a[0];else{if(2!==a.length||1!==a[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+a.join(", ")+")");r=a[0]}if(1===i.length)n=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");n=i[0]}if(r!==n)throw new RangeError("Vectors must have equal length ("+r+" != "+n+")");if(0===r)throw new RangeError("Cannot calculate the dot product of empty vectors");return r}function s(e){return isMatrix(e)?e.size():i(e)}})),name$2W="trace",dependencies$2Y=["typed","matrix","add"],createTrace=factory(name$2W,dependencies$2Y,(function(e){var t=e.typed,r=e.matrix,n=e.add;return t("trace",{Array:function(e){return a(r(e))},SparseMatrix:function(e){var t=e._values,r=e._index,a=e._ptr,i=e._size,o=i[0],s=i[1];if(o===s){var u=0;if(t.length>0)for(var c=0;c<s;c++)for(var l=a[c],p=a[c+1],d=l;d<p;d++){var f=r[d];if(f===c){u=n(u,t[d]);break}if(f>c)break}return u}throw new RangeError("Matrix must be square (size: "+format$2(i)+")")},DenseMatrix:a,any:clone});function a(e){var t=e._size,r=e._data;switch(t.length){case 1:if(1===t[0])return clone(r[0]);throw new RangeError("Matrix must be square (size: "+format$2(t)+")");case 2:var a=t[0];if(a===t[1]){for(var i=0,o=0;o<a;o++)i=n(i,r[o][o]);return i}throw new RangeError("Matrix must be square (size: "+format$2(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+format$2(t)+")")}}})),name$2X="index",dependencies$2Z=["typed","Index"],createIndex=factory(name$2X,dependencies$2Z,(function(e){var t=e.typed,r=e.Index;return t(name$2X,{"...number | string | BigNumber | Range | Array | Matrix":function(e){var t=e.map((function(e){return isBigNumber(e)?e.toNumber():Array.isArray(e)||isMatrix(e)?e.map((function(e){return isBigNumber(e)?e.toNumber():e})):e})),n=new r;return r.apply(n,t),n}})})),keywords={end:!0};function _typeof$7(e){return(_typeof$7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var name$2Y="Node",dependencies$2_=["mathWithTransform"],createNode=factory(name$2Y,dependencies$2_,(function(e){var t=e.mathWithTransform;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.evaluate=function(e){return this.compile().evaluate(e)},r.prototype.type="Node",r.prototype.isNode=!0,r.prototype.comment="",r.prototype.compile=function(){var e=this._compile(t,{}),r={},n=null;return{evaluate:function(t){var a=t||{};return function(e){for(var t in e)if(hasOwnProperty(e,t)&&t in keywords)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}(a),e(a,r,n)}}},r.prototype._compile=function(e,t){throw new Error("Method _compile should be implemented by type "+this.type)},r.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},r.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},r.prototype._ifNode=function(e){if(!isNode(e))throw new TypeError("Callback function must return a Node");return e},r.prototype.traverse=function(e){e(this,null,null),function e(t,r){t.forEach((function(t,n,a){r(t,n,a),e(t,r)}))}(this,e)},r.prototype.transform=function(e){return function t(r,n,a){var i=e(r,n,a);return i!==r?i:r.map(t)}(this,null,null)},r.prototype.filter=function(e){var t=[];return this.traverse((function(r,n,a){e(r,n,a)&&t.push(r)})),t},r.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},r.prototype.cloneDeep=function(){return this.map((function(e){return e.cloneDeep()}))},r.prototype.equals=function(e){return!!e&&deepStrictEqual(this,e)},r.prototype.toString=function(e){var t;if(e&&"object"===_typeof$7(e))switch(_typeof$7(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toString(e)},r.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},r.prototype.toHTML=function(e){var t;if(e&&"object"===_typeof$7(e))switch(_typeof$7(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this.toHTML(e)},r.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},r.prototype.toTex=function(e){var t;if(e&&"object"===_typeof$7(e))switch(_typeof$7(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toTex(e)},r.prototype._toTex=function(e){throw new Error("_toTex not implemented for "+this.type)},r.prototype.getIdentifier=function(){return this.type},r.prototype.getContent=function(){return this},r}),{isClass:!0,isNode:!0});function errorTransform(e){return e&&e.isIndexError?new IndexError(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}function _typeof$8(e){return(_typeof$8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function accessFactory(e){var t=e.subset;return function(e,r){try{if(Array.isArray(e))return t(e,r);if(e&&"function"==typeof e.subset)return e.subset(r);if("string"==typeof e)return t(e,r);if("object"===_typeof$8(e)){if(!r.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return getSafeProperty(e,r.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(e){throw errorTransform(e)}}}var name$2Z="AccessorNode",dependencies$2$=["subset","Node"],createAccessorNode=factory(name$2Z,dependencies$2$,(function(e){var t=e.subset,r=e.Node,n=accessFactory({subset:t});function a(e,t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!isNode(e))throw new TypeError('Node expected for parameter "object"');if(!isIndexNode(t))throw new TypeError('IndexNode expected for parameter "index"');this.object=e||null,this.index=t,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function i(e){return!(isAccessorNode(e)||isArrayNode(e)||isConstantNode(e)||isFunctionNode(e)||isObjectNode(e)||isParenthesisNode(e)||isSymbolNode(e))}return a.prototype=new r,a.prototype.type="AccessorNode",a.prototype.isAccessorNode=!0,a.prototype._compile=function(e,t){var r=this.object._compile(e,t),a=this.index._compile(e,t);if(this.index.isObjectProperty()){var i=this.index.getObjectProperty();return function(e,t,n){return getSafeProperty(r(e,t,n),i)}}return function(e,t,i){var o=r(e,t,i),s=a(e,t,o);return n(o,s)}},a.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this)},a.prototype.map=function(e){return new a(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))},a.prototype.clone=function(){return new a(this.object,this.index)},a.prototype._toString=function(e){var t=this.object.toString(e);return i(this.object)&&(t="("+t+")"),t+this.index.toString(e)},a.prototype.toHTML=function(e){var t=this.object.toHTML(e);return i(this.object)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+this.index.toHTML(e)},a.prototype._toTex=function(e){var t=this.object.toTex(e);return i(this.object)&&(t="\\left(' + object + '\\right)"),t+this.index.toTex(e)},a.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},a.fromJSON=function(e){return new a(e.object,e.index)},a}),{isClass:!0,isNode:!0}),name$2_="ArrayNode",dependencies$30=["Node"],createArrayNode=factory(name$2_,dependencies$30,(function(e){var t=e.Node;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=e||[],!Array.isArray(this.items)||!this.items.every(isNode))throw new TypeError("Array containing Nodes expected")}return r.prototype=new t,r.prototype.type="ArrayNode",r.prototype.isArrayNode=!0,r.prototype._compile=function(e,t){var r=map(this.items,(function(r){return r._compile(e,t)}));if("Array"!==e.config.matrix){var n=e.matrix;return function(e,t,a){return n(map(r,(function(r){return r(e,t,a)})))}}return function(e,t,n){return map(r,(function(r){return r(e,t,n)}))}},r.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++){e(this.items[t],"items["+t+"]",this)}},r.prototype.map=function(e){for(var t=[],n=0;n<this.items.length;n++)t[n]=this._ifNode(e(this.items[n],"items["+n+"]",this));return new r(t)},r.prototype.clone=function(){return new r(this.items.slice(0))},r.prototype._toString=function(e){return"["+this.items.map((function(t){return t.toString(e)})).join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},r.fromJSON=function(e){return new r(e.items)},r.prototype.toHTML=function(e){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map((function(t){return t.toHTML(e)})).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},r.prototype._toTex=function(e){var t="\\begin{bmatrix}";return this.items.forEach((function(r){r.items?t+=r.items.map((function(t){return t.toTex(e)})).join("&"):t+=r.toTex(e),t+="\\\\"})),t+="\\end{bmatrix}"},r}),{isClass:!0,isNode:!0});function _typeof$9(e){return(_typeof$9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function assignFactory(e){var t=e.subset,r=e.matrix;return function(e,n,a){try{if(Array.isArray(e))return r(e).subset(n,a).valueOf();if(e&&"function"==typeof e.subset)return e.subset(n,a);if("string"==typeof e)return t(e,n,a);if("object"===_typeof$9(e)){if(!n.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return setSafeProperty(e,n.getObjectProperty(),a),e}throw new TypeError("Cannot apply index: unsupported type of object")}catch(e){throw errorTransform(e)}}}var properties=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function getPrecedence(e,t){var r=e;"keep"!==t&&(r=e.getContent());for(var n=r.getIdentifier(),a=0;a<properties.length;a++)if(n in properties[a])return a;return null}function getAssociativity(e,t){var r=e;"keep"!==t&&(r=e.getContent());var n=r.getIdentifier(),a=getPrecedence(r,t);if(null===a)return null;var i=properties[a][n];if(hasOwnProperty(i,"associativity")){if("left"===i.associativity)return"left";if("right"===i.associativity)return"right";throw Error("'"+n+"' has the invalid associativity '"+i.associativity+"'.")}return null}function isAssociativeWith(e,t,r){var n="keep"!==r?e.getContent():e,a="keep"!==r?e.getContent():t,i=n.getIdentifier(),o=a.getIdentifier(),s=getPrecedence(n,r);if(null===s)return null;var u=properties[s][i];if(hasOwnProperty(u,"associativeWith")&&u.associativeWith instanceof Array){for(var c=0;c<u.associativeWith.length;c++)if(u.associativeWith[c]===o)return!0;return!1}return null}var name$2$="AssignmentNode",dependencies$31=["subset","?matrix","Node"],createAssignmentNode=factory(name$2$,dependencies$31,(function(e){var t=e.subset,r=e.matrix,n=e.Node,a=accessFactory({subset:t}),i=assignFactory({subset:t,matrix:r});function o(e,t,r){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=e,this.index=r?t:null,this.value=r||t,!isSymbolNode(e)&&!isAccessorNode(e))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(isSymbolNode(e)&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!isIndexNode(this.index))throw new TypeError('IndexNode expected as "index"');if(!isNode(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function s(e,t){t||(t="keep");var r=getPrecedence(e,t),n=getPrecedence(e.value,t);return"all"===t||null!==n&&n<=r}return o.prototype=new n,o.prototype.type="AssignmentNode",o.prototype.isAssignmentNode=!0,o.prototype._compile=function(e,t){var r=this.object._compile(e,t),n=this.index?this.index._compile(e,t):null,o=this.value._compile(e,t),s=this.object.name;if(this.index){if(this.index.isObjectProperty()){var u=this.index.getObjectProperty();return function(e,t,n){var a=r(e,t,n),i=o(e,t,n);return setSafeProperty(a,u,i)}}if(isSymbolNode(this.object))return function(e,t,a){var u=r(e,t,a),c=o(e,t,a),l=n(e,t,u);return setSafeProperty(e,s,i(u,l,c)),c};var c=this.object.object._compile(e,t);if(this.object.index.isObjectProperty()){var l=this.object.index.getObjectProperty();return function(e,t,r){var a=c(e,t,r),s=getSafeProperty(a,l),u=n(e,t,s),p=o(e,t,r);return setSafeProperty(a,l,i(s,u,p)),p}}var p=this.object.index._compile(e,t);return function(e,t,r){var s=c(e,t,r),u=p(e,t,s),l=a(s,u),d=n(e,t,l),f=o(e,t,r);return i(s,u,i(l,d,f)),f}}if(!isSymbolNode(this.object))throw new TypeError("SymbolNode expected as object");return function(e,t,r){return setSafeProperty(e,s,o(e,t,r))}},o.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)},o.prototype.map=function(e){return new o(this._ifNode(e(this.object,"object",this)),this.index?this._ifNode(e(this.index,"index",this)):null,this._ifNode(e(this.value,"value",this)))},o.prototype.clone=function(){return new o(this.object,this.index,this.value)},o.prototype._toString=function(e){var t=this.object.toString(e),r=this.index?this.index.toString(e):"",n=this.value.toString(e);return s(this,e&&e.parenthesis)&&(n="("+n+")"),t+r+" = "+n},o.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},o.fromJSON=function(e){return new o(e.object,e.index,e.value)},o.prototype.toHTML=function(e){var t=this.object.toHTML(e),r=this.index?this.index.toHTML(e):"",n=this.value.toHTML(e);return s(this,e&&e.parenthesis)&&(n='<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>'),t+r+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+n},o.prototype._toTex=function(e){var t=this.object.toTex(e),r=this.index?this.index.toTex(e):"",n=this.value.toTex(e);return s(this,e&&e.parenthesis)&&(n="\\left(".concat(n,"\\right)")),t+r+":="+n},o}),{isClass:!0,isNode:!0}),name$30="BlockNode",dependencies$32=["ResultSet","Node"],createBlockNode=factory(name$30,dependencies$32,(function(e){var t=e.ResultSet,r=e.Node;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map((function(e){var t=e&&e.node,r=!e||void 0===e.visible||e.visible;if(!isNode(t))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof r)throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:r}}))}return n.prototype=new r,n.prototype.type="BlockNode",n.prototype.isBlockNode=!0,n.prototype._compile=function(e,r){var n=map(this.blocks,(function(t){return{evaluate:t.node._compile(e,r),visible:t.visible}}));return function(e,r,a){var i=[];return forEach(n,(function(t){var n=t.evaluate(e,r,a);t.visible&&i.push(n)})),new t(i)}},n.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},n.prototype.map=function(e){for(var t=[],r=0;r<this.blocks.length;r++){var a=this.blocks[r],i=this._ifNode(e(a.node,"blocks["+r+"].node",this));t[r]={node:i,visible:a.visible}}return new n(t)},n.prototype.clone=function(){return new n(this.blocks.map((function(e){return{node:e.node,visible:e.visible}})))},n.prototype._toString=function(e){return this.blocks.map((function(t){return t.node.toString(e)+(t.visible?"":";")})).join("\n")},n.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},n.fromJSON=function(e){return new n(e.blocks)},n.prototype.toHTML=function(e){return this.blocks.map((function(t){return t.node.toHTML(e)+(t.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},n.prototype._toTex=function(e){return this.blocks.map((function(t){return t.node.toTex(e)+(t.visible?"":";")})).join("\\;\\;\n")},n}),{isClass:!0,isNode:!0}),name$31="ConditionalNode",dependencies$33=["Node"],createConditionalNode=factory(name$31,dependencies$33,(function(e){var t=e.Node;function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!isNode(e))throw new TypeError("Parameter condition must be a Node");if(!isNode(t))throw new TypeError("Parameter trueExpr must be a Node");if(!isNode(n))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=t,this.falseExpr=n}return r.prototype=new t,r.prototype.type="ConditionalNode",r.prototype.isConditionalNode=!0,r.prototype._compile=function(e,t){var r=this.condition._compile(e,t),n=this.trueExpr._compile(e,t),a=this.falseExpr._compile(e,t);return function(e,t,i){return function(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return!!e;if(e){if(isBigNumber(e))return!e.isZero();if(isComplex(e))return!(!e.re&&!e.im);if(isUnit(e))return!!e.value}if(null==e)return!1;throw new TypeError('Unsupported type of condition "'+typeOf(e)+'"')}(r(e,t,i))?n(e,t,i):a(e,t,i)}},r.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},r.prototype.map=function(e){return new r(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},r.prototype.clone=function(){return new r(this.condition,this.trueExpr,this.falseExpr)},r.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=getPrecedence(this,t),n=this.condition.toString(e),a=getPrecedence(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==a&&a<=r)&&(n="("+n+")");var i=this.trueExpr.toString(e),o=getPrecedence(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==o&&o<=r)&&(i="("+i+")");var s=this.falseExpr.toString(e),u=getPrecedence(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(s="("+s+")"),n+" ? "+i+" : "+s},r.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},r.fromJSON=function(e){return new r(e.condition,e.trueExpr,e.falseExpr)},r.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=getPrecedence(this,t),n=this.condition.toHTML(e),a=getPrecedence(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==a&&a<=r)&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>');var i=this.trueExpr.toHTML(e),o=getPrecedence(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==o&&o<=r)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.falseExpr.toHTML(e),u=getPrecedence(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==u&&u<=r)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),n+'<span class="math-operator math-conditional-operator">?</span>'+i+'<span class="math-operator math-conditional-operator">:</span>'+s},r.prototype._toTex=function(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},r}),{isClass:!0,isNode:!0}),_extends$2=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},defaultEscapes={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},formatEscapes={"–":"\\--","—":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},defaultEscapeMapFn=function(e,t){return _extends$2({},e,t)},dist=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.preserveFormatting,n=void 0!==r&&r,a=t.escapeMapFn,i=void 0===a?defaultEscapeMapFn:a,o=String(e),s="",u=i(_extends$2({},defaultEscapes),n?_extends$2({},formatEscapes):{}),c=Object.keys(u),l=function(){var e=!1;c.forEach((function(t,r){e||o.length>=t.length&&o.slice(0,t.length)===t&&(s+=u[c[r]],o=o.slice(t.length,o.length),e=!0)})),e||(s+=o.slice(0,1),o=o.slice(1,o.length))};o;)l();return s},latexSymbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},latexOperators={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},latexFunctions={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(latexOperators.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(latexOperators.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(latexOperators.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(latexOperators.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(latexOperators.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(latexOperators.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(latexOperators.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(latexOperators.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(latexOperators.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(latexOperators.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(latexOperators.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(latexOperators.bitAnd,"${args[1]}\\right)")},bitNot:{1:latexOperators.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(latexOperators.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(latexOperators.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(latexOperators.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(latexOperators.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(latexOperators.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(latexOperators.and,"${args[1]}\\right)")},not:{1:latexOperators.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(latexOperators.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(latexOperators.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(latexOperators.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(latexOperators.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(latexOperators.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(latexOperators.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(latexOperators.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(latexOperators.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(latexOperators.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(latexOperators.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(latexOperators.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(latexOperators.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(latexOperators.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(latexSymbols.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)",latexUnits={deg:"^\\circ"};function escapeLatex(e){return dist(e,{preserveFormatting:!0})}function toSymbol(e,t){return(t=void 0!==t&&t)?hasOwnProperty(latexUnits,e)?latexUnits[e]:"\\mathrm{"+escapeLatex(e)+"}":hasOwnProperty(latexSymbols,e)?latexSymbols[e]:escapeLatex(e)}var name$32="ConstantNode",dependencies$34=["Node"],createConstantNode=factory(name$32,dependencies$34,(function(e){var t=e.Node;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.value=e}return r.prototype=new t,r.prototype.type="ConstantNode",r.prototype.isConstantNode=!0,r.prototype._compile=function(e,t){var r=this.value;return function(){return r}},r.prototype.forEach=function(e){},r.prototype.map=function(e){return this.clone()},r.prototype.clone=function(){return new r(this.value)},r.prototype._toString=function(e){return format$2(this.value,e)},r.prototype.toHTML=function(e){var t=this._toString(e);switch(typeOf(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>"}},r.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},r.fromJSON=function(e){return new r(e.value)},r.prototype._toTex=function(e){var t=this._toString(e);switch(typeOf(this.value)){case"string":return"\\mathtt{"+escapeLatex(t)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var r=t.toLowerCase().indexOf("e");return-1!==r?t.substring(0,r)+"\\cdot10^{"+t.substring(r+1)+"}":t;case"Fraction":return this.value.toLatex();default:return t}},r}),{isClass:!0,isNode:!0}),name$33="FunctionAssignmentNode",dependencies$35=["typed","Node"],createFunctionAssignmentNode=factory(name$33,dependencies$35,(function(e){var t=e.typed,r=e.Node;function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(t))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!isNode(r))throw new TypeError('Node expected for parameter "expr"');if(e in keywords)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=t.map((function(e){return e&&e.name||e})),this.types=t.map((function(e){return e&&e.type||"any"})),this.expr=r}function a(e,t){var r=getPrecedence(e,t),n=getPrecedence(e.expr,t);return"all"===t||null!==n&&n<=r}return n.prototype=new r,n.prototype.type="FunctionAssignmentNode",n.prototype.isFunctionAssignmentNode=!0,n.prototype._compile=function(e,r){var n=Object.create(r);forEach(this.params,(function(e){n[e]=!0}));var a=this.expr._compile(e,n),i=this.name,o=this.params,s=join(this.types,","),u=i+"("+join(this.params,", ")+")";return function(e,r,n){var c={};c[s]=function(){for(var t=Object.create(r),i=0;i<o.length;i++)t[o[i]]=arguments[i];return a(e,t,n)};var l=t(i,c);return l.syntax=u,setSafeProperty(e,i,l),l}},n.prototype.forEach=function(e){e(this.expr,"expr",this)},n.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new n(this.name,this.params.slice(0),t)},n.prototype.clone=function(){return new n(this.name,this.params.slice(0),this.expr)},n.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=this.expr.toString(e);return a(this,t)&&(r="("+r+")"),this.name+"("+this.params.join(", ")+") = "+r},n.prototype.toJSON=function(){var e=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map((function(t,r){return{name:t,type:e[r]}})),expr:this.expr}},n.fromJSON=function(e){return new n(e.name,e.params,e.expr)},n.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=[],n=0;n<this.params.length;n++)r.push('<span class="math-symbol math-parameter">'+escape(this.params[n])+"</span>");var i=this.expr.toHTML(e);return a(this,t)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+escape(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+i},n.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=this.expr.toTex(e);return a(this,t)&&(r="\\left(".concat(r,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(toSymbol).join(",")+"\\right):="+r},n}),{isClass:!0,isNode:!0});function _toConsumableArray$2(e){return _arrayWithoutHoles$2(e)||_iterableToArray$2(e)||_unsupportedIterableToArray$2(e)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray$2(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray$2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray$2(e,t):void 0}}function _iterableToArray$2(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles$2(e){if(Array.isArray(e))return _arrayLikeToArray$2(e)}function _arrayLikeToArray$2(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var name$34="IndexNode",dependencies$36=["Range","Node","size"],createIndexNode=factory(name$34,dependencies$36,(function(e){var t=e.Range,r=e.Node,n=e.size;function a(e,t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=e,this.dotNotation=t||!1,!Array.isArray(e)||!e.every(isNode))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}function i(e,r,n){return new t(isBigNumber(e)?e.toNumber():e,isBigNumber(r)?r.toNumber():r,isBigNumber(n)?n.toNumber():n)}return a.prototype=new r,a.prototype.type="IndexNode",a.prototype.isIndexNode=!0,a.prototype._compile=function(e,t){var r=map(this.dimensions,(function(r,a){if(isRangeNode(r)){if(r.needsEnd()){var o=Object.create(t);o.end=!0;var s=r.start._compile(e,o),u=r.end._compile(e,o),c=r.step?r.step._compile(e,o):function(){return 1};return function(e,t,r){var o=n(r).valueOf(),l=Object.create(t);return l.end=o[a],i(s(e,l,r),u(e,l,r),c(e,l,r))}}var l=r.start._compile(e,t),p=r.end._compile(e,t),d=r.step?r.step._compile(e,t):function(){return 1};return function(e,t,r){return i(l(e,t,r),p(e,t,r),d(e,t,r))}}if(isSymbolNode(r)&&"end"===r.name){var f=Object.create(t);f.end=!0;var m=r._compile(e,f);return function(e,t,r){var i=n(r).valueOf(),o=Object.create(t);return o.end=i[a],m(e,o,r)}}var h=r._compile(e,t);return function(e,t,r){return h(e,t,r)}})),a=getSafeProperty(e,"index");return function(e,t,n){var i=map(r,(function(r){return r(e,t,n)}));return a.apply(void 0,_toConsumableArray$2(i))}},a.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)},a.prototype.map=function(e){for(var t=[],r=0;r<this.dimensions.length;r++)t[r]=this._ifNode(e(this.dimensions[r],"dimensions["+r+"]",this));return new a(t,this.dotNotation)},a.prototype.clone=function(){return new a(this.dimensions.slice(0),this.dotNotation)},a.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&isConstantNode(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},a.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},a.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},a.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},a.fromJSON=function(e){return new a(e.dimensions,e.dotNotation)},a.prototype.toHTML=function(e){for(var t=[],r=0;r<this.dimensions.length;r++)t[r]=this.dimensions[r].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+escape(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},a.prototype._toTex=function(e){var t=this.dimensions.map((function(t){return t.toTex(e)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"},a}),{isClass:!0,isNode:!0});function _typeof$a(e){return(_typeof$a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var name$35="ObjectNode",dependencies$37=["Node"],createObjectNode=factory(name$35,dependencies$37,(function(e){var t=e.Node;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=e||{},e&&("object"!==_typeof$a(e)||!Object.keys(e).every((function(t){return isNode(e[t])}))))throw new TypeError("Object containing Nodes expected")}return r.prototype=new t,r.prototype.type="ObjectNode",r.prototype.isObjectNode=!0,r.prototype._compile=function(e,t){var r={};for(var n in this.properties)if(hasOwnProperty(this.properties,n)){var a=stringify(n),i=JSON.parse(a);if(!isSafeProperty(this.properties,i))throw new Error('No access to property "'+i+'"');r[i]=this.properties[n]._compile(e,t)}return function(e,t,n){var a={};for(var i in r)hasOwnProperty(r,i)&&(a[i]=r[i](e,t,n));return a}},r.prototype.forEach=function(e){for(var t in this.properties)hasOwnProperty(this.properties,t)&&e(this.properties[t],"properties["+stringify(t)+"]",this)},r.prototype.map=function(e){var t={};for(var n in this.properties)hasOwnProperty(this.properties,n)&&(t[n]=this._ifNode(e(this.properties[n],"properties["+stringify(n)+"]",this)));return new r(t)},r.prototype.clone=function(){var e={};for(var t in this.properties)hasOwnProperty(this.properties,t)&&(e[t]=this.properties[t]);return new r(e)},r.prototype._toString=function(e){var t=[];for(var r in this.properties)hasOwnProperty(this.properties,r)&&t.push(stringify(r)+": "+this.properties[r].toString(e));return"{"+t.join(", ")+"}"},r.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},r.fromJSON=function(e){return new r(e.properties)},r.prototype.toHTML=function(e){var t=[];for(var r in this.properties)hasOwnProperty(this.properties,r)&&t.push('<span class="math-symbol math-property">'+escape(r)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[r].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},r.prototype._toTex=function(e){var t=[];for(var r in this.properties)hasOwnProperty(this.properties,r)&&t.push("\\mathbf{"+r+":} & "+this.properties[r].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(t.join("\n"),"\\end{array}\\right\\}")},r}),{isClass:!0,isNode:!0}),name$36="OperatorNode",dependencies$38=["Node"],createOperatorNode=factory(name$36,dependencies$38,(function(e){var t=e.Node;function r(e,t,n,a){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "op"');if("string"!=typeof t)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===a,this.op=e,this.fn=t,this.args=n||[]}function n(e,t,r,n,a){var i,o=getPrecedence(e,t),s=getAssociativity(e,t);if("all"===t||n.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier())return n.map((function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}}));switch(n.length){case 0:i=[];break;case 1:var u=getPrecedence(n[0],t);if(a&&null!==u){var c,l;if("keep"===t?(c=n[0].getIdentifier(),l=e.getIdentifier()):(c=n[0].getContent().getIdentifier(),l=e.getContent().getIdentifier()),!1===properties[o][l].latexLeftParens){i=[!1];break}if(!1===properties[u][c].latexParens){i=[!1];break}}if(null===u){i=[!1];break}if(u<=o){i=[!0];break}i=[!1];break;case 2:var p,d,f=getPrecedence(n[0],t),m=isAssociativeWith(e,n[0],t);p=null!==f&&(f===o&&"right"===s&&!m||f<o);var h,_,v,g=getPrecedence(n[1],t),y=isAssociativeWith(e,n[1],t);if(d=null!==g&&(g===o&&"left"===s&&!y||g<o),a)"keep"===t?(h=e.getIdentifier(),_=e.args[0].getIdentifier(),v=e.args[1].getIdentifier()):(h=e.getContent().getIdentifier(),_=e.args[0].getContent().getIdentifier(),v=e.args[1].getContent().getIdentifier()),null!==f&&(!1===properties[o][h].latexLeftParens&&(p=!1),!1===properties[f][_].latexParens&&(p=!1)),null!==g&&(!1===properties[o][h].latexRightParens&&(d=!1),!1===properties[g][v].latexParens&&(d=!1));i=[p,d];break;default:"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier()||(i=n.map((function(r){var n=getPrecedence(r,t),a=isAssociativeWith(e,r,t),i=getAssociativity(r,t);return null!==n&&(o===n&&s===i&&!a||n<o)})))}return n.length>=2&&"OperatorNode:multiply"===e.getIdentifier()&&e.implicit&&"auto"===t&&"hide"===r&&(i=n.map((function(e,t){var r="ParenthesisNode"===e.getIdentifier();return!(!i[t]&&!r)}))),i}return r.prototype=new t,r.prototype.type="OperatorNode",r.prototype.isOperatorNode=!0,r.prototype._compile=function(e,t){if("string"!=typeof this.fn||!isSafeMethod(e,this.fn))throw e[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var r=getSafeProperty(e,this.fn),n=map(this.args,(function(r){return r._compile(e,t)}));if(1===n.length){var a=n[0];return function(e,t,n){return r(a(e,t,n))}}if(2===n.length){var i=n[0],o=n[1];return function(e,t,n){return r(i(e,t,n),o(e,t,n))}}return function(e,t,a){return r.apply(null,map(n,(function(r){return r(e,t,a)})))}},r.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},r.prototype.map=function(e){for(var t=[],n=0;n<this.args.length;n++)t[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new r(this.op,this.fn,t,this.implicit)},r.prototype.clone=function(){return new r(this.op,this.fn,this.args.slice(0),this.implicit)},r.prototype.isUnary=function(){return 1===this.args.length},r.prototype.isBinary=function(){return 2===this.args.length},r.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",a=this.args,i=n(this,t,r,a,!1);if(1===a.length){var o=getAssociativity(this,t),s=a[0].toString(e);i[0]&&(s="("+s+")");var u=/[a-zA-Z]+/.test(this.op);return"right"===o?this.op+(u?" ":"")+s:"left"===o?s+(u?" ":"")+this.op:s+this.op}if(2===a.length){var c=a[0].toString(e),l=a[1].toString(e);return i[0]&&(c="("+c+")"),i[1]&&(l="("+l+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c+" "+l:c+" "+this.op+" "+l}if(a.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var p=a.map((function(t,r){return t=t.toString(e),i[r]&&(t="("+t+")"),t}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?p.join(" "):p.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},r.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},r.fromJSON=function(e){return new r(e.op,e.fn,e.args,e.implicit)},r.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",a=this.args,i=n(this,t,r,a,!1);if(1===a.length){var o=getAssociativity(this,t),s=a[0].toHTML(e);return i[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===o?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+escape(this.op)+"</span>"+s:s+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+escape(this.op)+"</span>"}if(2===a.length){var u=a[0].toHTML(e),c=a[1].toHTML(e);return i[0]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),i[1]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?u+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+c:u+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+escape(this.op)+"</span>"+c}var l=a.map((function(t,r){return t=t.toHTML(e),i[r]&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t}));return a.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?l.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):l.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+escape(this.op)+"</span>"):'<span class="math-function">'+escape(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},r.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",a=this.args,i=n(this,t,r,a,!0),o=latexOperators[this.fn];if(o=void 0===o?this.op:o,1===a.length){var s=getAssociativity(this,t),u=a[0].toTex(e);return i[0]&&(u="\\left(".concat(u,"\\right)")),"right"===s?o+u:u+o}if(2===a.length){var c=a[0],l=c.toTex(e);i[0]&&(l="\\left(".concat(l,"\\right)"));var p,d=a[1].toTex(e);switch(i[1]&&(d="\\left(".concat(d,"\\right)")),p="keep"===t?c.getIdentifier():c.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return o+"{"+l+"}{"+d+"}";case"OperatorNode:pow":switch(l="{"+l+"}",d="{"+d+"}",p){case"ConditionalNode":case"OperatorNode:divide":l="\\left(".concat(l,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return l+"~"+d}return l+o+d}if(a.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=a.map((function(t,r){return t=t.toTex(e),i[r]&&(t="\\left(".concat(t,"\\right)")),t}));return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?f.join("~"):f.join(o)}return"\\mathrm{"+this.fn+"}\\left("+a.map((function(t){return t.toTex(e)})).join(",")+"\\right)"},r.prototype.getIdentifier=function(){return this.type+":"+this.fn},r}),{isClass:!0,isNode:!0}),name$37="ParenthesisNode",dependencies$39=["Node"],createParenthesisNode=factory(name$37,dependencies$39,(function(e){var t=e.Node;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!isNode(e))throw new TypeError('Node expected for parameter "content"');this.content=e}return r.prototype=new t,r.prototype.type="ParenthesisNode",r.prototype.isParenthesisNode=!0,r.prototype._compile=function(e,t){return this.content._compile(e,t)},r.prototype.getContent=function(){return this.content.getContent()},r.prototype.forEach=function(e){e(this.content,"content",this)},r.prototype.map=function(e){return new r(e(this.content,"content",this))},r.prototype.clone=function(){return new r(this.content)},r.prototype._toString=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)},r.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},r.fromJSON=function(e){return new r(e.content)},r.prototype.toHTML=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)},r.prototype._toTex=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left(".concat(this.content.toTex(e),"\\right)"):this.content.toTex(e)},r}),{isClass:!0,isNode:!0}),name$38="RangeNode",dependencies$3a=["Node"],createRangeNode=factory(name$38,dependencies$3a,(function(e){var t=e.Node;function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!isNode(e))throw new TypeError("Node expected");if(!isNode(t))throw new TypeError("Node expected");if(n&&!isNode(n))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=t,this.step=n||null}function n(e,t){var r=getPrecedence(e,t),n={},a=getPrecedence(e.start,t);if(n.start=null!==a&&a<=r||"all"===t,e.step){var i=getPrecedence(e.step,t);n.step=null!==i&&i<=r||"all"===t}var o=getPrecedence(e.end,t);return n.end=null!==o&&o<=r||"all"===t,n}return r.prototype=new t,r.prototype.type="RangeNode",r.prototype.isRangeNode=!0,r.prototype.needsEnd=function(){return this.filter((function(e){return isSymbolNode(e)&&"end"===e.name})).length>0},r.prototype._compile=function(e,t){var r=e.range,n=this.start._compile(e,t),a=this.end._compile(e,t);if(this.step){var i=this.step._compile(e,t);return function(e,t,o){return r(n(e,t,o),a(e,t,o),i(e,t,o))}}return function(e,t,i){return r(n(e,t,i),a(e,t,i))}},r.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},r.prototype.map=function(e){return new r(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},r.prototype.clone=function(){return new r(this.start,this.end,this.step&&this.step)},r.prototype._toString=function(e){var t,r=n(this,e&&e.parenthesis?e.parenthesis:"keep"),a=this.start.toString(e);if(r.start&&(a="("+a+")"),t=a,this.step){var i=this.step.toString(e);r.step&&(i="("+i+")"),t+=":"+i}var o=this.end.toString(e);return r.end&&(o="("+o+")"),t+=":"+o},r.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(e){return new r(e.start,e.end,e.step)},r.prototype.toHTML=function(e){var t,r=n(this,e&&e.parenthesis?e.parenthesis:"keep"),a=this.start.toHTML(e);if(r.start&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t=a,this.step){var i=this.step.toHTML(e);r.step&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+i}var o=this.end.toHTML(e);return r.end&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+o},r.prototype._toTex=function(e){var t=n(this,e&&e.parenthesis?e.parenthesis:"keep"),r=this.start.toTex(e);if(t.start&&(r="\\left(".concat(r,"\\right)")),this.step){var a=this.step.toTex(e);t.step&&(a="\\left(".concat(a,"\\right)")),r+=":"+a}var i=this.end.toTex(e);return t.end&&(i="\\left(".concat(i,"\\right)")),r+=":"+i},r}),{isClass:!0,isNode:!0}),name$39="RelationalNode",dependencies$3b=["Node"],createRelationalNode=factory(name$39,dependencies$3b,(function(e){var t=e.Node;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(t))throw new TypeError("Parameter params must be an array");if(e.length!==t.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=e,this.params=t}return r.prototype=new t,r.prototype.type="RelationalNode",r.prototype.isRelationalNode=!0,r.prototype._compile=function(e,t){var r=this,n=this.params.map((function(r){return r._compile(e,t)}));return function(t,a,i){for(var o,s=n[0](t,a,i),u=0;u<r.conditionals.length;u++){if(o=s,s=n[u+1](t,a,i),!getSafeProperty(e,r.conditionals[u])(o,s))return!1}return!0}},r.prototype.forEach=function(e){var t=this;this.params.forEach((function(r,n){return e(r,"params["+n+"]",t)}),this)},r.prototype.map=function(e){var t=this;return new r(this.conditionals.slice(),this.params.map((function(r,n){return t._ifNode(e(r,"params["+n+"]",t))}),this))},r.prototype.clone=function(){return new r(this.conditionals,this.params)},r.prototype._toString=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=getPrecedence(this,t),n=this.params.map((function(n,a){var i=getPrecedence(n,t);return"all"===t||null!==i&&i<=r?"("+n.toString(e)+")":n.toString(e)})),a={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},i=n[0],o=0;o<this.conditionals.length;o++)i+=" "+a[this.conditionals[o]]+" "+n[o+1];return i},r.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},r.fromJSON=function(e){return new r(e.conditionals,e.params)},r.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=getPrecedence(this,t),n=this.params.map((function(n,a){var i=getPrecedence(n,t);return"all"===t||null!==i&&i<=r?'<span class="math-parenthesis math-round-parenthesis">(</span>'+n.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':n.toHTML(e)})),a={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},i=n[0],o=0;o<this.conditionals.length;o++)i+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+escape(a[this.conditionals[o]])+"</span>"+n[o+1];return i},r.prototype._toTex=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=getPrecedence(this,t),n=this.params.map((function(n,a){var i=getPrecedence(n,t);return"all"===t||null!==i&&i<=r?"\\left("+n.toTex(e)+"\right)":n.toTex(e)})),a=n[0],i=0;i<this.conditionals.length;i++)a+=latexOperators[this.conditionals[i]]+n[i+1];return a},r}),{isClass:!0,isNode:!0}),name$3a="SymbolNode",dependencies$3c=["math","?Unit","Node"],createSymbolNode=factory(name$3a,dependencies$3c,(function(e){var t=e.math,r=e.Unit,n=e.Node;function a(e){return!!r&&r.isValuelessUnit(e)}function i(e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}return i.prototype=new n,i.prototype.type="SymbolNode",i.prototype.isSymbolNode=!0,i.prototype._compile=function(e,t){var n=this.name;if(!0===t[n])return function(e,t,r){return t[n]};if(n in e)return function(t,r,a){return getSafeProperty(n in t?t:e,n)};var i=a(n);return function(e,t,a){return n in e?getSafeProperty(e,n):i?new r(null,n):function(e){throw new Error("Undefined symbol "+e)}(n)}},i.prototype.forEach=function(e){},i.prototype.map=function(e){return this.clone()},i.prototype.clone=function(){return new i(this.name)},i.prototype._toString=function(e){return this.name},i.prototype.toHTML=function(e){var t=escape(this.name);return"true"===t||"false"===t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"===t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"===t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"===t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"===t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"undefined"===t?'<span class="math-symbol math-undefined-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>"},i.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},i.fromJSON=function(e){return new i(e.name)},i.prototype._toTex=function(e){var r=!1;void 0===t[this.name]&&a(this.name)&&(r=!0);var n=toSymbol(this.name,r);return"\\"===n[0]?n:" "+n},i}),{isClass:!0,isNode:!0});function _typeof$b(e){return(_typeof$b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends$3(){return(_extends$3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var name$3b="FunctionNode",dependencies$3d=["math","Node","SymbolNode"],createFunctionNode=factory(name$3b,dependencies$3d,(function(e){var t=e.math,r=e.Node,n=e.SymbolNode;function a(e,t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof e&&(e=new n(e)),!isNode(e))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(t)||!t.every(isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=t||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}a.prototype=new r,a.prototype.type="FunctionNode",a.prototype.isFunctionNode=!0,a.prototype._compile=function(e,t){if(!(this instanceof a))throw new TypeError("No valid FunctionNode");var r=map(this.args,(function(r){return r._compile(e,t)}));if(isSymbolNode(this.fn)){var n=this.fn.name,i=n in e?getSafeProperty(e,n):void 0;if("function"==typeof i&&!0===i.rawArgs){var o=this.args;return function(t,r,a){return(n in t?getSafeProperty(t,n):i)(o,e,_extends$3({},t,r))}}if(1===r.length){var s=r[0];return function(e,t,r){return(n in e?getSafeProperty(e,n):i)(s(e,t,r))}}if(2===r.length){var u=r[0],c=r[1];return function(e,t,r){return(n in e?getSafeProperty(e,n):i)(u(e,t,r),c(e,t,r))}}return function(e,t,a){return(n in e?getSafeProperty(e,n):i).apply(null,map(r,(function(r){return r(e,t,a)})))}}if(isAccessorNode(this.fn)&&isIndexNode(this.fn.index)&&this.fn.index.isObjectProperty()){var l=this.fn.object._compile(e,t),p=this.fn.index.getObjectProperty(),d=this.args;return function(t,n,a){var i=l(t,n,a);return validateSafeMethod(i,p),i[p]&&i[p].rawArgs?i[p](d,e,_extends$3({},t,n)):i[p].apply(i,map(r,(function(e){return e(t,n,a)})))}}var f=this.fn._compile(e,t),m=this.args;return function(t,n,a){var i=f(t,n,a);return i&&i.rawArgs?i(m,e,_extends$3({},t,n)):i.apply(i,map(r,(function(e){return e(t,n,a)})))}},a.prototype.forEach=function(e){e(this.fn,"fn",this);for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},a.prototype.map=function(e){for(var t=this._ifNode(e(this.fn,"fn",this)),r=[],n=0;n<this.args.length;n++)r[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new a(t,r)},a.prototype.clone=function(){return new a(this.fn,this.args.slice(0))};var i=a.prototype.toString;function o(e,t,r){for(var n,a="",i=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),o=0;null!==(n=i.exec(e));)if(a+=e.substring(o,n.index),o=n.index,"$$"===n[0])a+="$",o++;else{o+=n[0].length;var s=t[n[1]];if(!s)throw new ReferenceError("Template: Property "+n[1]+" does not exist.");if(void 0===n[2])switch(_typeof$b(s)){case"string":a+=s;break;case"object":if(isNode(s))a+=s.toTex(r);else{if(!Array.isArray(s))throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes");a+=s.map((function(e,t){if(isNode(e))return e.toTex(r);throw new TypeError("Template: "+n[1]+"["+t+"] is not a Node.")})).join(",")}break;default:throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes")}else{if(!isNode(s[n[2]]&&s[n[2]]))throw new TypeError("Template: "+n[1]+"["+n[2]+"] is not a Node.");a+=s[n[2]].toTex(r)}}return a+=e.slice(o)}a.prototype.toString=function(e){var t,r=this.fn.toString(e);return e&&"object"===_typeof$b(e.handler)&&hasOwnProperty(e.handler,r)&&(t=e.handler[r](this,e)),void 0!==t?t:i.call(this,e)},a.prototype._toString=function(e){var t=this.args.map((function(t){return t.toString(e)}));return(isFunctionAssignmentNode(this.fn)?"("+this.fn.toString(e)+")":this.fn.toString(e))+"("+t.join(", ")+")"},a.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},a.fromJSON=function(e){return new a(e.fn,e.args)},a.prototype.toHTML=function(e){var t=this.args.map((function(t){return t.toHTML(e)}));return'<span class="math-function">'+escape(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var s=a.prototype.toTex;return a.prototype.toTex=function(e){var t;return e&&"object"===_typeof$b(e.handler)&&hasOwnProperty(e.handler,this.name)&&(t=e.handler[this.name](this,e)),void 0!==t?t:s.call(this,e)},a.prototype._toTex=function(e){var r,n,a=this.args.map((function(t){return t.toTex(e)}));switch(latexFunctions[this.name]&&(r=latexFunctions[this.name]),!t[this.name]||"function"!=typeof t[this.name].toTex&&"object"!==_typeof$b(t[this.name].toTex)&&"string"!=typeof t[this.name].toTex||(r=t[this.name].toTex),_typeof$b(r)){case"function":n=r(this,e);break;case"string":n=o(r,this,e);break;case"object":switch(_typeof$b(r[a.length])){case"function":n=r[a.length](this,e);break;case"string":n=o(r[a.length],this,e)}}return void 0!==n?n:o(defaultTemplate,this,e)},a.prototype.getIdentifier=function(){return this.type+":"+this.name},a}),{isClass:!0,isNode:!0});function _extends$4(){return(_extends$4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var name$3c="parse",dependencies$3e=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],createParse=factory(name$3c,dependencies$3e,(function(e){var t=e.typed,r=e.numeric,n=e.config,a=e.AccessorNode,i=e.ArrayNode,o=e.AssignmentNode,s=e.BlockNode,u=e.ConditionalNode,c=e.ConstantNode,l=e.FunctionAssignmentNode,p=e.FunctionNode,d=e.IndexNode,f=e.ObjectNode,m=e.OperatorNode,h=e.ParenthesisNode,_=e.RangeNode,v=e.RelationalNode,g=e.SymbolNode,y=t(name$3c,{string:function(e){return F(e,{})},"Array | Matrix":function(e){return b(e,{})},"string, Object":function(e,t){return F(e,void 0!==t.nodes?t.nodes:{})},"Array | Matrix, Object":b});function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0!==t.nodes?t.nodes:{};return deepMap(e,(function(e){if("string"!=typeof e)throw new TypeError("String expected");return F(e,r)}))}var $={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},x={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},w={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},S={true:!0,false:!1,null:null,undefined:void 0},N=["NaN","Infinity"];function C(e,t){return e.expression.substr(e.index,t)}function E(e){return C(e,1)}function A(e){e.index++}function M(e){return e.expression.charAt(e.index-1)}function T(e){return e.expression.charAt(e.index+1)}function O(e){for(e.tokenType=$.NULL,e.token="",e.comment="";y.isWhitespace(E(e),e.nestingLevel);)A(e);if("#"===E(e))for(;"\n"!==E(e)&&""!==E(e);)e.comment+=E(e),A(e);if(""!==E(e)){if("\n"===E(e)&&!e.nestingLevel)return e.tokenType=$.DELIMITER,e.token=E(e),void A(e);var t=E(e),r=C(e,2),n=C(e,3);if(3===n.length&&x[n])return e.tokenType=$.DELIMITER,e.token=n,A(e),A(e),void A(e);if(2===r.length&&x[r])return e.tokenType=$.DELIMITER,e.token=r,A(e),void A(e);if(x[t])return e.tokenType=$.DELIMITER,e.token=t,void A(e);if(y.isDigitDot(t)){e.tokenType=$.NUMBER;var a=C(e,2);if("0b"===a||"0o"===a||"0x"===a){for(e.token+=E(e),A(e),e.token+=E(e),A(e);y.isHexDigit(E(e));)e.token+=E(e),A(e);return}if("."===E(e))e.token+=E(e),A(e),y.isDigit(E(e))||(e.tokenType=$.DELIMITER);else{for(;y.isDigit(E(e));)e.token+=E(e),A(e);y.isDecimalMark(E(e),T(e))&&(e.token+=E(e),A(e))}for(;y.isDigit(E(e));)e.token+=E(e),A(e);if("E"===E(e)||"e"===E(e))if(y.isDigit(T(e))||"-"===T(e)||"+"===T(e)){if(e.token+=E(e),A(e),"+"!==E(e)&&"-"!==E(e)||(e.token+=E(e),A(e)),!y.isDigit(E(e)))throw re(e,'Digit expected, got "'+E(e)+'"');for(;y.isDigit(E(e));)e.token+=E(e),A(e);if(y.isDecimalMark(E(e),T(e)))throw re(e,'Digit expected, got "'+E(e)+'"')}else if("."===T(e))throw A(e),re(e,'Digit expected, got "'+E(e)+'"')}else{if(!y.isAlpha(E(e),M(e),T(e))){for(e.tokenType=$.UNKNOWN;""!==E(e);)e.token+=E(e),A(e);throw re(e,'Syntax error in part "'+e.token+'"')}for(;y.isAlpha(E(e),M(e),T(e))||y.isDigit(E(e));)e.token+=E(e),A(e);hasOwnProperty(w,e.token)?e.tokenType=$.DELIMITER:e.tokenType=$.SYMBOL}}else e.tokenType=$.DELIMITER}function P(e){do{O(e)}while("\n"===e.token)}function D(e){e.nestingLevel++}function I(e){e.nestingLevel--}function F(e,t){var r={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:$.NULL,nestingLevel:0,conditionalLevel:null};_extends$4(r,{expression:e,extraNodes:t}),O(r);var n=function(e){var t,r,n=[];""!==e.token&&"\n"!==e.token&&";"!==e.token&&((t=k(e)).comment=e.comment);for(;"\n"===e.token||";"===e.token;)0===n.length&&t&&(r=";"!==e.token,n.push({node:t,visible:r})),O(e),"\n"!==e.token&&";"!==e.token&&""!==e.token&&((t=k(e)).comment=e.comment,r=";"!==e.token,n.push({node:t,visible:r}));return n.length>0?new s(n):(t||((t=new c(void 0)).comment=e.comment),t)}(r);if(""!==r.token)throw r.tokenType===$.DELIMITER?ne(r,"Unexpected operator "+r.token):re(r,'Unexpected part "'+r.token+'"');return n}function k(e){var t,r,n,a,i=function(e){var t=function(e){var t=R(e);for(;"or"===e.token;)P(e),t=new m("or","or",[t,R(e)]);return t}(e);for(;"?"===e.token;){var r=e.conditionalLevel;e.conditionalLevel=e.nestingLevel,P(e);var n=t,a=k(e);if(":"!==e.token)throw re(e,"False part of conditional expression expected");e.conditionalLevel=null,P(e);var i=k(e);t=new u(n,a,i),e.conditionalLevel=r}return t}(e);if("="===e.token){if(isSymbolNode(i))return t=i.name,P(e),n=k(e),new o(new g(t),n);if(isAccessorNode(i))return P(e),n=k(e),new o(i.object,i.index,n);if(isFunctionNode(i)&&isSymbolNode(i.fn)&&(a=!0,r=[],t=i.name,i.args.forEach((function(e,t){isSymbolNode(e)?r[t]=e.name:a=!1})),a))return P(e),n=k(e),new l(t,r,n);throw re(e,"Invalid left hand side of assignment operator =")}return i}function R(e){for(var t=j(e);"xor"===e.token;)P(e),t=new m("xor","xor",[t,j(e)]);return t}function j(e){for(var t=q(e);"and"===e.token;)P(e),t=new m("and","and",[t,q(e)]);return t}function q(e){for(var t=B(e);"|"===e.token;)P(e),t=new m("|","bitOr",[t,B(e)]);return t}function B(e){for(var t=L(e);"^|"===e.token;)P(e),t=new m("^|","bitXor",[t,L(e)]);return t}function L(e){for(var t=V(e);"&"===e.token;)P(e),t=new m("&","bitAnd",[t,V(e)]);return t}function V(e){for(var t=[z(e)],r=[],n={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};hasOwnProperty(n,e.token);){var a={name:e.token,fn:n[e.token]};r.push(a),P(e),t.push(z(e))}return 1===t.length?t[0]:2===t.length?new m(r[0].name,r[0].fn,t):new v(r.map((function(e){return e.fn})),t)}function z(e){var t,r,n,a;t=U(e);for(var i={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};hasOwnProperty(i,e.token);)n=i[r=e.token],P(e),a=[t,U(e)],t=new m(r,n,a);return t}function U(e){var t,r,n,a;t=G(e);for(var i={to:"to",in:"to"};hasOwnProperty(i,e.token);)n=i[r=e.token],P(e),"in"===r&&""===e.token?t=new m("*","multiply",[t,new g("in")],!0):(a=[t,G(e)],t=new m(r,n,a));return t}function G(e){var t,r=[];if(t=":"===e.token?new c(1):H(e),":"===e.token&&e.conditionalLevel!==e.nestingLevel){for(r.push(t);":"===e.token&&r.length<3;)P(e),")"===e.token||"]"===e.token||","===e.token||""===e.token?r.push(new g("end")):r.push(H(e));t=3===r.length?new _(r[0],r[2],r[1]):new _(r[0],r[1])}return t}function H(e){var t,r,n,a;t=W(e);for(var i={"+":"add","-":"subtract"};hasOwnProperty(i,e.token);)n=i[r=e.token],P(e),a=[t,W(e)],t=new m(r,n,a);return t}function W(e){var t,r,n,a;r=t=Q(e);for(var i={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};hasOwnProperty(i,e.token);)a=i[n=e.token],P(e),r=Q(e),t=new m(n,a,[t,r]);return t}function Q(e){var t,r;for(r=t=Y(e);e.tokenType===$.SYMBOL||"in"===e.token&&isConstantNode(t)||!(e.tokenType!==$.NUMBER||isConstantNode(r)||isOperatorNode(r)&&"!"!==r.op)||"("===e.token;)r=Y(e),t=new m("*","multiply",[t,r],!0);return t}function Y(e){for(var t=K(e),r=t,n=[];"/"===e.token&&isConstantNode(r);){if(n.push(_extends$4({},e)),P(e),e.tokenType!==$.NUMBER){_extends$4(e,n.pop());break}if(n.push(_extends$4({},e)),P(e),e.tokenType!==$.SYMBOL&&"("!==e.token){n.pop(),_extends$4(e,n.pop());break}_extends$4(e,n.pop()),n.pop(),r=K(e),t=new m("/","divide",[t,r])}return t}function K(e){var t,a,o,s={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return hasOwnProperty(s,e.token)?(o=s[e.token],t=e.token,P(e),a=[K(e)],new m(t,o,a)):function(e){var t,a,o,s;t=function(e){var t,a,o;t=function(e){var t=[];if(e.tokenType===$.SYMBOL&&hasOwnProperty(e.extraNodes,e.token)){var a=e.extraNodes[e.token];if(O(e),"("===e.token){if(t=[],D(e),O(e),")"!==e.token)for(t.push(k(e));","===e.token;)O(e),t.push(k(e));if(")"!==e.token)throw re(e,"Parenthesis ) expected");I(e),O(e)}return new a(t)}return function(e){var t,a;if(e.tokenType===$.SYMBOL||e.tokenType===$.DELIMITER&&e.token in w)return a=e.token,O(e),t=hasOwnProperty(S,a)?new c(S[a]):-1!==N.indexOf(a)?new c(r(a,"number")):new g(a),t=Z(e,t);return function(e){var t,a;if('"'===e.token)return a=J(e),t=new c(a),t=Z(e,t);return function(e){var t,a;if("'"===e.token)return a=X(e),t=new c(a),t=Z(e,t);return function(e){var t,a,o,s;if("["===e.token){if(D(e),O(e),"]"!==e.token){var u=ee(e);if(";"===e.token){for(o=1,a=[u];";"===e.token;)O(e),a[o]=ee(e),o++;if("]"!==e.token)throw re(e,"End of matrix ] expected");I(e),O(e),s=a[0].items.length;for(var l=1;l<o;l++)if(a[l].items.length!==s)throw ne(e,"Column dimensions mismatch ("+a[l].items.length+" !== "+s+")");t=new i(a)}else{if("]"!==e.token)throw re(e,"End of matrix ] expected");I(e),O(e),t=u}}else I(e),O(e),t=new i([]);return Z(e,t)}return function(e){if("{"===e.token){var t;D(e);var a={};do{if(O(e),"}"!==e.token){if('"'===e.token)t=J(e);else if("'"===e.token)t=X(e);else{if(!(e.tokenType===$.SYMBOL||e.tokenType===$.DELIMITER&&e.token in w))throw re(e,"Symbol or string expected as object key");t=e.token,O(e)}if(":"!==e.token)throw re(e,"Colon : expected after object key");O(e),a[t]=k(e)}}while(","===e.token);if("}"!==e.token)throw re(e,"Comma , or bracket } expected after object value");I(e),O(e);var i=new f(a);return i=Z(e,i)}return function(e){var t;if(e.tokenType===$.NUMBER)return t=e.token,O(e),new c(r(t,n.number));return function(e){var t;if("("===e.token){if(D(e),O(e),t=k(e),")"!==e.token)throw re(e,"Parenthesis ) expected");return I(e),O(e),t=new h(t),t=Z(e,t)}return function(e){throw""===e.token?re(e,"Unexpected end of expression"):re(e,"Value expected")}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e);var s={"!":"factorial","'":"ctranspose"};for(;hasOwnProperty(s,e.token);)a=e.token,o=s[a],O(e),t=new m(a,o,[t]),t=Z(e,t);return t}(e),("^"===e.token||".^"===e.token)&&(a=e.token,o="^"===a?"pow":"dotPow",P(e),s=[t,K(e)],t=new m(a,o,s));return t}(e)}function Z(e,t,r){for(var n;!("("!==e.token&&"["!==e.token&&"."!==e.token||r&&-1===r.indexOf(e.token));)if(n=[],"("===e.token){if(!isSymbolNode(t)&&!isAccessorNode(t))return t;if(D(e),O(e),")"!==e.token)for(n.push(k(e));","===e.token;)O(e),n.push(k(e));if(")"!==e.token)throw re(e,"Parenthesis ) expected");I(e),O(e),t=new p(t,n)}else if("["===e.token){if(D(e),O(e),"]"!==e.token)for(n.push(k(e));","===e.token;)O(e),n.push(k(e));if("]"!==e.token)throw re(e,"Parenthesis ] expected");I(e),O(e),t=new a(t,new d(n))}else{if(O(e),e.tokenType!==$.SYMBOL)throw re(e,"Property name expected after dot");n.push(new c(e.token)),O(e);t=new a(t,new d(n,!0))}return t}function J(e){for(var t="";""!==E(e)&&'"'!==E(e);)"\\"===E(e)&&(t+=E(e),A(e)),t+=E(e),A(e);if(O(e),'"'!==e.token)throw re(e,'End of string " expected');return O(e),JSON.parse('"'+t+'"')}function X(e){for(var t="";""!==E(e)&&"'"!==E(e);)"\\"===E(e)&&(t+=E(e),A(e)),t+=E(e),A(e);if(O(e),"'"!==e.token)throw re(e,"End of string ' expected");return O(e),JSON.parse('"'+t+'"')}function ee(e){for(var t=[k(e)],r=1;","===e.token;)O(e),t[r]=k(e),r++;return new i(t)}function te(e){return e.index-e.token.length+1}function re(e,t){var r=te(e),n=new SyntaxError(t+" (char "+r+")");return n.char=r,n}function ne(e,t){var r=te(e),n=new SyntaxError(t+" (char "+r+")");return n.char=r,n}return y.isAlpha=function(e,t,r){return y.isValidLatinOrGreek(e)||y.isValidMathSymbol(e,r)||y.isValidMathSymbol(t,e)},y.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},y.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},y.isWhitespace=function(e,t){return" "===e||"\t"===e||"\n"===e&&t>0},y.isDecimalMark=function(e,t){return"."===e&&"/"!==t&&"*"!==t&&"^"!==t},y.isDigitDot=function(e){return e>="0"&&e<="9"||"."===e},y.isDigit=function(e){return e>="0"&&e<="9"},y.isHexDigit=function(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"},y})),name$3d="compile",dependencies$3f=["typed","parse"],createCompile=factory(name$3d,dependencies$3f,(function(e){var t=e.typed,r=e.parse;return t(name$3d,{string:function(e){return r(e).compile()},"Array | Matrix":function(e){return deepMap(e,(function(e){return r(e).compile()}))}})})),name$3e="evaluate",dependencies$3g=["typed","parse"],createEvaluate=factory(name$3e,dependencies$3g,(function(e){var t=e.typed,r=e.parse;return t(name$3e,{string:function(e){return r(e).compile().evaluate({})},"string, Object":function(e,t){return r(e).compile().evaluate(t)},"Array | Matrix":function(e){var t={};return deepMap(e,(function(e){return r(e).compile().evaluate(t)}))},"Array | Matrix, Object":function(e,t){return deepMap(e,(function(e){return r(e).compile().evaluate(t)}))}})})),name$3f="Parser",dependencies$3h=["parse"],createParserClass=factory(name$3f,dependencies$3h,(function(e){var t=e.parse;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return r.prototype.type="Parser",r.prototype.isParser=!0,r.prototype.evaluate=function(e){return t(e).compile().evaluate(this.scope)},r.prototype.get=function(e){return e in this.scope?getSafeProperty(this.scope,e):void 0},r.prototype.getAll=function(){return extend({},this.scope)},r.prototype.set=function(e,t){return setSafeProperty(this.scope,e,t)},r.prototype.remove=function(e){delete this.scope[e]},r.prototype.clear=function(){for(var e in this.scope)hasOwnProperty(this.scope,e)&&delete this.scope[e]},r}),{isClass:!0}),name$3g="parser",dependencies$3i=["typed","Parser"],createParser=factory(name$3g,dependencies$3i,(function(e){var t=e.typed,r=e.Parser;return t(name$3g,{"":function(){return new r}})})),name$3h="lup",dependencies$3j=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],createLup=factory(name$3h,dependencies$3j,(function(e){var t=e.typed,r=e.matrix,n=e.abs,a=e.addScalar,i=e.divideScalar,o=e.multiplyScalar,s=e.subtract,u=e.larger,c=e.equalScalar,l=e.unaryMinus,p=e.DenseMatrix,d=e.SparseMatrix,f=e.Spa;return t(name$3h,{DenseMatrix:function(e){return m(e)},SparseMatrix:function(e){return h(e)},Array:function(e){var t=m(r(e));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}});function m(e){var t,r,l,d=e._size[0],f=e._size[1],m=Math.min(d,f),h=clone(e._data),_=[],v=[d,m],g=[],y=[m,f],b=[];for(t=0;t<d;t++)b[t]=t;for(r=0;r<f;r++){if(r>0)for(t=0;t<d;t++){var $=Math.min(t,r),x=0;for(l=0;l<$;l++)x=a(x,o(h[t][l],h[l][r]));h[t][r]=s(h[t][r],x)}var w=r,S=0,N=0;for(t=r;t<d;t++){var C=h[t][r],E=n(C);u(E,S)&&(w=t,S=E,N=C)}if(r!==w&&(b[r]=[b[w],b[w]=b[r]][0],p._swapRows(r,w,h)),r<d)for(t=r+1;t<d;t++){var A=h[t][r];c(A,0)||(h[t][r]=i(h[t][r],N))}}for(r=0;r<f;r++)for(t=0;t<d;t++)0===r&&(t<f&&(g[t]=[]),_[t]=[]),t<r?(t<f&&(g[t][r]=h[t][r]),r<d&&(_[t][r]=0)):t!==r?(t<f&&(g[t][r]=0),r<d&&(_[t][r]=h[t][r])):(t<f&&(g[t][r]=h[t][r]),r<d&&(_[t][r]=1));var M=new p({data:_,size:v}),T=new p({data:g,size:y}),O=[];for(t=0,m=b.length;t<m;t++)O[b[t]]=t;return{L:M,U:T,p:O,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}function h(e){var t,r,a,s=e._size[0],p=e._size[1],m=Math.min(s,p),h=e._values,_=e._index,v=e._ptr,g=[],y=[],b=[],$=[s,m],x=[],w=[],S=[],N=[m,p],C=[],E=[];for(t=0;t<s;t++)C[t]=t,E[t]=t;var A=function(){var e=new f;r<s&&(b.push(g.length),g.push(1),y.push(r)),S.push(x.length);var p=v[r],m=v[r+1];for(a=p;a<m;a++)t=_[a],e.set(C[t],h[a]);r>0&&e.forEach(0,r-1,(function(t,r){d._forEachRow(t,g,y,b,(function(n,a){n>t&&e.accumulate(n,l(o(a,r)))}))}));var A,M,T,O,P=r,D=e.get(r),I=n(D);e.forEach(r+1,s-1,(function(e,t){var r=n(t);u(r,I)&&(P=e,I=r,D=t)})),r!==P&&(d._swapRows(r,P,$[1],g,y,b),d._swapRows(r,P,N[1],x,w,S),e.swap(r,P),M=P,T=E[A=r],O=E[M],C[T]=M,C[O]=A,E[A]=O,E[M]=T),e.forEach(0,s-1,(function(e,t){e<=r?(x.push(t),w.push(e)):(t=i(t,D),c(t,0)||(g.push(t),y.push(e)))}))};for(r=0;r<p;r++)A();return S.push(x.length),b.push(g.length),{L:new d({values:g,index:y,ptr:b,size:$}),U:new d({values:x,index:w,ptr:S,size:N}),p:C,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}));function _extends$5(){return(_extends$5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var name$3i="qr",dependencies$3k=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],createQr=factory(name$3i,dependencies$3k,(function(e){var t=e.typed,r=e.matrix,n=e.zeros,a=e.identity,i=e.isZero,o=e.equal,s=e.sign,u=e.sqrt,c=e.conj,l=e.unaryMinus,p=e.addScalar,d=e.divideScalar,f=e.multiplyScalar,m=e.subtract,h=e.complex;return _extends$5(t(name$3i,{DenseMatrix:function(e){return v(e)},SparseMatrix:function(e){return function(e){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(e){var t=v(r(e));return{Q:t.Q.valueOf(),R:t.R.valueOf()}}}),{_denseQRimpl:_});function _(e){var t,r,h,_=e._size[0],v=e._size[1],g=a([_],"dense"),y=g._data,b=e.clone(),$=b._data,x=n([_],"");for(h=0;h<Math.min(v,_);++h){var w=$[h][h],S=l(o(w,0)?1:s(w)),N=c(S),C=0;for(t=h;t<_;t++)C=p(C,f($[t][h],c($[t][h])));var E=f(S,u(C));if(!i(E)){var A=m(w,E);for(x[h]=1,t=h+1;t<_;t++)x[t]=d($[t][h],A);var M=l(c(d(A,E))),T=void 0;for(r=h;r<v;r++){for(T=0,t=h;t<_;t++)T=p(T,f(c(x[t]),$[t][r]));for(T=f(T,M),t=h;t<_;t++)$[t][r]=f(m($[t][r],f(x[t],T)),N)}for(t=0;t<_;t++){for(T=0,r=h;r<_;r++)T=p(T,f(y[t][r],x[r]));for(T=f(T,M),r=h;r<_;++r)y[t][r]=d(m(y[t][r],f(T,c(x[r]))),N)}}}return{Q:g,R:b,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function v(e){var t=_(e),r=t.R._data;if(e._data.length>0)for(var n="Complex"===r[0][0].type?h(0):0,a=0;a<r.length;++a)for(var i=0;i<a&&i<(r[0]||[]).length;++i)r[a][i]=n;return t}}));function csPermute(e,t,r,n){for(var a=e._values,i=e._index,o=e._ptr,s=e._size,u=e._datatype,c=s[0],l=s[1],p=n&&e._values?[]:null,d=[],f=[],m=0,h=0;h<l;h++){f[h]=m;for(var _=r?r[h]:h,v=o[_],g=o[_+1],y=v;y<g;y++){var b=t?t[i[y]]:i[y];d[m]=b,p&&(p[m]=a[y]),m++}}return f[l]=m,e.createSparseMatrix({values:p,index:d,ptr:f,size:[c,l],datatype:u})}function csTdfs(e,t,r,n,a,i,o){var s=0;for(r[o]=e;s>=0;){var u=r[o+s],c=r[n+u];-1===c?(s--,i[t++]=u):(r[n+u]=r[a+c],r[o+ ++s]=c)}return t}function csPost(e,t){if(!e)return null;var r,n=0,a=[],i=[],o=t,s=2*t;for(r=0;r<t;r++)i[0+r]=-1;for(r=t-1;r>=0;r--)-1!==e[r]&&(i[o+r]=i[0+e[r]],i[0+e[r]]=r);for(r=0;r<t;r++)-1===e[r]&&(n=csTdfs(r,n,i,0,o,a,s));return a}function csEtree(e,t){if(!e)return null;var r,n,a=e._index,i=e._ptr,o=e._size,s=o[0],u=o[1],c=[],l=[],p=u;if(t)for(r=0;r<s;r++)l[p+r]=-1;for(var d=0;d<u;d++){c[d]=-1,l[0+d]=-1;for(var f=i[d],m=i[d+1],h=f;h<m;h++){var _=a[h];for(r=t?l[p+_]:_;-1!==r&&r<d;r=n)n=l[0+r],l[0+r]=d,-1===n&&(c[r]=d);t&&(l[p+_]=d)}}return c}function csFkeep(e,t,r){for(var n=e._values,a=e._index,i=e._ptr,o=e._size[1],s=0,u=0;u<o;u++){var c=i[u];for(i[u]=s;c<i[u+1];c++)t(a[c],u,n?n[c]:1,r)&&(a[s]=a[c],n&&(n[s]=n[c]),s++)}return i[o]=s,a.splice(s,a.length-s),n&&n.splice(s,n.length-s),s}function csFlip(e){return-e-2}var name$3j="csAmd",dependencies$3l=["add","multiply","transpose"],createCsAmd=factory(name$3j,dependencies$3l,(function(e){var t=e.add,r=e.multiply,n=e.transpose;return function(e,o){if(!o||e<=0||e>3)return null;var s=o._size,u=s[0],c=s[1],l=0,p=Math.max(16,10*Math.sqrt(c)),d=function(e,a,i,o,s){var u=n(a);if(1===e&&o===i)return t(a,u);if(2===e){for(var c=u._index,l=u._ptr,p=0,d=0;d<i;d++){var f=l[d];if(l[d]=p,!(l[d+1]-f>s))for(var m=l[d+1];f<m;f++)c[p++]=c[f]}return l[i]=p,a=n(u),r(u,a)}return r(u,a)}(e,o,u,c,p=Math.min(c-2,p));csFkeep(d,i,null);for(var f,m,h,_,v,g,y,b,$,x,w,S,N,C,E,A,M=d._index,T=d._ptr,O=T[c],P=[],D=[],I=c+1,F=2*(c+1),k=3*(c+1),R=4*(c+1),j=5*(c+1),q=6*(c+1),B=7*(c+1),L=P,V=function(e,t,r,n,i,o,s,u,c,l,p,d){for(var f=0;f<e;f++)r[n+f]=t[f+1]-t[f];r[n+e]=0;for(var m=0;m<=e;m++)r[i+m]=-1,o[m]=-1,r[s+m]=-1,r[u+m]=-1,r[c+m]=1,r[l+m]=1,r[p+m]=0,r[d+m]=r[n+m];var h=a(0,0,r,l,e);return r[p+e]=-2,t[e]=-1,r[l+e]=0,h}(c,T,D,0,k,L,F,B,I,q,R,j),z=function(e,t,r,n,a,i,o,s,u,c,l){for(var p=0,d=0;d<e;d++){var f=r[n+d];if(0===f)r[a+d]=-2,p++,t[d]=-1,r[i+d]=0;else if(f>o)r[s+d]=0,r[a+d]=-1,p++,t[d]=csFlip(e),r[s+e]++;else{var m=r[u+f];-1!==m&&(c[m]=d),r[l+d]=r[u+f],r[u+f]=d}}return p}(c,T,D,j,R,q,p,I,k,L,F),U=0;z<c;){for(h=-1;U<c&&-1===(h=D[k+U]);U++);-1!==D[F+h]&&(L[D[F+h]]=-1),D[k+U]=D[F+h];var G=D[R+h],H=D[I+h];z+=H;var W=0;D[I+h]=-H;var Q=T[h],Y=0===G?Q:O,K=Y;for(_=1;_<=G+1;_++){for(_>G?(g=h,y=Q,b=D[0+h]-G):(y=T[g=M[Q++]],b=D[0+g]),v=1;v<=b;v++)($=D[I+(f=M[y++])])<=0||(W+=$,D[I+f]=-$,M[K++]=f,-1!==D[F+f]&&(L[D[F+f]]=L[f]),-1!==L[f]?D[F+L[f]]=D[F+f]:D[k+D[j+f]]=D[F+f]);g!==h&&(T[g]=csFlip(h),D[q+g]=0)}for(0!==G&&(O=K),D[j+h]=W,T[h]=Y,D[0+h]=K-Y,D[R+h]=-2,V=a(V,l,D,q,c),x=Y;x<K;x++)if(!((w=D[R+(f=M[x])])<=0)){var Z=V-($=-D[I+f]);for(Q=T[f],S=T[f]+w-1;Q<=S;Q++)D[q+(g=M[Q])]>=V?D[q+g]-=$:0!==D[q+g]&&(D[q+g]=D[j+g]+Z)}for(x=Y;x<K;x++){for(N=(S=T[f=M[x]])+D[R+f]-1,C=S,E=0,A=0,Q=S;Q<=N;Q++)if(0!==D[q+(g=M[Q])]){var J=D[q+g]-V;J>0?(A+=J,M[C++]=g,E+=g):(T[g]=csFlip(h),D[q+g]=0)}D[R+f]=C-S+1;var X=C,ee=S+D[0+f];for(Q=N+1;Q<ee;Q++){var te=D[I+(m=M[Q])];te<=0||(A+=te,M[C++]=m,E+=m)}0===A?(T[f]=csFlip(h),W-=$=-D[I+f],H+=$,z+=$,D[I+f]=0,D[R+f]=-1):(D[j+f]=Math.min(D[j+f],A),M[C]=M[X],M[X]=M[S],M[S]=h,D[0+f]=C-S+1,E=(E<0?-E:E)%c,D[F+f]=D[B+E],D[B+E]=f,L[f]=E)}for(D[j+h]=W,V=a(V+(l=Math.max(l,W)),l,D,q,c),x=Y;x<K;x++)if(!(D[I+(f=M[x])]>=0))for(f=D[B+(E=L[f])],D[B+E]=-1;-1!==f&&-1!==D[F+f];f=D[F+f],V++){for(b=D[0+f],w=D[R+f],Q=T[f]+1;Q<=T[f]+b-1;Q++)D[q+M[Q]]=V;var re=f;for(m=D[F+f];-1!==m;){var ne=D[0+m]===b&&D[R+m]===w;for(Q=T[m]+1;ne&&Q<=T[m]+b-1;Q++)D[q+M[Q]]!==V&&(ne=0);ne?(T[m]=csFlip(f),D[I+f]+=D[I+m],D[I+m]=0,D[R+m]=-1,m=D[F+m],D[F+re]=m):(re=m,m=D[F+m])}}for(Q=Y,x=Y;x<K;x++)($=-D[I+(f=M[x])])<=0||(D[I+f]=$,A=D[j+f]+W-$,-1!==D[k+(A=Math.min(A,c-z-$))]&&(L[D[k+A]]=f),D[F+f]=D[k+A],L[f]=-1,D[k+A]=f,U=Math.min(U,A),D[j+f]=A,M[Q++]=f);D[I+h]=H,0==(D[0+h]=Q-Y)&&(T[h]=-1,D[q+h]=0),0!==G&&(O=Q)}for(f=0;f<c;f++)T[f]=csFlip(T[f]);for(m=0;m<=c;m++)D[k+m]=-1;for(m=c;m>=0;m--)D[I+m]>0||(D[F+m]=D[k+T[m]],D[k+T[m]]=m);for(g=c;g>=0;g--)D[I+g]<=0||-1!==T[g]&&(D[F+g]=D[k+T[g]],D[k+T[g]]=g);for(h=0,f=0;f<=c;f++)-1===T[f]&&(h=csTdfs(f,h,D,k,F,P,q));return P.splice(P.length-1,1),P};function a(e,t,r,n,a){if(e<2||e+t<0){for(var i=0;i<a;i++)0!==r[n+i]&&(r[n+i]=1);e=2}return e}function i(e,t){return e!==t}}));function csLeaf(e,t,r,n,a,i,o){var s,u,c,l=0;if(e<=t||r[n+t]<=r[a+e])return-1;r[a+e]=r[n+t];var p=r[i+e];if(r[i+e]=t,-1===p)l=1,c=e;else{for(l=2,c=p;c!==r[o+c];c=r[o+c]);for(s=p;s!==c;s=u)u=r[o+s],r[o+s]=c}return{jleaf:l,q:c}}var name$3k="csCounts",dependencies$3m=["transpose"],createCsCounts=factory(name$3k,dependencies$3m,(function(e){var t=e.transpose;return function(e,r,n,a){if(!e||!r||!n)return null;var i,o,s,u,c,l,p,d=e._size,f=d[0],m=d[1],h=4*m+(a?m+f+1:0),_=[],v=m,g=2*m,y=3*m,b=4*m,$=5*m+1;for(s=0;s<h;s++)_[s]=-1;var x=[],w=t(e),S=w._index,N=w._ptr;for(s=0;s<m;s++)for(x[o=n[s]]=-1===_[y+o]?1:0;-1!==o&&-1===_[y+o];o=r[o])_[y+o]=s;if(a){for(s=0;s<m;s++)_[n[s]]=s;for(i=0;i<f;i++){for(s=m,l=N[i],p=N[i+1],c=l;c<p;c++)s=Math.min(s,_[S[c]]);_[$+i]=_[b+s],_[b+s]=i}}for(i=0;i<m;i++)_[0+i]=i;for(s=0;s<m;s++){for(-1!==r[o=n[s]]&&x[r[o]]--,u=a?_[b+s]:o;-1!==u;u=a?_[$+u]:-1)for(c=N[u];c<N[u+1];c++){var C=csLeaf(i=S[c],o,_,y,v,g,0);C.jleaf>=1&&x[o]++,2===C.jleaf&&x[C.q]--}-1!==r[o]&&(_[0+o]=r[o])}for(o=0;o<m;o++)-1!==r[o]&&(x[r[o]]+=x[o]);return x}})),name$3l="csSqr",dependencies$3n=["add","multiply","transpose"],createCsSqr=factory(name$3l,dependencies$3n,(function(e){var t=e.add,r=e.multiply,n=e.transpose,a=createCsAmd({add:t,multiply:r,transpose:n}),i=createCsCounts({transpose:n});return function(e,t,r){var n,o=t._ptr,s=t._size[1],u={};if(u.q=a(e,t),e&&!u.q)return null;if(r){var c=e?csPermute(t,null,u.q,0):t;u.parent=csEtree(c,1);var l=csPost(u.parent,s);if(u.cp=i(c,u.parent,l,1),c&&u.parent&&u.cp&&function(e,t){var r=e._ptr,n=e._index,a=e._size,i=a[0],o=a[1];t.pinv=[],t.leftmost=[];var s,u,c,l,p,d=t.parent,f=t.pinv,m=t.leftmost,h=[],_=i,v=i+o,g=i+2*o;for(u=0;u<o;u++)h[_+u]=-1,h[v+u]=-1,h[g+u]=0;for(s=0;s<i;s++)m[s]=-1;for(u=o-1;u>=0;u--)for(l=r[u],p=r[u+1],c=l;c<p;c++)m[n[c]]=u;for(s=i-1;s>=0;s--)f[s]=-1,-1!==(u=m[s])&&(0==h[g+u]++&&(h[v+u]=s),h[0+s]=h[_+u],h[_+u]=s);for(t.lnz=0,t.m2=i,u=0;u<o;u++)if(s=h[_+u],t.lnz++,s<0&&(s=t.m2++),f[s]=u,!(--g[u]<=0)){t.lnz+=h[g+u];var y=d[u];-1!==y&&(0===h[g+y]&&(h[v+y]=h[v+u]),h[0+h[v+u]]=h[_+y],h[_+y]=h[0+s],h[g+y]+=h[g+u])}for(s=0;s<i;s++)f[s]<0&&(f[s]=u++);return!0}(c,u))for(u.unz=0,n=0;n<s;n++)u.unz+=u.cp[n]}else u.unz=4*o[s]+s,u.lnz=u.unz;return u}}));function csMarked(e,t){return e[t]<0}function csMark(e,t){e[t]=csFlip(e[t])}function csUnflip(e){return e<0?csFlip(e):e}function csDfs(e,t,r,n,a){var i,o,s,u=t._index,c=t._ptr,l=t._size[1],p=0;for(n[0]=e;p>=0;){e=n[p];var d=a?a[e]:e;csMarked(c,e)||(csMark(c,e),n[l+p]=d<0?0:csUnflip(c[d]));var f=1;for(o=n[l+p],s=d<0?0:csUnflip(c[d+1]);o<s;o++)if(!csMarked(c,i=u[o])){n[l+p]=o,n[++p]=i,f=0;break}f&&(p--,n[--r]=e)}return r}function csReach(e,t,r,n,a){var i,o,s,u=e._ptr,c=e._size,l=t._index,p=t._ptr,d=c[1],f=d;for(o=p[r],s=p[r+1],i=o;i<s;i++){var m=l[i];csMarked(u,m)||(f=csDfs(m,e,f,n,a))}for(i=f;i<d;i++)csMark(u,n[i]);return f}var name$3m="csSpsolve",dependencies$3o=["divideScalar","multiply","subtract"],createCsSpsolve=factory(name$3m,dependencies$3o,(function(e){var t=e.divideScalar,r=e.multiply,n=e.subtract;return function(e,a,i,o,s,u,c){var l,p,d,f,m=e._values,h=e._index,_=e._ptr,v=e._size[1],g=a._values,y=a._index,b=a._ptr,$=csReach(e,a,i,o,u);for(l=$;l<v;l++)s[o[l]]=0;for(p=b[i],d=b[i+1],l=p;l<d;l++)s[y[l]]=g[l];for(var x=$;x<v;x++){var w=o[x],S=u?u[w]:w;if(!(S<0))for(p=_[S],d=_[S+1],s[w]=t(s[w],m[c?p:d-1]),l=c?p+1:p,f=c?d:d-1;l<f;l++){var N=h[l];s[N]=n(s[N],r(m[l],s[w]))}}return $}})),name$3n="csLu",dependencies$3p=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],createCsLu=factory(name$3n,dependencies$3p,(function(e){var t=e.abs,r=e.divideScalar,n=e.multiply,a=e.subtract,i=e.larger,o=e.largerEq,s=e.SparseMatrix,u=createCsSpsolve({divideScalar:r,multiply:n,subtract:a});return function(e,a,c){if(!e)return null;var l,p=e._size[1],d=100,f=100;a&&(l=a.q,d=a.lnz||d,f=a.unz||f);var m,h,_=[],v=[],g=[],y=new s({values:_,index:v,ptr:g,size:[p,p]}),b=[],$=[],x=[],w=new s({values:b,index:$,ptr:x,size:[p,p]}),S=[],N=[],C=[];for(m=0;m<p;m++)N[m]=0,S[m]=-1,g[m+1]=0;d=0,f=0;for(var E=0;E<p;E++){g[E]=d,x[E]=f;var A=l?l[E]:E,M=u(y,e,A,C,N,S,1),T=-1,O=-1;for(h=M;h<p;h++)if(S[m=C[h]]<0){var P=t(N[m]);i(P,O)&&(O=P,T=m)}else $[f]=S[m],b[f++]=N[m];if(-1===T||O<=0)return null;S[A]<0&&o(t(N[A]),n(O,c))&&(T=A);var D=N[T];for($[f]=E,b[f++]=D,S[T]=E,v[d]=T,_[d++]=1,h=M;h<p;h++)S[m=C[h]]<0&&(v[d]=m,_[d++]=r(N[m],D)),N[m]=0}for(g[p]=d,x[p]=f,h=0;h<d;h++)v[h]=S[v[h]];return _.splice(d,_.length-d),v.splice(d,v.length-d),b.splice(f,b.length-f),$.splice(f,$.length-f),{L:y,U:w,pinv:S}}})),name$3o="slu",dependencies$3q=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],createSlu=factory(name$3o,dependencies$3q,(function(e){var t=e.typed,r=e.abs,n=e.add,a=e.multiply,i=e.transpose,o=e.divideScalar,s=e.subtract,u=e.larger,c=e.largerEq,l=e.SparseMatrix,p=createCsSqr({add:n,multiply:a,transpose:i}),d=createCsLu({abs:r,divideScalar:o,multiply:a,subtract:s,larger:u,largerEq:c,SparseMatrix:l});return t(name$3o,{"SparseMatrix, number, number":function(e,t,r){if(!isInteger(t)||t<0||t>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(r<0||r>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var n=p(t,e,!1),a=d(e,n,r);return{L:a.L,U:a.U,p:a.pinv,q:n.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}));function csIpvec(e,t){var r,n=t.length,a=[];if(e)for(r=0;r<n;r++)a[e[r]]=t[r];else for(r=0;r<n;r++)a[r]=t[r];return a}var name$3p="lusolve",dependencies$3r=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],createLusolve=factory(name$3p,dependencies$3r,(function(e){var t=e.typed,r=e.matrix,n=e.lup,a=e.slu,i=e.usolve,o=e.lsolve,s=createSolveValidation({DenseMatrix:e.DenseMatrix});return t(name$3p,{"Array, Array | Matrix":function(e,t){e=r(e);var a=n(e);return c(a.L,a.U,a.p,null,t).valueOf()},"DenseMatrix, Array | Matrix":function(e,t){var r=n(e);return c(r.L,r.U,r.p,null,t)},"SparseMatrix, Array | Matrix":function(e,t){var r=n(e);return c(r.L,r.U,r.p,null,t)},"SparseMatrix, Array | Matrix, number, number":function(e,t,r,n){var i=a(e,r,n);return c(i.L,i.U,i.p,i.q,t)},"Object, Array | Matrix":function(e,t){return c(e.L,e.U,e.p,e.q,t)}});function u(e){if(isMatrix(e))return e;if(isArray(e))return r(e);throw new TypeError("Invalid Matrix LU decomposition")}function c(e,t,r,n,a){e=u(e),t=u(t),r&&((a=s(e,a,!0))._data=csIpvec(r,a._data));var c=o(e,a),l=i(t,c);return n&&(l._data=csIpvec(n,l._data)),l}})),name$3q="Help",dependencies$3s=["parse"],createHelpClass=factory(name$3q,dependencies$3s,(function(e){var t=e.parse;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e}return r.prototype.type="Help",r.prototype.isHelp=!0,r.prototype.toString=function(){var e=this.doc||{},r="\n";if(e.name&&(r+="Name: "+e.name+"\n\n"),e.category&&(r+="Category: "+e.category+"\n\n"),e.description&&(r+="Description:\n    "+e.description+"\n\n"),e.syntax&&(r+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){r+="Examples:\n";for(var n={},a=0;a<e.examples.length;a++){var i=e.examples[a];r+="    "+i+"\n";var o=void 0;try{o=t(i).compile().evaluate(n)}catch(e){o=e}void 0===o||isHelp(o)||(r+="        "+format$2(o,{precision:14})+"\n")}r+="\n"}return e.seealso&&e.seealso.length&&(r+="See also: "+e.seealso.join(", ")+"\n"),r},r.prototype.toJSON=function(){var e=clone(this.doc);return e.mathjs="Help",e},r.fromJSON=function(e){var t={};return Object.keys(e).filter((function(e){return"mathjs"!==e})).forEach((function(r){t[r]=e[r]})),new r(t)},r.prototype.valueOf=r.prototype.toString,r}),{isClass:!0}),name$3r="Chain",dependencies$3t=["?on","math"],createChainClass=factory(name$3r,dependencies$3t,(function(e){var t=e.on,r=e.math;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");isChain(e)?this.value=e.value:this.value=e}function a(e,t){lazy(n.prototype,e,(function(){var e=t();if("function"==typeof e)return i(e)}))}function i(e){return function(){for(var t=[this.value],r=0;r<arguments.length;r++)t[r+1]=arguments[r];return new n(e.apply(e,t))}}n.prototype.type="Chain",n.prototype.isChain=!0,n.prototype.done=function(){return this.value},n.prototype.valueOf=function(){return this.value},n.prototype.toString=function(){return format$2(this.value)},n.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},n.fromJSON=function(e){return new n(e.value)},n.createProxy=function(e,t){if("string"==typeof e)!function(e,t){"function"==typeof t&&(n.prototype[e]=i(t))}(e,t);else{var r=function(t){hasOwnProperty(e,t)&&void 0===o[t]&&a(t,(function(){return e[t]}))};for(var s in e)r(s)}};var o={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return n.createProxy(r),t&&t("import",(function(e,t,r){r||a(e,t)})),n}),{isClass:!0}),bignumberDocs={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},typeOfDocs={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},isZeroDocs={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},isPrimeDocs={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPositiveDocs={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isNumericDocs={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValueDocs={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isNegativeDocs={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isIntegerDocs={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNaNDocs={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},formatDocs={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},binDocs={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},octDocs={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hexDocs={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},cloneDocs={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},toDocs={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},tanhDocs={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},tanDocs={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},sinhDocs={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},sechDocs={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},secDocs={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},cschDocs={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},cscDocs={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},cothDocs={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},cotDocs={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coshDocs={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cosDocs={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},atan2Docs={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},atanhDocs={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atanDocs={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},asinhDocs={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},asinDocs={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asechDocs={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asecDocs={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},acschDocs={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},acscDocs={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acothDocs={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acotDocs={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoshDocs={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acosDocs={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},sumDocs={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},stdDocs={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},quantileSeqDocs={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},prodDocs={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},modeDocs={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},minDocs={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},medianDocs={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},meanDocs={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},maxDocs={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},madDocs={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},erfDocs={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},setUnionDocs={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},setSymDifferenceDocs={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setSizeDocs={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setPowersetDocs={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setMultiplicityDocs={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setIsSubsetDocs={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setIntersectDocs={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setDistinctDocs={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setDifferenceDocs={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setCartesianDocs={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},unequalDocs={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},smallerEqDocs={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},smallerDocs={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},largerEqDocs={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},largerDocs={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},equalTextDocs={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},equalDocs={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},deepEqualDocs={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},compareTextDocs={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},compareNaturalDocs={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareDocs={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},randomIntDocs={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},randomDocs={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},pickRandomDocs={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},permutationsDocs={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},multinomialDocs={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},kldivergenceDocs={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},gammaDocs={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},factorialDocs={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},combinationsDocs={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRepDocs={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},zerosDocs={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},transposeDocs={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},traceDocs={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},subsetDocs={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},squeezeDocs={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},sortDocs={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},sizeDocs={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},diffDocs={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["diff([1, 2, 4, 7, 0])","diff([1, 2, 4, 7, 0], 0)","diff(matrix([1, 2, 4, 7, 0]))","diff([[1, 2], [3, 4]])","diff([[1, 2], [3, 4]], 0)","diff([[1, 2], [3, 4]], 1)","diff([[1, 2], [3, 4]], bignumber(1))","diff(matrix([[1, 2], [3, 4]]), 1)","diff([[1, 2], matrix([3, 4])], 1)"],seealso:["subtract","partitionSelect"]},reshapeDocs={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]},resizeDocs={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},rangeDocs={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},partitionSelectDocs={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]},onesDocs={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},mapDocs={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},kronDocs={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},invDocs={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},forEachDocs={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]},flattenDocs={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},filterDocs={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},identityDocs={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},getMatrixDataTypeDocs={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},dotDocs={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},diagDocs={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},detDocs={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},ctransposeDocs={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},crossDocs={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},concatDocs={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},xorDocs={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},orDocs={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},notDocs={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},andDocs={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},intersectDocs={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},distanceDocs={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},helpDocs={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},evaluateDocs={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(" + 4 + ")")'],seealso:[]},imDocs={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},reDocs={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},conjDocs={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},argDocs={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},typedDocs={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]},importDocs={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},configDocs={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},stirlingS2Docs={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},compositionDocs={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},catalanDocs={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},bellNumbersDocs={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},rightLogShiftDocs={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},rightArithShiftDocs={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},leftShiftDocs={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},bitXorDocs={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},bitOrDocs={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNotDocs={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitAndDocs={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},xgcdDocs={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},unaryPlusDocs={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},unaryMinusDocs={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},squareDocs={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},sqrtmDocs={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]},sqrtDocs={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},signDocs={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},roundDocs={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},powDocs={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},nthRootsDocs={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},nthRootDocs={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},normDocs={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},multiplyDocs={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},modDocs={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},log10Docs={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},log1pDocs={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log2Docs={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},logDocs={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},lcmDocs={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},hypotDocs={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},gcdDocs={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},floorDocs={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},fixDocs={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},expm1Docs={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},expmDocs={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},eigsDocs={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]},expDocs={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},dotMultiplyDocs={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotDivideDocs={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},divideDocs={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},cubeDocs={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},ceilDocs={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},cbrtDocs={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},addDocs={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},absDocs={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},qrDocs={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},usolveDocs={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAllDocs={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},sluDocs={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},rationalizeDocs={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},simplifyDocs={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["derivative","parse","evaluate"]},lupDocs={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lsolveDocs={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAllDocs={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},derivativeDocs={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},versionDocs={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},trueDocs={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},tauDocs={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},SQRT2Docs={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},SQRT12Docs={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},phiDocs={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},piDocs={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},nullDocs={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},NaNDocs={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},LOG10EDocs={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},LOG2EDocs={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LN10Docs={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LN2Docs={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},InfinityDocs={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},iDocs={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},falseDocs={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},eDocs={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},unitDocs={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},stringDocs={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},splitUnitDocs={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},sparseDocs={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},numberDocs={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},matrixDocs={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},indexDocs={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},fractionDocs={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},createUnitDocs={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},complexDocs={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},booleanDocs={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},dotPowDocs={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},lusolveDocs={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},subtractDocs={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},varianceDocs={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},sinDocs={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},numericDocs={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction)','numeric(4, "Fraction")','numeric(fraction(2, 5), "number)'],seealso:["number","fraction","bignumber","string","format"]},columnDocs={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row"]},rowDocs={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column"]},embeddedDocs={bignumber:bignumberDocs,boolean:booleanDocs,complex:complexDocs,createUnit:createUnitDocs,fraction:fractionDocs,index:indexDocs,matrix:matrixDocs,number:numberDocs,sparse:sparseDocs,splitUnit:splitUnitDocs,string:stringDocs,unit:unitDocs,e:eDocs,E:eDocs,false:falseDocs,i:iDocs,Infinity:InfinityDocs,LN2:LN2Docs,LN10:LN10Docs,LOG2E:LOG2EDocs,LOG10E:LOG10EDocs,NaN:NaNDocs,null:nullDocs,pi:piDocs,PI:piDocs,phi:phiDocs,SQRT1_2:SQRT12Docs,SQRT2:SQRT2Docs,tau:tauDocs,true:trueDocs,version:versionDocs,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:derivativeDocs,lsolve:lsolveDocs,lsolveAll:lsolveAllDocs,lup:lupDocs,lusolve:lusolveDocs,simplify:simplifyDocs,rationalize:rationalizeDocs,slu:sluDocs,usolve:usolveDocs,usolveAll:usolveAllDocs,qr:qrDocs,abs:absDocs,add:addDocs,cbrt:cbrtDocs,ceil:ceilDocs,cube:cubeDocs,divide:divideDocs,dotDivide:dotDivideDocs,dotMultiply:dotMultiplyDocs,dotPow:dotPowDocs,exp:expDocs,expm:expmDocs,expm1:expm1Docs,fix:fixDocs,floor:floorDocs,gcd:gcdDocs,hypot:hypotDocs,lcm:lcmDocs,log:logDocs,log2:log2Docs,log1p:log1pDocs,log10:log10Docs,mod:modDocs,multiply:multiplyDocs,norm:normDocs,nthRoot:nthRootDocs,nthRoots:nthRootsDocs,pow:powDocs,round:roundDocs,sign:signDocs,sqrt:sqrtDocs,sqrtm:sqrtmDocs,square:squareDocs,subtract:subtractDocs,unaryMinus:unaryMinusDocs,unaryPlus:unaryPlusDocs,xgcd:xgcdDocs,bitAnd:bitAndDocs,bitNot:bitNotDocs,bitOr:bitOrDocs,bitXor:bitXorDocs,leftShift:leftShiftDocs,rightArithShift:rightArithShiftDocs,rightLogShift:rightLogShiftDocs,bellNumbers:bellNumbersDocs,catalan:catalanDocs,composition:compositionDocs,stirlingS2:stirlingS2Docs,config:configDocs,import:importDocs,typed:typedDocs,arg:argDocs,conj:conjDocs,re:reDocs,im:imDocs,evaluate:evaluateDocs,help:helpDocs,distance:distanceDocs,intersect:intersectDocs,and:andDocs,not:notDocs,or:orDocs,xor:xorDocs,concat:concatDocs,cross:crossDocs,column:columnDocs,ctranspose:ctransposeDocs,det:detDocs,diag:diagDocs,diff:diffDocs,dot:dotDocs,getMatrixDataType:getMatrixDataTypeDocs,identity:identityDocs,filter:filterDocs,flatten:flattenDocs,forEach:forEachDocs,inv:invDocs,eigs:eigsDocs,kron:kronDocs,map:mapDocs,ones:onesDocs,partitionSelect:partitionSelectDocs,range:rangeDocs,resize:resizeDocs,reshape:reshapeDocs,row:rowDocs,size:sizeDocs,sort:sortDocs,squeeze:squeezeDocs,subset:subsetDocs,trace:traceDocs,transpose:transposeDocs,zeros:zerosDocs,combinations:combinationsDocs,combinationsWithRep:combinationsWithRepDocs,factorial:factorialDocs,gamma:gammaDocs,kldivergence:kldivergenceDocs,multinomial:multinomialDocs,permutations:permutationsDocs,pickRandom:pickRandomDocs,random:randomDocs,randomInt:randomIntDocs,compare:compareDocs,compareNatural:compareNaturalDocs,compareText:compareTextDocs,deepEqual:deepEqualDocs,equal:equalDocs,equalText:equalTextDocs,larger:largerDocs,largerEq:largerEqDocs,smaller:smallerDocs,smallerEq:smallerEqDocs,unequal:unequalDocs,setCartesian:setCartesianDocs,setDifference:setDifferenceDocs,setDistinct:setDistinctDocs,setIntersect:setIntersectDocs,setIsSubset:setIsSubsetDocs,setMultiplicity:setMultiplicityDocs,setPowerset:setPowersetDocs,setSize:setSizeDocs,setSymDifference:setSymDifferenceDocs,setUnion:setUnionDocs,erf:erfDocs,mad:madDocs,max:maxDocs,mean:meanDocs,median:medianDocs,min:minDocs,mode:modeDocs,prod:prodDocs,quantileSeq:quantileSeqDocs,std:stdDocs,sum:sumDocs,variance:varianceDocs,acos:acosDocs,acosh:acoshDocs,acot:acotDocs,acoth:acothDocs,acsc:acscDocs,acsch:acschDocs,asec:asecDocs,asech:asechDocs,asin:asinDocs,asinh:asinhDocs,atan:atanDocs,atanh:atanhDocs,atan2:atan2Docs,cos:cosDocs,cosh:coshDocs,cot:cotDocs,coth:cothDocs,csc:cscDocs,csch:cschDocs,sec:secDocs,sech:sechDocs,sin:sinDocs,sinh:sinhDocs,tan:tanDocs,tanh:tanhDocs,to:toDocs,clone:cloneDocs,format:formatDocs,bin:binDocs,oct:octDocs,hex:hexDocs,isNaN:isNaNDocs,isInteger:isIntegerDocs,isNegative:isNegativeDocs,isNumeric:isNumericDocs,hasNumericValue:hasNumericValueDocs,isPositive:isPositiveDocs,isPrime:isPrimeDocs,isZero:isZeroDocs,typeOf:typeOfDocs,numeric:numericDocs},name$3s="help",dependencies$3u=["typed","mathWithTransform","Help"],createHelp=factory(name$3s,dependencies$3u,(function(e){var t=e.typed,r=e.mathWithTransform,n=e.Help;return t(name$3s,{any:function(e){var t,a=e;if("string"!=typeof e)for(t in r)if(hasOwnProperty(r,t)&&e===r[t]){a=t;break}var i=getSafeProperty(embeddedDocs,a);if(!i){var o="function"==typeof a?a.name:a;throw new Error('No documentation found on "'+o+'"')}return new n(i)}})})),name$3t="chain",dependencies$3v=["typed","Chain"],createChain=factory(name$3t,dependencies$3v,(function(e){var t=e.typed,r=e.Chain;return t(name$3t,{"":function(){return new r},any:function(e){return new r(e)}})})),name$3u="det",dependencies$3w=["typed","matrix","subtract","multiply","unaryMinus","lup"],createDet=factory(name$3u,dependencies$3w,(function(e){var t=e.typed,r=e.matrix,n=e.subtract,a=e.multiply,i=e.unaryMinus,o=e.lup;return t(name$3u,{any:function(e){return clone(e)},"Array | Matrix":function(e){var t;switch((t=isMatrix(e)?e.size():Array.isArray(e)?(e=r(e)).size():[]).length){case 0:return clone(e);case 1:if(1===t[0])return clone(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+format$2(t)+")");case 2:var s=t[0];if(s===t[1])return function(e,t,r){if(1===t)return clone(e[0][0]);if(2===t)return n(a(e[0][0],e[1][1]),a(e[1][0],e[0][1]));for(var s=o(e),u=s.U[0][0],c=1;c<t;c++)u=a(u,s.U[c][c]);for(var l=0,p=0,d=[];;){for(;d[p];)p++;if(p>=t)break;for(var f=p,m=0;!d[s.p[f]];)d[s.p[f]]=!0,f=s.p[f],m++;m%2==0&&l++}return l%2==0?u:i(u)}(e.clone().valueOf(),s);throw new RangeError("Matrix must be square (size: "+format$2(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+format$2(t)+")")}}})})),name$3v="inv",dependencies$3x=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],createInv=factory(name$3v,dependencies$3x,(function(e){var t=e.typed,r=e.matrix,n=e.divideScalar,a=e.addScalar,i=e.multiply,o=e.unaryMinus,s=e.det,u=e.identity,c=e.abs;return t(name$3v,{"Array | Matrix":function(e){var t=isMatrix(e)?e.size():arraySize(e);switch(t.length){case 1:if(1===t[0])return isMatrix(e)?r([n(1,e.valueOf()[0])]):[n(1,e[0])];throw new RangeError("Matrix must be square (size: "+format$2(t)+")");case 2:var a=t[0],i=t[1];if(a===i)return isMatrix(e)?r(l(e.valueOf(),a,i),e.storage()):l(e,a,i);throw new RangeError("Matrix must be square (size: "+format$2(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+format$2(t)+")")}},any:function(e){return n(1,e)}});function l(e,t,r){var l,p,d,f,m;if(1===t){if(0===(f=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,f)]]}if(2===t){var h=s(e);if(0===h)throw Error("Cannot calculate inverse, determinant is zero");return[[n(e[1][1],h),n(o(e[0][1]),h)],[n(o(e[1][0]),h),n(e[0][0],h)]]}var _=e.concat();for(l=0;l<t;l++)_[l]=_[l].concat();for(var v=u(t).valueOf(),g=0;g<r;g++){var y=c(_[g][g]),b=g;for(l=g+1;l<t;)c(_[l][g])>y&&(y=c(_[l][g]),b=l),l++;if(0===y)throw Error("Cannot calculate inverse, determinant is zero");(l=b)!==g&&(m=_[g],_[g]=_[l],_[l]=m,m=v[g],v[g]=v[l],v[l]=m);var $=_[g],x=v[g];for(l=0;l<t;l++){var w=_[l],S=v[l];if(l!==g){if(0!==w[g]){for(d=n(o(w[g]),$[g]),p=g;p<r;p++)w[p]=a(w[p],i(d,$[p]));for(p=0;p<r;p++)S[p]=a(S[p],i(d,x[p]))}}else{for(d=$[g],p=g;p<r;p++)w[p]=n(w[p],d);for(p=0;p<r;p++)S[p]=n(S[p],d)}}}return v}})),name$3w="eigs",dependencies$3y=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","inv","bignumber","multiply","add"],createEigs=factory(name$3w,dependencies$3y,(function(e){var t=e.config,r=e.typed,n=e.matrix,a=e.addScalar,i=e.subtract,o=e.equal,s=e.abs,u=e.atan,c=e.cos,l=e.sin,p=e.multiplyScalar,d=e.inv,f=e.bignumber,m=e.multiply,h=e.add;return r("eigs",{Array:function(e){var t=n(e),r=t.size();if(2!==r.length||r[0]!==r[1])throw new RangeError("Matrix must be square (size: "+format$2(r)+")");var a=_(t,r[0]);return{values:a[0],vectors:a[1]}},Matrix:function(e){var t=e.size();if(2!==t.length||t[0]!==t[1])throw new RangeError("Matrix must be square (size: "+format$2(t)+")");var r=_(e,t[0]);return{values:n(r[0]),vectors:n(r[1])}}});function _(e,r){var n=e.datatype();if(void 0===n&&(n=e.getDataType()),"number"!==n&&"BigNumber"!==n&&"Fraction"!==n)throw"mixed"===n?new TypeError("Mixed matrix element type is not supported"):new TypeError("Matrix element type not supported ("+n+")");if(function(e,t){for(var r=0;r<t;r++)for(var n=r;n<t;n++)if(!o(e[r][n],e[n][r]))throw new TypeError("Input matrix is not symmetric")}(e.toArray(),r),"number"===n)return v(e.toArray());if("Fraction"===n){for(var a=e.toArray(),i=0;i<r;i++)for(var u=i;u<r;u++)a[i][u]=a[i][u].valueOf(),a[u][i]=a[i][u];return v(e.toArray())}return"BigNumber"===n?function(e){for(var r,n=e.length,a=s(t.epsilon/n),i=new Array(n),o=0;o<n;o++)i[o]=E(n,0),i[o][o]=1;var u=N(e);for(;s(u[1])>=s(a);){var c=u[0][0],l=u[0][1];r=y(e[c][c],e[l][l],e[c][l]),e=x(e,r,c,l),i=$(i,r,c,l),u=N(e)}for(var p=E(n,0),d=0;d<n;d++)p[d]=e[d][d];return C(clone(p),clone(i))}(e.toArray()):void 0}function v(e){for(var r,n=e.length,a=Math.abs(t.epsilon/n),i=new Array(n),o=0;o<n;o++)i[o]=E(n,0),i[o][o]=1;for(var s=S(e);Math.abs(s[1])>=Math.abs(a);){var u=s[0][0],c=s[0][1];e=w(e,r=g(e[u][u],e[c][c],e[u][c]),u,c),i=b(i,r,u,c),s=S(e)}for(var l=E(n,0),p=0;p<n;p++)l[p]=e[p][p];return C(clone(l),clone(i))}function g(e,r,n){var a=r-e;return Math.abs(a)<=t.epsilon?Math.PI/4:.5*Math.atan(2*n/(r-e))}function y(e,r,n){var a=i(r,e);return s(a)<=t.epsilon?f(-1).acos().div(4):p(.5,u(m(2,n,d(a))))}function b(e,t,r,n){for(var a=e.length,i=Math.cos(t),o=Math.sin(t),s=E(a,0),u=E(a,0),c=0;c<a;c++)s[c]=i*e[c][r]-o*e[c][n],u[c]=o*e[c][r]+i*e[c][n];for(var l=0;l<a;l++)e[l][r]=s[l],e[l][n]=u[l];return e}function $(e,t,r,n){for(var o=e.length,s=c(t),u=l(t),d=E(o,f(0)),m=E(o,f(0)),h=0;h<o;h++)d[h]=i(p(s,e[h][r]),p(u,e[h][n])),m[h]=a(p(u,e[h][r]),p(s,e[h][n]));for(var _=0;_<o;_++)e[_][r]=d[_],e[_][n]=m[_];return e}function x(e,t,r,n){for(var o=e.length,s=f(c(t)),u=f(l(t)),d=p(s,s),_=p(u,u),v=E(o,f(0)),g=E(o,f(0)),y=m(f(2),s,u,e[r][n]),b=a(i(p(d,e[r][r]),y),p(_,e[n][n])),$=h(p(_,e[r][r]),y,p(d,e[n][n])),x=0;x<o;x++)v[x]=i(p(s,e[r][x]),p(u,e[n][x])),g[x]=a(p(u,e[r][x]),p(s,e[n][x]));e[r][r]=b,e[n][n]=$,e[r][n]=f(0),e[n][r]=f(0);for(var w=0;w<o;w++)w!==r&&w!==n&&(e[r][w]=v[w],e[w][r]=v[w],e[n][w]=g[w],e[w][n]=g[w]);return e}function w(e,t,r,n){for(var a=e.length,i=Math.cos(t),o=Math.sin(t),s=i*i,u=o*o,c=E(a,0),l=E(a,0),p=s*e[r][r]-2*i*o*e[r][n]+u*e[n][n],d=u*e[r][r]+2*i*o*e[r][n]+s*e[n][n],f=0;f<a;f++)c[f]=i*e[r][f]-o*e[n][f],l[f]=o*e[r][f]+i*e[n][f];e[r][r]=p,e[n][n]=d,e[r][n]=0,e[n][r]=0;for(var m=0;m<a;m++)m!==r&&m!==n&&(e[r][m]=c[m],e[m][r]=c[m],e[n][m]=l[m],e[m][n]=l[m]);return e}function S(e){for(var t=e.length,r=0,n=[0,1],a=0;a<t;a++)for(var i=a+1;i<t;i++)Math.abs(r)<Math.abs(e[a][i])&&(r=Math.abs(e[a][i]),n=[a,i]);return[n,r]}function N(e){for(var t=e.length,r=0,n=[0,1],a=0;a<t;a++)for(var i=a+1;i<t;i++)s(r)<s(e[a][i])&&(r=s(e[a][i]),n=[a,i]);return[n,r]}function C(e,t){for(var r=e.length,n=Array(r),a=Array(r),i=0;i<r;i++)a[i]=Array(r);for(var o=0;o<r;o++){for(var s=0,u=e[0],c=0;c<e.length;c++)e[c]<u&&(u=e[s=c]);n[o]=e.splice(s,1)[0];for(var l=0;l<r;l++)a[l][o]=t[l][s],t[l].splice(s,1)}return[clone(n),clone(a)]}function E(e,t){for(var r=new Array(e),n=0;n<e;n++)r[n]=t;return r}})),name$3x="expm",dependencies$3z=["typed","abs","add","identity","inv","multiply"],createExpm=factory(name$3x,dependencies$3z,(function(e){var t=e.typed,r=e.abs,n=e.add,a=e.identity,i=e.inv,o=e.multiply;return t(name$3x,{Matrix:function(e){var t=e.size();if(2!==t.length||t[0]!==t[1])throw new RangeError("Matrix must be square (size: "+format$2(t)+")");for(var u=t[0],c=function(e,t){for(var r=0;r<30;r++)for(var n=0;n<=r;n++){var a=r-n;if(s(e,n,a)<t)return{q:n,j:a}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(function(e){for(var t=e.size()[0],n=0,a=0;a<t;a++){for(var i=0,o=0;o<t;o++)i+=r(e.get([a,o]));n=Math.max(i,n)}return n}(e),1e-15),l=c.q,p=c.j,d=o(e,Math.pow(2,-p)),f=a(u),m=a(u),h=1,_=d,v=-1,g=1;g<=l;g++)g>1&&(_=o(_,d),v=-v),f=n(f,o(h=h*(l-g+1)/((2*l-g+1)*g),_)),m=n(m,o(h*v,_));for(var y=o(i(m),f),b=0;b<p;b++)y=o(y,y);return isSparseMatrix(e)?e.createSparseMatrix(y):y}});function s(e,t,r){for(var n=1,a=2;a<=t;a++)n*=a;for(var i=n,o=t+1;o<=2*t;o++)i*=o;var s=i*(2*t+1);return 8*Math.pow(e/Math.pow(2,r),2*t)*n*n/(i*s)}})),name$3y="sqrtm",dependencies$3A=["typed","abs","add","multiply","sqrt","subtract","inv","size","max","identity"],createSqrtm=factory(name$3y,dependencies$3A,(function(e){var t=e.typed,r=e.abs,n=e.add,a=e.multiply,i=e.sqrt,o=e.subtract,s=e.inv,u=e.size,c=e.max,l=e.identity,p=1e3,d=1e-6;function f(e){var t,i=0,f=e,m=l(u(e));do{var h=f;if(f=a(.5,n(h,s(m))),m=a(.5,n(m,s(h))),(t=c(r(o(f,h))))>d&&++i>p)throw new Error("computing square root of matrix: iterative method could not converge")}while(t>d);return f}return t(name$3y,{"Array | Matrix":function(e){var t=isMatrix(e)?e.size():arraySize(e);switch(t.length){case 1:if(1===t[0])return i(e);throw new RangeError("Matrix must be square (size: "+format$2(t)+")");case 2:if(t[0]===t[1])return f(e);throw new RangeError("Matrix must be square (size: "+format$2(t)+")")}}})})),name$3z="divide",dependencies$3B=["typed","matrix","multiply","equalScalar","divideScalar","inv"],createDivide=factory(name$3z,dependencies$3B,(function(e){var t=e.typed,r=e.matrix,n=e.multiply,a=e.equalScalar,i=e.divideScalar,o=e.inv,s=createAlgorithm11({typed:t,equalScalar:a}),u=createAlgorithm14({typed:t});return t("divide",extend({"Array | Matrix, Array | Matrix":function(e,t){return n(e,o(t))},"DenseMatrix, any":function(e,t){return u(e,t,i,!1)},"SparseMatrix, any":function(e,t){return s(e,t,i,!1)},"Array, any":function(e,t){return u(r(e),t,i,!1).valueOf()},"any, Array | Matrix":function(e,t){return n(e,o(t))}},i.signatures))})),name$3A="distance",dependencies$3C=["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],createDistance=factory(name$3A,dependencies$3C,(function(e){var t=e.typed,r=e.addScalar,n=e.subtract,a=e.multiplyScalar,i=e.divideScalar,o=e.unaryMinus,s=e.sqrt,u=e.abs;return t(name$3A,{"Array, Array, Array":function(e,t,r){if(2===e.length&&2===t.length&&2===r.length){if(!l(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!l(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!l(r))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var s=i(n(r[1],r[0]),n(t[1],t[0])),u=a(a(s,s),t[0]),c=o(a(s,t[0])),p=e[1];return h(e[0],e[1],u,c,p)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(e,t,r){if(2===Object.keys(e).length&&2===Object.keys(t).length&&2===Object.keys(r).length){if(!l(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!l(t))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!l(r))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"lineOnePtX"in t&&"lineOnePtY"in t&&"lineTwoPtX"in r&&"lineTwoPtY"in r){var s=i(n(r.lineTwoPtY,r.lineTwoPtX),n(t.lineOnePtY,t.lineOnePtX)),u=a(a(s,s),t.lineOnePtX),c=o(a(s,t.lineOnePtX)),p=e.pointX;return h(e.pointX,e.pointY,u,c,p)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(e,t){if(2===e.length&&3===t.length){if(!l(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!p(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return h(e[0],e[1],t[0],t[1],t[2])}if(3===e.length&&6===t.length){if(!p(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!f(t))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return _(e[0],e[1],e[2],t[0],t[1],t[2],t[3],t[4],t[5])}if(e.length===t.length&&e.length>0){if(!d(e))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!d(t))throw new TypeError("All values of an array should be numbers or BigNumbers");return v(e,t)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(e,t){if(2===Object.keys(e).length&&3===Object.keys(t).length){if(!l(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!p(t))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"xCoeffLine"in t&&"yCoeffLine"in t&&"constant"in t)return h(e.pointX,e.pointY,t.xCoeffLine,t.yCoeffLine,t.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&6===Object.keys(t).length){if(!p(e))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!f(t))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"x0"in t&&"y0"in t&&"z0"in t&&"a"in t&&"b"in t&&"c"in t)return _(e.pointX,e.pointY,e.pointZ,t.x0,t.y0,t.z0,t.a,t.b,t.c);throw new TypeError("Key names do not match")}if(2===Object.keys(e).length&&2===Object.keys(t).length){if(!l(e))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!l(t))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointTwoX"in t&&"pointTwoY"in t)return v([e.pointOneX,e.pointOneY],[t.pointTwoX,t.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&3===Object.keys(t).length){if(!p(e))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!p(t))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointOneZ"in e&&"pointTwoX"in t&&"pointTwoY"in t&&"pointTwoZ"in t)return v([e.pointOneX,e.pointOneY,e.pointOneZ],[t.pointTwoX,t.pointTwoY,t.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(e){if(!function(e){if(2===e[0].length&&c(e[0][0])&&c(e[0][1])){if(e.some((function(e){return 2!==e.length||!c(e[0])||!c(e[1])})))return!1}else{if(!(3===e[0].length&&c(e[0][0])&&c(e[0][1])&&c(e[0][2])))return!1;if(e.some((function(e){return 3!==e.length||!c(e[0])||!c(e[1])||!c(e[2])})))return!1}return!0}(e))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(e){for(var t=[],r=[],n=[],a=0;a<e.length-1;a++)for(var i=a+1;i<e.length;i++)2===e[0].length?(r=[e[a][0],e[a][1]],n=[e[i][0],e[i][1]]):3===e[0].length&&(r=[e[a][0],e[a][1],e[a][2]],n=[e[i][0],e[i][1],e[i][2]]),t.push(v(r,n));return t}(e)}});function c(e){return"number"==typeof e||isBigNumber(e)}function l(e){return e.constructor!==Array&&(e=m(e)),c(e[0])&&c(e[1])}function p(e){return e.constructor!==Array&&(e=m(e)),c(e[0])&&c(e[1])&&c(e[2])}function d(e){return Array.isArray(e)||(e=m(e)),e.every(c)}function f(e){return e.constructor!==Array&&(e=m(e)),c(e[0])&&c(e[1])&&c(e[2])&&c(e[3])&&c(e[4])&&c(e[5])}function m(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;n++)r.push(e[t[n]]);return r}function h(e,t,n,o,c){var l=u(r(r(a(n,e),a(o,t)),c)),p=s(r(a(n,n),a(o,o)));return i(l,p)}function _(e,t,o,u,c,l,p,d,f){var m=[n(a(n(c,t),f),a(n(l,o),d)),n(a(n(l,o),p),a(n(u,e),f)),n(a(n(u,e),d),a(n(c,t),p))];m=s(r(r(a(m[0],m[0]),a(m[1],m[1])),a(m[2],m[2])));var h=s(r(r(a(p,p),a(d,d)),a(f,f)));return i(m,h)}function v(e,t){for(var i=e.length,o=0,u=0,c=0;c<i;c++)u=n(e[c],t[c]),o=r(a(u,u),o);return s(o)}})),name$3B="intersect",dependencies$3D=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar"],createIntersect=factory(name$3B,dependencies$3D,(function(e){var t=e.typed,r=e.config,n=e.abs,a=e.add,i=e.addScalar,o=e.matrix,s=e.multiply,u=e.multiplyScalar,c=e.divideScalar,l=e.subtract,p=e.smaller,d=e.equalScalar;return t("intersect",{"Array, Array, Array":function(e,t,r){if(!h(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!h(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function(e){return 4===e.length&&f(e[0])&&f(e[1])&&f(e[2])&&f(e[3])}(r))throw new TypeError("Array with 4 numbers expected as third argument");return function(e,t,r,n,a,o,s,p,d,f){var m=u(e,s),h=u(n,s),_=u(t,p),v=u(a,p),g=u(r,d),y=u(o,d),b=c(l(l(l(f,m),_),g),l(l(l(i(i(h,v),y),m),_),g)),$=i(e,u(b,l(n,e))),x=i(t,u(b,l(a,t))),w=i(r,u(b,l(o,r)));return[$,x,w]}(e[0],e[1],e[2],t[0],t[1],t[2],r[0],r[1],r[2],r[3])},"Array, Array, Array, Array":function(e,t,o,f){if(2===e.length){if(!m(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!m(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!m(o))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!m(f))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(e,t,o,d){var f=e,m=o,h=l(f,t),_=l(m,d),v=l(u(h[0],_[1]),u(_[0],h[1]));if(p(n(v),r.epsilon))return null;var g=u(_[0],f[1]),y=u(_[1],f[0]),b=u(_[0],m[1]),$=u(_[1],m[0]),x=c(i(l(l(g,y),b),$),v);return a(s(h,x),f)}(e,t,o,f)}if(3===e.length){if(!h(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!h(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!h(o))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!h(f))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return v=e[0],g=e[1],y=e[2],b=t[0],$=t[1],x=t[2],w=o[0],S=o[1],N=o[2],C=f[0],E=f[1],A=f[2],M=_(v,w,C,w,g,S,E,S,y,N,A,N),T=_(C,w,b,v,E,S,$,g,A,N,x,y),O=_(v,w,b,v,g,S,$,g,y,N,x,y),P=_(C,w,C,w,E,S,E,S,A,N,A,N),D=_(b,v,b,v,$,g,$,g,x,y,x,y),I=c(l(u(M,T),u(O,P)),l(u(D,P),u(T,T))),F=c(i(M,u(I,T)),P),k=i(v,u(I,l(b,v))),R=i(g,u(I,l($,g))),j=i(y,u(I,l(x,y))),q=i(w,u(F,l(C,w))),B=i(S,u(F,l(E,S))),L=i(N,u(F,l(A,N))),d(k,q)&&d(R,B)&&d(j,L)?[k,R,j]:null}throw new TypeError("Arrays with two or thee dimensional points expected");var v,g,y,b,$,x,w,S,N,C,E,A,M,T,O,P,D,I,F,k,R,j,q,B,L},"Matrix, Matrix, Matrix":function(e,t,r){return o(this(e.valueOf(),t.valueOf(),r.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(e,t,r,n){return o(this(e.valueOf(),t.valueOf(),r.valueOf(),n.valueOf()))}});function f(e){return"number"==typeof e||isBigNumber(e)}function m(e){return 2===e.length&&f(e[0])&&f(e[1])}function h(e){return 3===e.length&&f(e[0])&&f(e[1])&&f(e[2])}function _(e,t,r,n,a,o,s,c,p,d,f,m){var h=u(l(e,t),l(r,n)),_=u(l(a,o),l(s,c)),v=u(l(p,d),l(f,m));return i(i(h,_),v)}})),name$3C="sum",dependencies$3E=["typed","config","add","numeric"],createSum=factory(name$3C,dependencies$3E,(function(e){var t=e.typed,r=e.config,n=e.add,a=e.numeric;return t(name$3C,{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(e,t){try{return reduce(e,t,n)}catch(e){throw improveErrorMessage(e,"sum")}},"...":function(e){if(containsCollections(e))throw new TypeError("Scalar values expected in function sum");return i(e)}});function i(e){var t;return deepForEach(e,(function(e){try{t=void 0===t?e:n(t,e)}catch(t){throw improveErrorMessage(t,"sum",e)}})),void 0===t&&(t=a(0,r.number)),"string"==typeof t&&(t=a(t,r.number)),t}})),name$3D="mean",dependencies$3F=["typed","add","divide"],createMean=factory(name$3D,dependencies$3F,(function(e){var t=e.typed,r=e.add,n=e.divide;return t(name$3D,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(e,t){try{var a=reduce(e,t,r),i=Array.isArray(e)?arraySize(e):e.size();return n(a,i[t])}catch(e){throw improveErrorMessage(e,"mean")}},"...":function(e){if(containsCollections(e))throw new TypeError("Scalar values expected in function mean");return a(e)}});function a(e){var t,a=0;if(deepForEach(e,(function(e){try{t=void 0===t?e:r(t,e),a++}catch(t){throw improveErrorMessage(t,"mean",e)}})),0===a)throw new Error("Cannot calculate the mean of an empty array");return n(t,a)}})),name$3E="median",dependencies$3G=["typed","add","divide","compare","partitionSelect"],createMedian=factory(name$3E,dependencies$3G,(function(e){var t=e.typed,r=e.add,n=e.divide,a=e.compare,i=e.partitionSelect;function o(e){try{var t=(e=flatten(e.valueOf())).length;if(0===t)throw new Error("Cannot calculate median of an empty array");if(t%2==0){for(var r=t/2-1,n=i(e,r+1),o=e[r],c=0;c<r;++c)a(e[c],o)>0&&(o=e[c]);return u(o,n)}var l=i(e,(t-1)/2);return s(l)}catch(e){throw improveErrorMessage(e,"median")}}var s=t({"number | BigNumber | Complex | Unit":function(e){return e}}),u=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,t){return n(r(e,t),2)}});return t(name$3E,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("median(A, dim) is not yet supported")},"...":function(e){if(containsCollections(e))throw new TypeError("Scalar values expected in function median");return o(e)}})})),name$3F="mad",dependencies$3H=["typed","abs","map","median","subtract"],createMad=factory(name$3F,dependencies$3H,(function(e){var t=e.typed,r=e.abs,n=e.map,a=e.median,i=e.subtract;return t(name$3F,{"Array | Matrix":o,"...":function(e){return o(e)}});function o(e){if(0===(e=flatten(e.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var t=a(e);return a(n(e,(function(e){return r(i(e,t))})))}catch(e){throw e instanceof TypeError&&-1!==e.message.indexOf("median")?new TypeError(e.message.replace("median","mad")):improveErrorMessage(e,"mad")}}})),DEFAULT_NORMALIZATION="unbiased",name$3G="variance",dependencies$3I=["typed","add","subtract","multiply","divide","apply","isNaN"],createVariance=factory(name$3G,dependencies$3I,(function(e){var t=e.typed,r=e.add,n=e.subtract,a=e.multiply,i=e.divide,o=e.apply,s=e.isNaN;return t(name$3G,{"Array | Matrix":function(e){return u(e,DEFAULT_NORMALIZATION)},"Array | Matrix, string":u,"Array | Matrix, number | BigNumber":function(e,t){return c(e,t,DEFAULT_NORMALIZATION)},"Array | Matrix, number | BigNumber, string":c,"...":function(e){return u(e,DEFAULT_NORMALIZATION)}});function u(e,t){var o,u=0;if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(deepForEach(e,(function(e){try{o=void 0===o?e:r(o,e),u++}catch(t){throw improveErrorMessage(t,"variance",e)}})),0===u)throw new Error("Cannot calculate variance of an empty array");var c=i(o,u);if(o=void 0,deepForEach(e,(function(e){var t=n(e,c);o=void 0===o?a(t,t):r(o,a(t,t))})),s(o))return o;switch(t){case"uncorrected":return i(o,u);case"biased":return i(o,u+1);case"unbiased":var l=isBigNumber(o)?o.mul(0):0;return 1===u?l:i(o,u-1);default:throw new Error('Unknown normalization "'+t+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function c(e,t,r){try{if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(e,t,(function(e){return u(e,r)}))}catch(e){throw improveErrorMessage(e,"variance")}}})),name$3H="quantileSeq",dependencies$3J=["typed","add","multiply","partitionSelect","compare"],createQuantileSeq=factory(name$3H,dependencies$3J,(function(e){var t=e.typed,r=e.add,n=e.multiply,a=e.partitionSelect,i=e.compare;function o(e,t,o){var u=flatten(e),c=u.length;if(0===c)throw new Error("Cannot calculate quantile of an empty sequence");if(isNumber(t)){var l=t*(c-1),p=l%1;if(0===p){var d=o?u[l]:a(u,l);return s(d),d}var f,m,h=Math.floor(l);if(o)f=u[h],m=u[h+1];else{m=a(u,h+1),f=u[h];for(var _=0;_<h;++_)i(u[_],f)>0&&(f=u[_])}return s(f),s(m),r(n(f,1-p),n(m,p))}var v=t.times(c-1);if(v.isInteger()){v=v.toNumber();var g=o?u[v]:a(u,v);return s(g),g}var y,b,$=v.floor(),x=v.minus($),w=$.toNumber();if(o)y=u[w],b=u[w+1];else{b=a(u,w+1),y=u[w];for(var S=0;S<w;++S)i(u[S],y)>0&&(y=u[S])}s(y),s(b);var N=new x.constructor(1);return r(n(y,N.minus(x)),n(b,x))}var s=t({"number | BigNumber | Unit":function(e){return e}});return function(e,t,r){var n,a,i;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(isCollection(e)){if("boolean"==typeof(r=r||!1)){if(a=e.valueOf(),isNumber(t)){if(t<0)throw new Error("N/prob must be non-negative");if(t<=1)return o(a,t,r);if(t>1){if(!isInteger(t))throw new Error("N must be a positive integer");var s=t+1;n=new Array(t);for(var u=0;u<t;)n[u]=o(a,++u/s,r);return n}}if(isBigNumber(t)){var c=t.constructor;if(t.isNegative())throw new Error("N/prob must be non-negative");if(i=new c(1),t.lte(i))return new c(o(a,t,r));if(t.gt(i)){if(!t.isInteger())throw new Error("N must be a positive integer");var l=t.toNumber();if(l>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var p=new c(l+1);n=new Array(l);for(var d=0;d<l;)n[d]=new c(o(a,new c(++d).div(p),r));return n}}if(Array.isArray(t)){n=new Array(t.length);for(var f=0;f<n.length;++f){var m=t[f];if(isNumber(m)){if(m<0||m>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!isBigNumber(m))throw new TypeError("Unexpected type of argument in function quantileSeq");if(i=new m.constructor(1),m.isNegative()||m.gt(i))throw new Error("Probability must be between 0 and 1, inclusive")}n[f]=o(a,m,r)}return n}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}})),name$3I="std",dependencies$3K=["typed","sqrt","variance"],createStd=factory(name$3I,dependencies$3K,(function(e){var t=e.typed,r=e.sqrt,n=e.variance;return t(name$3I,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(e){return a(e)}});function a(e,t){if(0===e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return r(n.apply(null,arguments))}catch(e){throw e instanceof TypeError&&-1!==e.message.indexOf(" variance")?new TypeError(e.message.replace(" variance"," std")):e}}})),name$3J="combinations",dependencies$3L=["typed"],createCombinations=factory(name$3J,dependencies$3L,(function(e){return(0,e.typed)(name$3J,{"number, number":combinationsNumber,"BigNumber, BigNumber":function(e,t){var r,n,a=e.constructor,i=e.minus(t),o=new a(1);if(!isPositiveInteger(e)||!isPositiveInteger(t))throw new TypeError("Positive integer value expected in function combinations");if(t.gt(e))throw new TypeError("k must be less than n in function combinations");if(r=o,t.lt(i))for(n=o;n.lte(i);n=n.plus(o))r=r.times(t.plus(n)).dividedBy(n);else for(n=o;n.lte(t);n=n.plus(o))r=r.times(i.plus(n)).dividedBy(n);return r}})}));function isPositiveInteger(e){return e.isInteger()&&e.gte(0)}var name$3K="combinationsWithRep",dependencies$3M=["typed"],createCombinationsWithRep=factory(name$3K,dependencies$3M,(function(e){return(0,e.typed)(name$3K,{"number, number":function(e,t){if(!isInteger(e)||e<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!isInteger(t)||t<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e<1)throw new TypeError("k must be less than or equal to n + k - 1");return t<e-1?product(e,e+t-1)/product(1,t):product(t+1,e+t-1)/product(1,e-1)},"BigNumber, BigNumber":function(e,t){var r,n,a=new(0,e.constructor)(1),i=e.minus(a);if(!isPositiveInteger$1(e)||!isPositiveInteger$1(t))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e.lt(a))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(r=a,t.lt(i))for(n=a;n.lte(i);n=n.plus(a))r=r.times(t.plus(n)).dividedBy(n);else for(n=a;n.lte(t);n=n.plus(a))r=r.times(i.plus(n)).dividedBy(n);return r}})}));function isPositiveInteger$1(e){return e.isInteger()&&e.gte(0)}var name$3L="gamma",dependencies$3N=["typed","config","multiplyScalar","pow","BigNumber","Complex"],createGamma=factory(name$3L,dependencies$3N,(function(e){var t=e.typed,r=e.config,n=e.multiplyScalar,a=e.pow,i=e.BigNumber,o=e.Complex;return t(name$3L,{number:gammaNumber,Complex:function(e){if(0===e.im)return this(e.re);e=new o(e.re-1,e.im);for(var t=new o(gammaP[0],0),r=1;r<gammaP.length;++r){var i=e.re+r,s=i*i+e.im*e.im;0!==s?(t.re+=gammaP[r]*i/s,t.im+=-gammaP[r]*e.im/s):t.re=gammaP[r]<0?-1/0:1/0}var u=new o(e.re+gammaG+.5,e.im),c=Math.sqrt(2*Math.PI);e.re+=.5;var l=a(u,e);0===l.im?l.re*=c:0===l.re?l.im*=c:(l.re*=c,l.im*=c);var p=Math.exp(-u.re);return u.re=p*Math.cos(-u.im),u.im=p*Math.sin(-u.im),n(n(l,u),t)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new i(1/0):function e(t){if(t<8)return new i([1,1,2,6,24,120,720,5040][t]);var n=r.precision+(0|Math.log(t.toNumber())),a=i.clone({precision:n});if(t%2==1)return t.times(e(new i(t-1)));var o=t,s=new a(t),u=t.toNumber();for(;o>2;)u+=o-=2,s=s.times(u);return new i(s.toPrecision(i.precision))}(e.minus(1));if(!e.isFinite())return new i(e.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$3M="factorial",dependencies$3O=["typed","gamma"],createFactorial=factory(name$3M,dependencies$3O,(function(e){var t=e.typed,r=e.gamma;return t(name$3M,{number:function(e){if(e<0)throw new Error("Value must be non-negative");return r(e+1)},BigNumber:function(e){if(e.isNegative())throw new Error("Value must be non-negative");return r(e.plus(1))},"Array | Matrix":function(e){return deepMap(e,this)}})})),name$3N="kldivergence",dependencies$3P=["typed","matrix","divide","sum","multiply","dotDivide","log","isNumeric"],createKldivergence=factory(name$3N,dependencies$3P,(function(e){var t=e.typed,r=e.matrix,n=e.divide,a=e.sum,i=e.multiply,o=e.dotDivide,s=e.log,u=e.isNumeric;return t(name$3N,{"Array, Array":function(e,t){return c(r(e),r(t))},"Matrix, Array":function(e,t){return c(e,r(t))},"Array, Matrix":function(e,t){return c(r(e),t)},"Matrix, Matrix":function(e,t){return c(e,t)}});function c(e,t){var r=t.size().length,c=e.size().length;if(r>1)throw new Error("first object must be one dimensional");if(c>1)throw new Error("second object must be one dimensional");if(r!==c)throw new Error("Length of two vectors must be equal");if(0===a(e))throw new Error("Sum of elements in first object must be non zero");if(0===a(t))throw new Error("Sum of elements in second object must be non zero");var l=n(e,a(e)),p=n(t,a(t)),d=a(i(l,s(o(l,p))));return u(d)?d:Number.NaN}})),name$3O="multinomial",dependencies$3Q=["typed","add","divide","multiply","factorial","isInteger","isPositive"],createMultinomial=factory(name$3O,dependencies$3Q,(function(e){var t=e.typed,r=e.add,n=e.divide,a=e.multiply,i=e.factorial,o=e.isInteger,s=e.isPositive;return t(name$3O,{"Array | Matrix":function(e){var t=0,u=1;return deepForEach(e,(function(e){if(!o(e)||!s(e))throw new TypeError("Positive integer value expected in function multinomial");t=r(t,e),u=a(u,i(e))})),n(i(t),u)}})})),name$3P="permutations",dependencies$3R=["typed","factorial"],createPermutations=factory(name$3P,dependencies$3R,(function(e){var t=e.typed,r=e.factorial;return t(name$3P,{"number | BigNumber":r,"number, number":function(e,t){if(!isInteger(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(!isInteger(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(t>e)throw new TypeError("second argument k must be less than or equal to first argument n");return product(e-t+1,e)},"BigNumber, BigNumber":function(e,t){var r,n;if(!isPositiveInteger$2(e)||!isPositiveInteger$2(t))throw new TypeError("Positive integer value expected in function permutations");if(t.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(r=e.mul(0).add(1),n=e.minus(t).plus(1);n.lte(e);n=n.plus(1))r=r.times(n);return r}})}));function isPositiveInteger$2(e){return e.isInteger()&&e.gte(0)}var seedRandom=createCommonjsModule((function(e){var t=256,r=[],n=void 0===commonjsGlobal?window:commonjsGlobal,a=Math.pow(t,6),i=Math.pow(2,52),o=2*i,s=t-1,u=Math.random;function c(e){var r,n=e.length,a=this,i=0,o=a.i=a.j=0,u=a.S=[];for(n||(e=[n++]);i<t;)u[i]=i++;for(i=0;i<t;i++)u[i]=u[o=s&o+e[i%n]+(r=u[i])],u[o]=r;(a.g=function(e){for(var r,n=0,i=a.i,o=a.j,u=a.S;e--;)r=u[i=s&i+1],n=n*t+u[s&(u[i]=u[o=s&o+r])+(u[o]=r)];return a.i=i,a.j=o,n})(t)}function l(e,t){var r,n=[],a=(typeof e)[0];if(t&&"o"==a)for(r in e)try{n.push(l(e[r],t-1))}catch(e){}return n.length?n:"s"==a?e:e+"\0"}function p(e,t){for(var r,n=e+"",a=0;a<n.length;)t[s&a]=s&(r^=19*t[s&a])+n.charCodeAt(a++);return f(t)}function d(e){try{return n.crypto.getRandomValues(e=new Uint8Array(t)),f(e)}catch(e){return[+new Date,n,n.navigator&&n.navigator.plugins,n.screen,f(r)]}}function f(e){return String.fromCharCode.apply(0,e)}e.exports=function(n,s){if(s&&!0===s.global)return s.global=!1,Math.random=e.exports(n,s),s.global=!0,Math.random;var u=s&&s.entropy||!1,m=[],h=(p(l(u?[n,f(r)]:0 in arguments?n:d(),3),m),new c(m));return p(f(h.S),r),function(){for(var e=h.g(6),r=a,n=0;e<i;)e=(e+n)*t,r*=t,n=h.g(1);for(;e>=o;)e/=2,r/=2,n>>>=1;return(e+n)/r}},e.exports.resetGlobal=function(){Math.random=u},p(Math.random(),r)})),seedRandom_1=seedRandom.resetGlobal,singletonRandom=seedRandom();function createRng(e){var t,r;return t=null===(r=e)?singletonRandom:seedRandom(String(r)),function(){return t()}}var name$3Q="pickRandom",dependencies$3S=["typed","config","?on"],createPickRandom=factory(name$3Q,dependencies$3S,(function(e){var t=e.typed,r=e.config,n=e.on,a=createRng(r.randomSeed);return n&&n("config",(function(e,t){e.randomSeed!==t.randomSeed&&(a=createRng(e.randomSeed))})),t({"Array | Matrix":function(e){return i(e)},"Array | Matrix, number":function(e,t){return i(e,t,void 0)},"Array | Matrix, Array":function(e,t){return i(e,void 0,t)},"Array | Matrix, Array | Matrix, number":function(e,t,r){return i(e,r,t)},"Array | Matrix, number, Array | Matrix":function(e,t,r){return i(e,t,r)}});function i(e,t,r){var n=void 0===t;if(n&&(t=1),e=e.valueOf(),r&&(r=r.valueOf()),arraySize(e).length>1)throw new Error("Only one dimensional vectors supported");var i=0;if(void 0!==r){if(r.length!==e.length)throw new Error("Weights must have the same length as possibles");for(var o=0,s=r.length;o<s;o++){if(!isNumber(r[o])||r[o]<0)throw new Error("Weights must be an array of positive numbers");i+=r[o]}}var u=e.length;if(0===u)return[];if(t>=u)return t>1?e:e[0];for(var c,l=[];l.length<t;){if(void 0===r)c=e[Math.floor(a()*u)];else for(var p=a()*i,d=0,f=e.length;d<f;d++)if((p-=r[d])<0){c=e[d];break}-1===l.indexOf(c)&&l.push(c)}return n?l[0]:l}}));function randomMatrix(e,t){var r=[];if((e=e.slice(0)).length>1)for(var n=0,a=e.shift();n<a;n++)r.push(randomMatrix(e,t));else for(var i=0,o=e.shift();i<o;i++)r.push(t());return r}var name$3R="random",dependencies$3T=["typed","config","?on"],createRandom=factory(name$3R,dependencies$3T,(function(e){var t=e.typed,r=e.config,n=e.on,a=createRng(r.randomSeed);return n&&n("config",(function(e,t){e.randomSeed!==t.randomSeed&&(a=createRng(e.randomSeed))})),t(name$3R,{"":function(){return o(0,1)},number:function(e){return o(0,e)},"number, number":function(e,t){return o(e,t)},"Array | Matrix":function(e){return i(e,0,1)},"Array | Matrix, number":function(e,t){return i(e,0,t)},"Array | Matrix, number, number":function(e,t,r){return i(e,t,r)}});function i(e,t,r){var n=randomMatrix(e.valueOf(),(function(){return o(t,r)}));return isMatrix(e)?e.create(n):n}function o(e,t){return e+a()*(t-e)}})),name$3S="randomInt",dependencies$3U=["typed","config","?on"],createRandomInt=factory(name$3S,dependencies$3U,(function(e){var t=e.typed,r=e.config,n=e.on,a=createRng(r.randomSeed);return n&&n("config",(function(e,t){e.randomSeed!==t.randomSeed&&(a=createRng(e.randomSeed))})),t(name$3S,{"":function(){return o(0,1)},number:function(e){return o(0,e)},"number, number":function(e,t){return o(e,t)},"Array | Matrix":function(e){return i(e,0,1)},"Array | Matrix, number":function(e,t){return i(e,0,t)},"Array | Matrix, number, number":function(e,t,r){return i(e,t,r)}});function i(e,t,r){var n=randomMatrix(e.valueOf(),(function(){return o(t,r)}));return isMatrix(e)?e.create(n):n}function o(e,t){return Math.floor(e+a()*(t-e))}})),name$3T="stirlingS2",dependencies$3V=["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","larger"],createStirlingS2=factory(name$3T,dependencies$3V,(function(e){var t=e.typed,r=e.addScalar,n=e.subtract,a=e.multiplyScalar,i=e.divideScalar,o=e.pow,s=e.factorial,u=e.combinations,c=e.isNegative,l=e.isInteger,p=e.larger;return t(name$3T,{"number | BigNumber, number | BigNumber":function(e,t){if(!l(e)||c(e)||!l(t)||c(t))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(p(t,e))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var d=s(t),f=0,m=0;m<=t;m++){var h=o(-1,n(t,m)),_=u(t,m),v=o(m,e);f=r(f,a(a(_,v),h))}return i(f,d)}})})),name$3U="bellNumbers",dependencies$3W=["typed","addScalar","isNegative","isInteger","stirlingS2"],createBellNumbers=factory(name$3U,dependencies$3W,(function(e){var t=e.typed,r=e.addScalar,n=e.isNegative,a=e.isInteger,i=e.stirlingS2;return t(name$3U,{"number | BigNumber":function(e){if(!a(e)||n(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var t=0,o=0;o<=e;o++)t=r(t,i(e,o));return t}})})),name$3V="catalan",dependencies$3X=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],createCatalan=factory(name$3V,dependencies$3X,(function(e){var t=e.typed,r=e.addScalar,n=e.divideScalar,a=e.multiplyScalar,i=e.combinations,o=e.isNegative,s=e.isInteger;return t(name$3V,{"number | BigNumber":function(e){if(!s(e)||o(e))throw new TypeError("Non-negative integer value expected in function catalan");return n(i(a(e,2),e),r(e,1))}})})),name$3W="composition",dependencies$3Y=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],createComposition=factory(name$3W,dependencies$3Y,(function(e){var t=e.typed,r=e.addScalar,n=e.combinations,a=e.isPositive,i=(e.isNegative,e.isInteger),o=e.larger;return t(name$3W,{"number | BigNumber, number | BigNumber":function(e,t){if(!(i(e)&&a(e)&&i(t)&&a(t)))throw new TypeError("Positive integer value expected in function composition");if(o(t,e))throw new TypeError("k must be less than or equal to n in function composition");return n(r(e,-1),r(t,-1))}})})),name$3X="simplifyUtil",dependencies$3Z=["FunctionNode","OperatorNode","SymbolNode"],createUtil=factory(name$3X,dependencies$3Z,(function(e){var t=e.FunctionNode,r=e.OperatorNode,n=e.SymbolNode,a={add:!0,multiply:!0},i={add:!0,multiply:!0};function o(e,t){if(!isOperatorNode(e))return!1;var r=e.fn.toString();return t&&hasOwnProperty(t,r)&&hasOwnProperty(t[r],"associative")?t[r].associative:i[r]||!1}function s(e){var t,r=[];return o(e)?(t=e.op,function e(n){for(var a=0;a<n.args.length;a++){var i=n.args[a];isOperatorNode(i)&&t===i.op?e(i):r.push(i)}}(e),r):e.args}function u(e){return isOperatorNode(e)?function(t){try{return new r(e.op,e.fn,t,e.implicit)}catch(e){return console.error(e),[]}}:function(r){return new t(new n(e.name),r)}}return{createMakeNodeFunction:u,isCommutative:function(e,t){if(!isOperatorNode(e))return!0;var r=e.fn.toString();return t&&hasOwnProperty(t,r)&&hasOwnProperty(t[r],"commutative")?t[r].commutative:a[r]||!1},isAssociative:o,flatten:function e(t){if(!t.args||0===t.args.length)return t;t.args=s(t);for(var r=0;r<t.args.length;r++)e(t.args[r])},allChildren:s,unflattenr:function e(t){if(t.args&&0!==t.args.length){for(var r=u(t),n=t.args.length,a=0;a<n;a++)e(t.args[a]);if(n>2&&o(t)){for(var i=t.args.pop();t.args.length>0;)i=r([t.args.pop(),i]);t.args=i.args}}},unflattenl:function e(t){if(t.args&&0!==t.args.length){for(var r=u(t),n=t.args.length,a=0;a<n;a++)e(t.args[a]);if(n>2&&o(t)){for(var i=t.args.shift();t.args.length>0;)i=r([i,t.args.shift()]);t.args=i.args}}}}})),name$3Y="simplifyCore",dependencies$3_=["equal","isZero","add","subtract","multiply","divide","pow","ConstantNode","OperatorNode","FunctionNode","ParenthesisNode"],createSimplifyCore=factory(name$3Y,dependencies$3_,(function(e){var t=e.equal,r=e.isZero,n=e.add,a=e.subtract,i=e.multiply,o=e.divide,s=e.pow,u=e.ConstantNode,c=e.OperatorNode,l=e.FunctionNode,p=e.ParenthesisNode,d=new u(0),f=new u(1);return function e(m){if(isOperatorNode(m)&&m.isUnary()){var h=e(m.args[0]);if("+"===m.op)return h;if("-"===m.op){if(isOperatorNode(h)){if(h.isUnary()&&"-"===h.op)return h.args[0];if(h.isBinary()&&"subtract"===h.fn)return new c("-","subtract",[h.args[1],h.args[0]])}return new c(m.op,m.fn,[h])}}else if(isOperatorNode(m)&&m.isBinary()){var _=e(m.args[0]),v=e(m.args[1]);if("+"===m.op){if(isConstantNode(_)){if(r(_.value))return v;if(isConstantNode(v))return new u(n(_.value,v.value))}return isConstantNode(v)&&r(v.value)?_:isOperatorNode(v)&&v.isUnary()&&"-"===v.op?new c("-","subtract",[_,v.args[0]]):new c(m.op,m.fn,v?[_,v]:[_])}if("-"===m.op){if(isConstantNode(_)&&v){if(isConstantNode(v))return new u(a(_.value,v.value));if(r(_.value))return new c("-","unaryMinus",[v])}if("subtract"===m.fn)return isConstantNode(v)&&r(v.value)?_:isOperatorNode(v)&&v.isUnary()&&"-"===v.op?e(new c("+","add",[_,v.args[0]])):new c(m.op,m.fn,[_,v])}else{if("*"===m.op){if(isConstantNode(_)){if(r(_.value))return d;if(t(_.value,1))return v;if(isConstantNode(v))return new u(i(_.value,v.value))}if(isConstantNode(v)){if(r(v.value))return d;if(t(v.value,1))return _;if(isOperatorNode(_)&&_.isBinary()&&_.op===m.op){var g=_.args[0];if(isConstantNode(g)){var y=new u(i(g.value,v.value));return new c(m.op,m.fn,[y,_.args[1]],m.implicit)}}return new c(m.op,m.fn,[v,_],m.implicit)}return new c(m.op,m.fn,[_,v],m.implicit)}if("/"===m.op){if(isConstantNode(_)){if(r(_.value))return d;if(isConstantNode(v)&&(t(v.value,1)||t(v.value,2)||t(v.value,4)))return new u(o(_.value,v.value))}return new c(m.op,m.fn,[_,v])}if("^"===m.op){if(isConstantNode(v)){if(r(v.value))return f;if(t(v.value,1))return _;if(isConstantNode(_))return new u(s(_.value,v.value));if(isOperatorNode(_)&&_.isBinary()&&"^"===_.op){var b=_.args[1];if(isConstantNode(b))return new c(m.op,m.fn,[_.args[0],new u(i(b.value,v.value))])}}return new c(m.op,m.fn,[_,v])}}}else{if(isParenthesisNode(m)){var $=e(m.content);return isParenthesisNode($)||isSymbolNode($)||isConstantNode($)?$:new p($)}if(isFunctionNode(m)){var x=m.args.map(e).map((function(e){return isParenthesisNode(e)?e.content:e}));return new l(e(m.fn),x)}}return m}})),name$3Z="simplifyConstant",dependencies$3$=["typed","config","mathWithTransform","?fraction","?bignumber","ConstantNode","OperatorNode","FunctionNode","SymbolNode"],createSimplifyConstant=factory(name$3Z,dependencies$3$,(function(e){var t=e.typed,r=e.config,n=e.mathWithTransform,a=e.fraction,i=e.bignumber,o=e.ConstantNode,s=e.OperatorNode,u=e.FunctionNode,c=e.SymbolNode,l=createUtil({FunctionNode:u,OperatorNode:s,SymbolNode:c}),p=l.isCommutative,d=l.isAssociative,f=l.allChildren,m=l.createMakeNodeFunction;function h(e,t,r){try{return g(n[e].apply(null,t),r)}catch(a){return t=t.map((function(e){return isFraction(e)?e.valueOf():e})),g(n[e].apply(null,t),r)}}var _=t({Fraction:function(e){var t,r=e.s*e.n;t=r<0?new s("-","unaryMinus",[new o(-r)]):new o(r);if(1===e.d)return t;return new s("/","divide",[t,new o(e.d)])},number:function(e){return e<0?y(new o(-e)):new o(e)},BigNumber:function(e){return e<0?y(new o(-e)):new o(e)},Complex:function(e){throw new Error("Cannot convert Complex number to Node")}});function v(e,t){if(t&&!1!==t.exactFractions&&isFinite(e)&&a){var r=a(e);if(r.valueOf()===e)return r}return e}var g=t({"string, Object":function(e,t){return"BigNumber"===r.number?(void 0===i&&noBignumber(),i(e)):"Fraction"===r.number?(void 0===a&&noFraction(),a(e)):v(parseFloat(e),t)},"Fraction, Object":function(e,t){return e},"BigNumber, Object":function(e,t){return e},"number, Object":function(e,t){return v(e,t)},"Complex, Object":function(e,t){return 0!==e.im?e:v(e.re,t)}});function y(e){return new s("-","unaryMinus",[e])}function b(e,t,r,n){return t.reduce((function(t,a){if(isNode(t)||isNode(a))isNode(t)?isNode(a)||(a=_(a)):t=_(t);else{try{return h(e,[t,a],n)}catch(e){}t=_(t),a=_(a)}return r([t,a])}))}return function(e,t){var r=function e(t,r){switch(t.type){case"SymbolNode":return t;case"ConstantNode":return"number"!=typeof t.value&&isNaN(t.value)?t:g(t.value,r);case"FunctionNode":if(n[t.name]&&n[t.name].rawArgs)return t;if(-1===["add","multiply"].indexOf(t.name)){var a=t.args.map((function(t){return e(t,r)}));if(!a.some(isNode))try{return h(t.name,a,r)}catch(e){}return a=a.map((function(e){return isNode(e)?e:_(e)})),new u(t.name,a)}case"OperatorNode":var i,o,s=t.fn.toString(),c=m(t);if(isOperatorNode(t)&&t.isUnary())i=[e(t.args[0],r)],o=isNode(i[0])?c(i):h(s,i,r);else if(d(t))if(i=(i=f(t)).map((function(t){return e(t,r)})),p(s)){for(var l=[],v=[],y=0;y<i.length;y++)isNode(i[y])?v.push(i[y]):l.push(i[y]);l.length>1?(o=b(s,l,c,r),v.unshift(o),o=b(s,v,c,r)):o=b(s,i,c,r)}else o=b(s,i,c,r);else i=t.args.map((function(t){return e(t,r)})),o=b(s,i,c,r);return o;case"ParenthesisNode":return e(t.content,r);case"AccessorNode":case"ArrayNode":case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"IndexNode":case"ObjectNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(t.type))}}(e,t);return isNode(r)?r:_(r)}})),name$3_="resolve",dependencies$40=["parse","FunctionNode","OperatorNode","ParenthesisNode"],createResolve=factory(name$3_,dependencies$40,(function(e){var t=e.parse,r=e.FunctionNode,n=e.OperatorNode,a=e.ParenthesisNode;return function e(i,o){if(!o)return i;if(isSymbolNode(i)){var s=o[i.name];if(isNode(s))return e(s,o);if("number"==typeof s)return t(String(s))}else{if(isOperatorNode(i)){var u=i.args.map((function(t){return e(t,o)}));return new n(i.op,i.fn,u,i.implicit)}if(isParenthesisNode(i))return new a(e(i.content,o));if(isFunctionNode(i)){var c=i.args.map((function(t){return e(t,o)}));return new r(i.name,c)}}return i}}));function _typeof$c(e){return(_typeof$c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var name$3$="simplify",dependencies$41=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","?fraction","?bignumber","mathWithTransform","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],createSimplify=factory(name$3$,dependencies$41,(function(e){var t=e.config,r=e.typed,n=e.parse,a=e.add,i=e.subtract,o=e.multiply,s=e.divide,u=e.pow,c=e.isZero,l=e.equal,p=e.fraction,d=e.bignumber,f=e.mathWithTransform,m=e.ConstantNode,h=e.FunctionNode,_=e.OperatorNode,v=e.ParenthesisNode,g=e.SymbolNode,y=createSimplifyConstant({typed:r,config:t,mathWithTransform:f,fraction:p,bignumber:d,ConstantNode:m,OperatorNode:_,FunctionNode:h,SymbolNode:g}),b=createSimplifyCore({equal:l,isZero:c,add:a,subtract:i,multiply:o,divide:s,pow:u,ConstantNode:m,OperatorNode:_,FunctionNode:h,ParenthesisNode:v}),$=createResolve({parse:n,FunctionNode:h,OperatorNode:_,ParenthesisNode:v}),x=createUtil({FunctionNode:h,OperatorNode:_,SymbolNode:g}),w=x.isCommutative,S=x.isAssociative,N=x.flatten,C=x.unflattenr,E=x.unflattenl,A=x.createMakeNodeFunction,M=r("simplify",{string:function(e){return this(n(e),this.rules,{},{})},"string, Object":function(e,t){return this(n(e),this.rules,t,{})},"string, Object, Object":function(e,t,r){return this(n(e),this.rules,t,r)},"string, Array":function(e,t){return this(n(e),t,{},{})},"string, Array, Object":function(e,t,r){return this(n(e),t,r,{})},"string, Array, Object, Object":function(e,t,r,a){return this(n(e),t,r,a)},"Node, Object":function(e,t){return this(e,this.rules,t,{})},"Node, Object, Object":function(e,t,r){return this(e,this.rules,t,r)},Node:function(e){return this(e,this.rules,{},{})},"Node, Array":function(e,t){return this(e,t,{},{})},"Node, Array, Object":function(e,t,r){return this(e,t,r,{})},"Node, Array, Object, Object":function(e,t,r,a){t=function(e){for(var t=[],r=0;r<e.length;r++){var a=e[r],i=void 0,o=_typeof$c(a);switch(o){case"string":var s=a.split("->");if(2!==s.length)throw SyntaxError("Could not parse rule: "+a);a={l:s[0],r:s[1]};case"object":if(i={l:T(n(a.l)),r:T(n(a.r))},a.context&&(i.evaluate=a.context),a.evaluate&&(i.evaluate=n(a.evaluate)),S(i.l)){var u=A(i.l),c=new g("_p"+P++);i.expanded={},i.expanded.l=u([i.l.clone(),c]),N(i.expanded.l),C(i.expanded.l),i.expanded.r=u([i.r,c])}break;case"function":i=a;break;default:throw TypeError("Unsupported type of rule: "+o)}t.push(i)}return t}(t);for(var i=$(e,r),o={},s=(i=T(i)).toString({parenthesis:"all"});!o[s];){o[s]=!0,P=0;for(var u=0;u<t.length;u++)"function"==typeof t[u]?i=t[u](i,a):(N(i),i=D(i,t[u])),E(i);s=i.toString({parenthesis:"all"})}return i}});function T(e){return e.transform((function(e,t,r){return isParenthesisNode(e)?T(e.content):e}))}M.simplifyCore=b,M.resolve=$;var O={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};M.rules=[b,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},y,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"},{l:"n1/(n2/n3)",r:"(n1*n3)/n2"}];var P=0;var D=r("applyRule",{"Node, Object":function(e,t){var r=e;if(r instanceof _||r instanceof h){if(r.args)for(var n=0;n<r.args.length;n++)r.args[n]=D(r.args[n],t)}else r instanceof v&&r.content&&(r.content=D(r.content,t));var a=t.r,i=k(t.l,r)[0];if(!i&&t.expanded&&(a=t.expanded.r,i=k(t.expanded.l,r)[0]),i){var o=r.implicit;r=a.clone(),o&&"implicit"in a&&(r.implicit=!0),r=r.transform((function(e){return e.isSymbolNode&&hasOwnProperty(i.placeholders,e.name)?i.placeholders[e.name].clone():e}))}return r}});function I(e,t){var r={placeholders:{}};if(!e.placeholders&&!t.placeholders)return r;if(!e.placeholders)return t;if(!t.placeholders)return e;for(var n in e.placeholders)if(hasOwnProperty(e.placeholders,n)&&(r.placeholders[n]=e.placeholders[n],hasOwnProperty(t.placeholders,n)&&!R(e.placeholders[n],t.placeholders[n])))return null;for(var a in t.placeholders)hasOwnProperty(t.placeholders,a)&&(r.placeholders[a]=t.placeholders[a]);return r}function F(e,t){var r,n=[];if(0===e.length||0===t.length)return n;for(var a=0;a<e.length;a++)for(var i=0;i<t.length;i++)(r=I(e[a],t[i]))&&n.push(r);return n}function k(e,t,r){var n=[{placeholders:{}}];if(e instanceof _&&t instanceof _||e instanceof h&&t instanceof h){if(e instanceof _){if(e.op!==t.op||e.fn!==t.fn)return[]}else if(e instanceof h&&e.name!==t.name)return[];if((1!==t.args.length||1!==e.args.length)&&S(t)&&!r){if(t.args.length>=2&&2===e.args.length){for(var a=function(e,t){var r,n,a=[],i=A(e);if(w(e,t))for(var o=0;o<e.args.length;o++)(n=e.args.slice(0)).splice(o,1),r=1===n.length?n[0]:i(n),a.push(i([e.args[o],r]));else r=1===(n=e.args.slice(1)).length?n[0]:i(n),a.push(i([e.args[0],r]));return a}(t,e.context),i=[],o=0;o<a.length;o++){var s=k(e,a[o],!0);i=i.concat(s)}return i}if(e.args.length>2)throw Error("Unexpected non-binary associative function: "+e.toString());return[]}for(var u=[],c=0;c<e.args.length;c++){var p=k(e.args[c],t.args[c]);if(0===p.length)return[];u.push(p)}n=function(e){if(0===e.length)return e;for(var t=e.reduce(F),r=[],n={},a=0;a<t.length;a++){var i=JSON.stringify(t[a]);n[i]||(n[i]=!0,r.push(t[a]))}return r}(u)}else if(e instanceof g){if(0===e.name.length)throw new Error("Symbol in rule has 0 length...!?");if(O[e.name]){if(e.name!==t.name)return[]}else if("n"===e.name[0]||"_p"===e.name.substring(0,2))n[0].placeholders[e.name]=t;else if("v"===e.name[0]){if(isConstantNode(t))return[];n[0].placeholders[e.name]=t}else{if("c"!==e.name[0])throw new Error("Invalid symbol in rule: "+e.name);if(!(t instanceof m))return[];n[0].placeholders[e.name]=t}}else{if(!(e instanceof m))return[];if(!l(e.value,t.value))return[]}return n}function R(e,t){if(e instanceof m&&t instanceof m){if(!l(e.value,t.value))return!1}else if(e instanceof g&&t instanceof g){if(e.name!==t.name)return!1}else{if(!(e instanceof _&&t instanceof _||e instanceof h&&t instanceof h))return!1;if(e instanceof _){if(e.op!==t.op||e.fn!==t.fn)return!1}else if(e instanceof h&&e.name!==t.name)return!1;if(e.args.length!==t.args.length)return!1;for(var r=0;r<e.args.length;r++)if(!R(e.args[r],t.args[r]))return!1}return!0}return M})),name$40="derivative",dependencies$42=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],createDerivative=factory(name$40,dependencies$42,(function(e){var t=e.typed,r=e.config,n=e.parse,a=e.simplify,i=e.equal,o=e.isZero,s=e.numeric,u=e.ConstantNode,c=e.FunctionNode,l=e.OperatorNode,p=e.ParenthesisNode,d=e.SymbolNode,f=t("derivative",{"Node, SymbolNode, Object":function(e,t,r){var n={};h(n,e,t.name);var i=_(e,n);return r.simplify?a(i):i},"Node, SymbolNode":function(e,t){return this(e,t,{simplify:!0})},"string, SymbolNode":function(e,t){return this(n(e),t)},"string, SymbolNode, Object":function(e,t,r){return this(n(e),t,r)},"string, string":function(e,t){return this(n(e),n(t))},"string, string, Object":function(e,t,r){return this(n(e),n(t),r)},"Node, string":function(e,t){return this(e,n(t))},"Node, string, Object":function(e,t,r){return this(e,n(t),r)}});f._simplify=!0,f.toTex=function(e){return m.apply(null,e.args)};var m=t("_derivTex",{"Node, SymbolNode":function(e,t){return isConstantNode(e)&&"string"===typeOf(e.value)?m(n(e.value).toString(),t.toString(),1):m(e.toString(),t.toString(),1)},"Node, ConstantNode":function(e,t){if("string"===typeOf(t.value))return m(e,n(t.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(e,t,r){return m(e.toString(),t.name,r.value)},"string, string, number":function(e,t,r){return(1===r?"{d\\over d"+t+"}":"{d^{"+r+"}\\over d"+t+"^{"+r+"}}")+"\\left[".concat(e,"\\right]")}}),h=t("constTag",{"Object, ConstantNode, string":function(e,t){return e[t]=!0,!0},"Object, SymbolNode, string":function(e,t,r){return t.name!==r&&(e[t]=!0,!0)},"Object, ParenthesisNode, string":function(e,t,r){return h(e,t.content,r)},"Object, FunctionAssignmentNode, string":function(e,t,r){return-1===t.params.indexOf(r)?(e[t]=!0,!0):h(e,t.expr,r)},"Object, FunctionNode | OperatorNode, string":function(e,t,r){if(t.args.length>0){for(var n=h(e,t.args[0],r),a=1;a<t.args.length;++a)n=h(e,t.args[a],r)&&n;if(n)return e[t]=!0,!0}return!1}}),_=t("_derivative",{"ConstantNode, Object":function(e){return v(0)},"SymbolNode, Object":function(e,t){return void 0!==t[e]?v(0):v(1)},"ParenthesisNode, Object":function(e,t){return new p(_(e.content,t))},"FunctionAssignmentNode, Object":function(e,t){return void 0!==t[e]?v(0):_(e.expr,t)},"FunctionNode, Object":function(e,t){if(1!==e.args.length&&function(e){if(("log"===e.name||"nthRoot"===e.name||"pow"===e.name)&&2===e.args.length)return;for(var t=0;t<e.args.length;++t)e.args[t]=v(0);throw e.compile().evaluate(),new Error("Expected TypeError, but none found")}(e),void 0!==t[e])return v(0);var r,n,a,i,o=e.args[0],s=!1,u=!1;switch(e.name){case"cbrt":s=!0,n=new l("*","multiply",[v(3),new l("^","pow",[o,new l("/","divide",[v(2),v(3)])])]);break;case"sqrt":case"nthRoot":if(1===e.args.length)s=!0,n=new l("*","multiply",[v(2),new c("sqrt",[o])]);else if(2===e.args.length)return t[r=new l("/","divide",[v(1),e.args[1]])]=t[e.args[1]],_(new l("^","pow",[o,r]),t);break;case"log10":r=v(10);case"log":if(r||1!==e.args.length){if(1===e.args.length&&r||2===e.args.length&&void 0!==t[e.args[1]])n=new l("*","multiply",[o.clone(),new c("log",[r||e.args[1]])]),s=!0;else if(2===e.args.length)return _(new l("/","divide",[new c("log",[o]),new c("log",[e.args[1]])]),t)}else n=o.clone(),s=!0;break;case"pow":return t[r]=t[e.args[1]],_(new l("^","pow",[o,e.args[1]]),t);case"exp":n=new c("exp",[o.clone()]);break;case"sin":n=new c("cos",[o.clone()]);break;case"cos":n=new l("-","unaryMinus",[new c("sin",[o.clone()])]);break;case"tan":n=new l("^","pow",[new c("sec",[o.clone()]),v(2)]);break;case"sec":n=new l("*","multiply",[e,new c("tan",[o.clone()])]);break;case"csc":u=!0,n=new l("*","multiply",[e,new c("cot",[o.clone()])]);break;case"cot":u=!0,n=new l("^","pow",[new c("csc",[o.clone()]),v(2)]);break;case"asin":s=!0,n=new c("sqrt",[new l("-","subtract",[v(1),new l("^","pow",[o.clone(),v(2)])])]);break;case"acos":s=!0,u=!0,n=new c("sqrt",[new l("-","subtract",[v(1),new l("^","pow",[o.clone(),v(2)])])]);break;case"atan":s=!0,n=new l("+","add",[new l("^","pow",[o.clone(),v(2)]),v(1)]);break;case"asec":s=!0,n=new l("*","multiply",[new c("abs",[o.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[o.clone(),v(2)]),v(1)])])]);break;case"acsc":s=!0,u=!0,n=new l("*","multiply",[new c("abs",[o.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[o.clone(),v(2)]),v(1)])])]);break;case"acot":s=!0,u=!0,n=new l("+","add",[new l("^","pow",[o.clone(),v(2)]),v(1)]);break;case"sinh":n=new c("cosh",[o.clone()]);break;case"cosh":n=new c("sinh",[o.clone()]);break;case"tanh":n=new l("^","pow",[new c("sech",[o.clone()]),v(2)]);break;case"sech":u=!0,n=new l("*","multiply",[e,new c("tanh",[o.clone()])]);break;case"csch":u=!0,n=new l("*","multiply",[e,new c("coth",[o.clone()])]);break;case"coth":u=!0,n=new l("^","pow",[new c("csch",[o.clone()]),v(2)]);break;case"asinh":s=!0,n=new c("sqrt",[new l("+","add",[new l("^","pow",[o.clone(),v(2)]),v(1)])]);break;case"acosh":s=!0,n=new c("sqrt",[new l("-","subtract",[new l("^","pow",[o.clone(),v(2)]),v(1)])]);break;case"atanh":s=!0,n=new l("-","subtract",[v(1),new l("^","pow",[o.clone(),v(2)])]);break;case"asech":s=!0,u=!0,n=new l("*","multiply",[o.clone(),new c("sqrt",[new l("-","subtract",[v(1),new l("^","pow",[o.clone(),v(2)])])])]);break;case"acsch":s=!0,u=!0,n=new l("*","multiply",[new c("abs",[o.clone()]),new c("sqrt",[new l("+","add",[new l("^","pow",[o.clone(),v(2)]),v(1)])])]);break;case"acoth":s=!0,u=!0,n=new l("-","subtract",[v(1),new l("^","pow",[o.clone(),v(2)])]);break;case"abs":n=new l("/","divide",[new c(new d("abs"),[o.clone()]),o.clone()]);break;case"gamma":default:throw new Error('Function "'+e.name+'" is not supported by derivative, or a wrong number of arguments is passed')}s?(a="/",i="divide"):(a="*",i="multiply");var p=_(o,t);return u&&(p=new l("-","unaryMinus",[p])),new l(a,i,[p,n])},"OperatorNode, Object":function(e,t){if(void 0!==t[e])return v(0);if("+"===e.op)return new l(e.op,e.fn,e.args.map((function(e){return _(e,t)})));if("-"===e.op){if(e.isUnary())return new l(e.op,e.fn,[_(e.args[0],t)]);if(e.isBinary())return new l(e.op,e.fn,[_(e.args[0],t),_(e.args[1],t)])}if("*"===e.op){var r=e.args.filter((function(e){return void 0!==t[e]}));if(r.length>0){var n=e.args.filter((function(e){return void 0===t[e]})),a=1===n.length?n[0]:new l("*","multiply",n),s=r.concat(_(a,t));return new l("*","multiply",s)}return new l("+","add",e.args.map((function(r){return new l("*","multiply",e.args.map((function(e){return e===r?_(e,t):e.clone()})))})))}if("/"===e.op&&e.isBinary()){var u=e.args[0],p=e.args[1];return void 0!==t[p]?new l("/","divide",[_(u,t),p]):void 0!==t[u]?new l("*","multiply",[new l("-","unaryMinus",[u]),new l("/","divide",[_(p,t),new l("^","pow",[p.clone(),v(2)])])]):new l("/","divide",[new l("-","subtract",[new l("*","multiply",[_(u,t),p.clone()]),new l("*","multiply",[u.clone(),_(p,t)])]),new l("^","pow",[p.clone(),v(2)])])}if("^"===e.op&&e.isBinary()){var d=e.args[0],f=e.args[1];if(void 0!==t[d])return isConstantNode(d)&&(o(d.value)||i(d.value,1))?v(0):new l("*","multiply",[e,new l("*","multiply",[new c("log",[d.clone()]),_(f.clone(),t)])]);if(void 0!==t[f]){if(isConstantNode(f)){if(o(f.value))return v(0);if(i(f.value,1))return _(d,t)}var m=new l("^","pow",[d.clone(),new l("-","subtract",[f,v(1)])]);return new l("*","multiply",[f.clone(),new l("*","multiply",[_(d,t),m])])}return new l("*","multiply",[new l("^","pow",[d.clone(),f.clone()]),new l("+","add",[new l("*","multiply",[_(d,t),new l("/","divide",[f.clone(),d.clone()])]),new l("*","multiply",[_(f,t),new c("log",[d.clone()])])])])}throw new Error('Operator "'+e.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function v(e,t){return new u(s(e,t||r.number))}return f})),name$41="rationalize",dependencies$43=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplify","?bignumber","?fraction","mathWithTransform","ConstantNode","OperatorNode","FunctionNode","SymbolNode","ParenthesisNode"],createRationalize=factory(name$41,dependencies$43,(function(e){var t=e.config,r=e.typed,n=e.equal,a=e.isZero,i=e.add,o=e.subtract,s=e.multiply,u=e.divide,c=e.pow,l=e.parse,p=e.simplify,d=e.fraction,f=e.bignumber,m=e.mathWithTransform,h=e.ConstantNode,_=e.OperatorNode,v=e.FunctionNode,g=e.SymbolNode,y=e.ParenthesisNode,b=createSimplifyConstant({typed:r,config:t,mathWithTransform:m,fraction:d,bignumber:f,ConstantNode:h,OperatorNode:_,FunctionNode:v,SymbolNode:g}),$=createSimplifyCore({equal:n,isZero:a,add:i,subtract:o,multiply:s,divide:u,pow:c,ConstantNode:h,OperatorNode:_,FunctionNode:v,ParenthesisNode:y});return r(name$41,{string:function(e){return this(l(e),{},!1)},"string, boolean":function(e,t){return this(l(e),{},t)},"string, Object":function(e,t){return this(l(e),t,!1)},"string, Object, boolean":function(e,t,r){return this(l(e),t,r)},Node:function(e){return this(e,{},!1)},"Node, boolean":function(e,t){return this(e,{},t)},"Node, Object":function(e,t){return this(e,t,!1)},"Node, Object, boolean":function(e,t,r){var n=function(){var e=[$,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},b,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],t=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],r=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],n={};return n.firstRules=e.concat(t,r),n.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],n.sucDivRules=r,n.firstRulesAgain=e.concat(t),n.finalRules=[$,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},b,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],n}(),a=function(e,t,r,n){var a=[],i=p(e,n,t,{exactFractions:!1}),o="+-*"+((r=!!r)?"/":"");!function e(t){var r=t.type;if("FunctionNode"===r)throw new Error("There is an unsolved function call");if("OperatorNode"===r)if("^"===t.op){if("ConstantNode"!==t.args[1].type||!isInteger(parseFloat(t.args[1].value)))throw new Error("There is a non-integer exponent");e(t.args[0])}else{if(-1===o.indexOf(t.op))throw new Error("Operator "+t.op+" invalid in polynomial expression");for(var n=0;n<t.args.length;n++)e(t.args[n])}else if("SymbolNode"===r){var i=t.name;-1===a.indexOf(i)&&a.push(i)}else if("ParenthesisNode"===r)e(t.content);else if("ConstantNode"!==r)throw new Error("type "+r+" is not allowed in polynomial expression")}(i);var s={};return s.expression=i,s.variables=a,s}(e,t,!0,n.firstRules),i=a.variables.length;if(e=a.expression,i>=1){var o,s;e=function e(t,r,n){var a=t.type,i=arguments.length>1;if("OperatorNode"===a&&t.isBinary()){var o,s=!1;if("^"===t.op&&("ParenthesisNode"!==t.args[0].type&&"OperatorNode"!==t.args[0].type||"ConstantNode"!==t.args[1].type||(o=parseFloat(t.args[1].value),s=o>=2&&isInteger(o))),s){if(o>2){var u=t.args[0],c=new _("^","pow",[t.args[0].cloneDeep(),new h(o-1)]);t=new _("*","multiply",[u,c])}else t=new _("*","multiply",[t.args[0],t.args[0].cloneDeep()]);i&&("content"===n?r.content=t:r.args[n]=t)}}if("ParenthesisNode"===a)e(t.content,t,"content");else if("ConstantNode"!==a&&"SymbolNode"!==a)for(var l=0;l<t.args.length;l++)e(t.args[l],t,l);if(!i)return t}(e);var u,c=!0,l=!1;for(e=p(e,n.firstRules,{},{exactFractions:!1});s=c?n.distrDivRules:n.sucDivRules,c=!c,(u=(e=p(e,s)).toString())!==o;)l=!0,o=u;l&&(e=p(e,n.firstRulesAgain,{},{exactFractions:!1})),e=p(e,n.finalRules,{},{exactFractions:!1})}var d=[],f={};return"OperatorNode"===e.type&&e.isBinary()&&"/"===e.op?(1===i&&(e.args[0]=x(e.args[0],d),e.args[1]=x(e.args[1])),r&&(f.numerator=e.args[0],f.denominator=e.args[1])):(1===i&&(e=x(e,d)),r&&(f.numerator=e,f.denominator=null)),r?(f.coefficients=d,f.variables=a.variables,f.expression=e,f):e}});function x(e,t){void 0===t&&(t=[]),t[0]=0;var r={cte:1,oper:"+",fire:""},n=0,a="";!function e(r,i,o){var s=r.type;if("FunctionNode"===s)throw new Error("There is an unsolved function call");if("OperatorNode"===s){if(-1==="+-*^".indexOf(r.op))throw new Error("Operator "+r.op+" invalid");if(null!==i){if(("unaryMinus"===r.fn||"pow"===r.fn)&&"add"!==i.fn&&"subtract"!==i.fn&&"multiply"!==i.fn)throw new Error("Invalid "+r.op+" placing");if(("subtract"===r.fn||"add"===r.fn||"multiply"===r.fn)&&"add"!==i.fn&&"subtract"!==i.fn)throw new Error("Invalid "+r.op+" placing");if(("subtract"===r.fn||"add"===r.fn||"unaryMinus"===r.fn)&&0!==o.noFil)throw new Error("Invalid "+r.op+" placing")}"^"!==r.op&&"*"!==r.op||(o.fire=r.op);for(var u=0;u<r.args.length;u++)"unaryMinus"===r.fn&&(o.oper="-"),"+"!==r.op&&"subtract"!==r.fn||(o.fire="",o.cte=1,o.oper=0===u?"+":r.op),o.noFil=u,e(r.args[u],r,o)}else if("SymbolNode"===s){if(r.name!==a&&""!==a)throw new Error("There is more than one variable");if(a=r.name,null===i)return void(t[1]=1);if("^"===i.op&&0!==o.noFil)throw new Error("In power the variable should be the first parameter");if("*"===i.op&&1!==o.noFil)throw new Error("In multiply the variable should be the second parameter");""!==o.fire&&"*"!==o.fire||(n<1&&(t[1]=0),t[1]+=o.cte*("+"===o.oper?1:-1),n=Math.max(1,n))}else{if("ConstantNode"!==s)throw new Error("Type "+s+" is not allowed");var c=parseFloat(r.value);if(null===i)return void(t[0]=c);if("^"===i.op){if(1!==o.noFil)throw new Error("Constant cannot be powered");if(!isInteger(c)||c<=0)throw new Error("Non-integer exponent is not allowed");for(var l=n+1;l<c;l++)t[l]=0;return c>n&&(t[c]=0),t[c]+=o.cte*("+"===o.oper?1:-1),void(n=Math.max(c,n))}o.cte=c,""===o.fire&&(t[0]+=o.cte*("+"===o.oper?1:-1))}}(e,null,r);for(var i,o=!0,s=n=t.length-1;s>=0;s--)if(0!==t[s]){var u=new h(o?t[s]:Math.abs(t[s])),c=t[s]<0?"-":"+";if(s>0){var l=new g(a);if(s>1){var p=new h(s);l=new _("^","pow",[l,p])}u=-1===t[s]&&o?new _("-","unaryMinus",[l]):1===Math.abs(t[s])?l:new _("*","multiply",[u,l])}i=o?u:"+"===c?new _("+","add",[i,u]):new _("-","subtract",[i,u]),o=!1}return o?new h(0):i}})),name$42="reviver",dependencies$44=["classes"],createReviver=factory(name$42,dependencies$44,(function(e){var t=e.classes;return function(e,r){var n=t[r&&r.mathjs];return n&&"function"==typeof n.fromJSON?n.fromJSON(r):r}})),name$43="replacer",dependencies$45=[],createReplacer=factory(name$43,dependencies$45,(function(){return function(e,t){return"number"!=typeof t||isFinite(t)&&!isNaN(t)?t:{mathjs:"number",value:String(t)}}})),version="7.3.0",createTrue=factory("true",[],(function(){return!0})),createFalse=factory("false",[],(function(){return!1})),createNull=factory("null",[],(function(){return null})),createInfinity=recreateFactory("Infinity",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(1/0):1/0})),createNaN=recreateFactory("NaN",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(NaN):NaN})),createPi=recreateFactory("pi",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?createBigNumberPi(r):pi})),createTau=recreateFactory("tau",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?createBigNumberTau(r):tau})),createE=recreateFactory("e",["config","?BigNumber"],(function(t){var r=t.config,n=t.BigNumber;return"BigNumber"===r.number?createBigNumberE(n):e})),createPhi=recreateFactory("phi",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?createBigNumberPhi(r):phi})),createLN2=recreateFactory("LN2",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(2).ln():Math.LN2})),createLN10=recreateFactory("LN10",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(10).ln():Math.LN10})),createLOG2E=recreateFactory("LOG2E",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(1).div(new r(2).ln()):Math.LOG2E})),createLOG10E=recreateFactory("LOG10E",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(1).div(new r(10).ln()):Math.LOG10E})),createSQRT1_2=recreateFactory("SQRT1_2",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r("0.5").sqrt():Math.SQRT1_2})),createSQRT2=recreateFactory("SQRT2",["config","?BigNumber"],(function(e){var t=e.config,r=e.BigNumber;return"BigNumber"===t.number?new r(2).sqrt():Math.SQRT2})),createI=recreateFactory("i",["Complex"],(function(e){return e.Complex.I})),createVersion=factory("version",[],(function(){return version}));function recreateFactory(e,t,r){return factory(e,t,r,{recreateOnConfigChange:!0})}var createSpeedOfLight=unitFactory("speedOfLight","299792458","m s^-1"),createGravitationConstant=unitFactory("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),createPlanckConstant=unitFactory("planckConstant","6.62607015e-34","J s"),createReducedPlanckConstant=unitFactory("reducedPlanckConstant","1.0545718176461565e-34","J s"),createMagneticConstant=unitFactory("magneticConstant","1.25663706212e-6","N A^-2"),createElectricConstant=unitFactory("electricConstant","8.8541878128e-12","F m^-1"),createVacuumImpedance=unitFactory("vacuumImpedance","376.730313667","ohm"),createCoulomb=unitFactory("coulomb","8.987551792261171e9","N m^2 C^-2"),createElementaryCharge=unitFactory("elementaryCharge","1.602176634e-19","C"),createBohrMagneton=unitFactory("bohrMagneton","9.2740100783e-24","J T^-1"),createConductanceQuantum=unitFactory("conductanceQuantum","7.748091729863649e-5","S"),createInverseConductanceQuantum=unitFactory("inverseConductanceQuantum","12906.403729652257","ohm"),createMagneticFluxQuantum=unitFactory("magneticFluxQuantum","2.0678338484619295e-15","Wb"),createNuclearMagneton=unitFactory("nuclearMagneton","5.0507837461e-27","J T^-1"),createKlitzing=unitFactory("klitzing","25812.807459304513","ohm"),createBohrRadius=unitFactory("bohrRadius","5.29177210903e-11","m"),createClassicalElectronRadius=unitFactory("classicalElectronRadius","2.8179403262e-15","m"),createElectronMass=unitFactory("electronMass","9.1093837015e-31","kg"),createFermiCoupling=unitFactory("fermiCoupling","1.1663787e-5","GeV^-2"),createFineStructure=numberFactory("fineStructure",.0072973525693),createHartreeEnergy=unitFactory("hartreeEnergy","4.3597447222071e-18","J"),createProtonMass=unitFactory("protonMass","1.67262192369e-27","kg"),createDeuteronMass=unitFactory("deuteronMass","3.3435830926e-27","kg"),createNeutronMass=unitFactory("neutronMass","1.6749271613e-27","kg"),createQuantumOfCirculation=unitFactory("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),createRydberg=unitFactory("rydberg","10973731.568160","m^-1"),createThomsonCrossSection=unitFactory("thomsonCrossSection","6.6524587321e-29","m^2"),createWeakMixingAngle=numberFactory("weakMixingAngle",.2229),createEfimovFactor=numberFactory("efimovFactor",22.7),createAtomicMass=unitFactory("atomicMass","1.66053906660e-27","kg"),createAvogadro=unitFactory("avogadro","6.02214076e23","mol^-1"),createBoltzmann=unitFactory("boltzmann","1.380649e-23","J K^-1"),createFaraday=unitFactory("faraday","96485.33212331001","C mol^-1"),createFirstRadiation=unitFactory("firstRadiation","3.7417718521927573e-16","W m^2"),createLoschmidt=unitFactory("loschmidt","2.686780111798444e25","m^-3"),createGasConstant=unitFactory("gasConstant","8.31446261815324","J K^-1 mol^-1"),createMolarPlanckConstant=unitFactory("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),createMolarVolume=unitFactory("molarVolume","0.022413969545014137","m^3 mol^-1"),createSackurTetrode=numberFactory("sackurTetrode",-1.16487052358),createSecondRadiation=unitFactory("secondRadiation","0.014387768775039337","m K"),createStefanBoltzmann=unitFactory("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),createWienDisplacement=unitFactory("wienDisplacement","2.897771955e-3","m K"),createMolarMass=unitFactory("molarMass","0.99999999965e-3","kg mol^-1"),createMolarMassC12=unitFactory("molarMassC12","11.9999999958e-3","kg mol^-1"),createGravity=unitFactory("gravity","9.80665","m s^-2"),createPlanckLength=unitFactory("planckLength","1.616255e-35","m"),createPlanckMass=unitFactory("planckMass","2.176435e-8","kg"),createPlanckTime=unitFactory("planckTime","5.391245e-44","s"),createPlanckCharge=unitFactory("planckCharge","1.87554603778e-18","C"),createPlanckTemperature=unitFactory("planckTemperature","1.416785e+32","K");function unitFactory(e,t,r){return factory(e,["config","Unit","BigNumber"],(function(e){var n=e.config,a=e.Unit,i=e.BigNumber,o=new a("BigNumber"===n.number?new i(t):parseFloat(t),r);return o.fixPrefix=!0,o}))}function numberFactory(e,t){return factory(e,["config","BigNumber"],(function(e){var r=e.config,n=e.BigNumber;return"BigNumber"===r.number?new n(t):t}))}var name$44="apply",dependencies$46=["typed","isInteger"],createApplyTransform=factory(name$44,dependencies$46,(function(e){var t=e.typed,r=e.isInteger,n=createApply({typed:t,isInteger:r});return t("apply",{"...any":function(e){var t=e[1];isNumber(t)?e[1]=t-1:isBigNumber(t)&&(e[1]=t.minus(1));try{return n.apply(null,e)}catch(e){throw errorTransform(e)}}})}),{isTransformFunction:!0}),name$45="column",dependencies$47=["typed","Index","matrix","range"],createColumnTransform=factory(name$45,dependencies$47,(function(e){var t=e.typed,r=e.Index,n=e.matrix,a=e.range,i=createColumn({typed:t,Index:r,matrix:n,range:a});return t("column",{"...any":function(e){var t=e.length-1,r=e[t];isNumber(r)&&(e[t]=r-1);try{return i.apply(null,e)}catch(e){throw errorTransform(e)}}})}),{isTransformFunction:!0});function compileInlineExpression(e,t,r){var n=e.filter((function(e){return isSymbolNode(e)&&!(e.name in t)&&!(e.name in r)}))[0];if(!n)throw new Error('No undefined variable found in inline expression "'+e+'"');var a=n.name,i=Object.create(r),o=e.compile();return function(e){return i[a]=e,o.evaluate(i)}}var name$46="filter",dependencies$48=["typed"],createFilterTransform=factory(name$46,dependencies$48,(function(e){var t=e.typed;function r(e,t,r){var a,i;return e[0]&&(a=e[0].compile().evaluate(r)),e[1]&&(i=isSymbolNode(e[1])||isFunctionAssignmentNode(e[1])?e[1].compile().evaluate(r):compileInlineExpression(e[1],t,r)),n(a,i)}r.rawArgs=!0;var n=t("filter",{"Array, function":_filter,"Matrix, function":function(e,t){return e.create(_filter(e.toArray(),t))},"Array, RegExp":filterRegExp,"Matrix, RegExp":function(e,t){return e.create(filterRegExp(e.toArray(),t))}});return r}),{isTransformFunction:!0});function _filter(e,t){var r=maxArgumentCount(t);return filter(e,(function(e,n,a){return 1===r?t(e):2===r?t(e,[n+1]):t(e,[n+1],a)}))}var name$47="forEach",dependencies$49=["typed"],createForEachTransform=factory(name$47,dependencies$49,(function(e){var t=e.typed;function r(e,t,r){var a,i;return e[0]&&(a=e[0].compile().evaluate(r)),e[1]&&(i=isSymbolNode(e[1])||isFunctionAssignmentNode(e[1])?e[1].compile().evaluate(r):compileInlineExpression(e[1],t,r)),n(a,i)}r.rawArgs=!0;var n=t("forEach",{"Array | Matrix, function":function(e,t){var r=maxArgumentCount(t);!function n(a,i){Array.isArray(a)?forEach(a,(function(e,t){n(e,i.concat(t+1))})):1===r?t(a):2===r?t(a,i):t(a,i,e)}(e.valueOf(),[])}});return r}),{isTransformFunction:!0}),name$48="index",dependencies$4a=["Index"],createIndexTransform=factory(name$48,dependencies$4a,(function(e){var t=e.Index;return function(){for(var e=[],r=0,n=arguments.length;r<n;r++){var a=arguments[r];if(isRange(a))a.start--,a.end-=a.step>0?0:2;else if(a&&!0===a.isSet)a=a.map((function(e){return e-1}));else if(isArray(a)||isMatrix(a))a=a.map((function(e){return e-1}));else if(isNumber(a))a--;else if(isBigNumber(a))a=a.toNumber()-1;else if("string"!=typeof a)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");e[r]=a}var i=new t;return t.apply(i,e),i}}),{isTransformFunction:!0}),name$49="map",dependencies$4b=["typed"],createMapTransform=factory(name$49,dependencies$4b,(function(e){var t=e.typed;function r(e,t,r){var a,i;return e[0]&&(a=e[0].compile().evaluate(r)),e[1]&&(i=isSymbolNode(e[1])||isFunctionAssignmentNode(e[1])?e[1].compile().evaluate(r):compileInlineExpression(e[1],t,r)),n(a,i)}r.rawArgs=!0;var n=t("map",{"Array, function":function(e,t){return _map$1(e,t,e)},"Matrix, function":function(e,t){return e.create(_map$1(e.valueOf(),t,e))}});return r}),{isTransformFunction:!0});function _map$1(e,t,r){var n=maxArgumentCount(t);return function e(a,i){return Array.isArray(a)?map(a,(function(t,r){return e(t,i.concat(r+1))})):1===n?t(a):2===n?t(a,i):t(a,i,r)}(e,[])}var name$4a="max",dependencies$4c=["typed","config","numeric","larger"],createMaxTransform=factory(name$4a,dependencies$4c,(function(e){var t=e.typed,r=e.config,n=e.numeric,a=e.larger,i=createMax({typed:t,config:r,numeric:n,larger:a});return t("max",{"...any":function(e){if(2===e.length&&isCollection(e[0])){var t=e[1];isNumber(t)?e[1]=t-1:isBigNumber(t)&&(e[1]=t.minus(1))}try{return i.apply(null,e)}catch(e){throw errorTransform(e)}}})}),{isTransformFunction:!0}),name$4b="mean",dependencies$4d=["typed","add","divide"],createMeanTransform=factory(name$4b,dependencies$4d,(function(e){var t=e.typed,r=e.add,n=e.divide,a=createMean({typed:t,add:r,divide:n});return t("mean",{"...any":function(e){if(2===e.length&&isCollection(e[0])){var t=e[1];isNumber(t)?e[1]=t-1:isBigNumber(t)&&(e[1]=t.minus(1))}try{return a.apply(null,e)}catch(e){throw errorTransform(e)}}})}),{isTransformFunction:!0}),name$4c="min",dependencies$4e=["typed","config","numeric","smaller"],createMinTransform=factory(name$4c,dependencies$4e,(function(e){var t=e.typed,r=e.config,n=e.numeric,a=e.smaller,i=createMin({typed:t,config:r,numeric:n,smaller:a});return t("min",{"...any":function(e){if(2===e.length&&isCollection(e[0])){var t=e[1];isNumber(t)?e[1]=t-1:isBigNumber(t)&&(e[1]=t.minus(1))}try{return i.apply(null,e)}catch(e){throw errorTransform(e)}}})}),{isTransformFunction:!0}),name$4d="range",dependencies$4f=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],createRangeTransform=factory(name$4d,dependencies$4f,(function(e){var t=e.typed,r=e.config,n=e.matrix,a=e.bignumber,i=e.smaller,o=e.smallerEq,s=e.larger,u=e.largerEq,c=createRange({typed:t,config:r,matrix:n,bignumber:a,smaller:i,smallerEq:o,larger:s,largerEq:u});return t("range",{"...any":function(e){return"boolean"!=typeof e[e.length-1]&&e.push(!0),c.apply(null,e)}})}),{isTransformFunction:!0}),name$4e="row",dependencies$4g=["typed","Index","matrix","range"],createRowTransform=factory(name$4e,dependencies$4g,(function(e){var t=e.typed,r=e.Index,n=e.matrix,a=e.range,i=createRow({typed:t,Index:r,matrix:n,range:a});return t("row",{"...any":function(e){var t=e.length-1,r=e[t];isNumber(r)&&(e[t]=r-1);try{return i.apply(null,e)}catch(e){throw errorTransform(e)}}})}),{isTransformFunction:!0}),name$4f="subset",dependencies$4h=["typed","matrix"],createSubsetTransform=factory(name$4f,dependencies$4h,(function(e){var t=e.typed,r=e.matrix,n=createSubset({typed:t,matrix:r});return t("subset",{"...any":function(e){try{return n.apply(null,e)}catch(e){throw errorTransform(e)}}})}),{isTransformFunction:!0}),name$4g="concat",dependencies$4i=["typed","matrix","isInteger"],createConcatTransform=factory(name$4g,dependencies$4i,(function(e){var t=e.typed,r=e.matrix,n=e.isInteger,a=createConcat({typed:t,matrix:r,isInteger:n});return t("concat",{"...any":function(e){var t=e.length-1,r=e[t];isNumber(r)?e[t]=r-1:isBigNumber(r)&&(e[t]=r.minus(1));try{return a.apply(null,e)}catch(e){throw errorTransform(e)}}})}),{isTransformFunction:!0}),name$4h="diff",dependencies$4j=["typed","matrix","subtract","number","bignumber"],createDiffTransform=factory(name$4h,dependencies$4j,(function(e){var t=e.typed,r=e.matrix,n=e.subtract,a=e.number,i=e.bignumber,o=createDiff({typed:t,matrix:r,subtract:n,number:a,bignumber:i});return t(name$4h,{"...any":function(e){if(2===e.length&&isCollection(e[0])){var t=e[1];isNumber(t)?e[1]=t-1:isBigNumber(t)&&(e[1]=t.minus(1))}try{return o.apply(null,e)}catch(e){throw errorTransform(e)}}})}),{isTransformFunction:!0}),name$4i="std",dependencies$4k=["typed","sqrt","variance"],createStdTransform=factory(name$4i,dependencies$4k,(function(e){var t=e.typed,r=e.sqrt,n=e.variance,a=createStd({typed:t,sqrt:r,variance:n});return t("std",{"...any":function(e){if(e.length>=2&&isCollection(e[0])){var t=e[1];isNumber(t)?e[1]=t-1:isBigNumber(t)&&(e[1]=t.minus(1))}try{return a.apply(null,e)}catch(e){throw errorTransform(e)}}})}),{isTransformFunction:!0}),name$4j="sum",dependencies$4l=["typed","config","add","numeric"],createSumTransform=factory(name$4j,dependencies$4l,(function(e){var t=e.typed,r=e.config,n=e.add,a=e.numeric,i=createSum({typed:t,config:r,add:n,numeric:a});return t(name$4j,{"...any":function(e){if(2===e.length&&isCollection(e[0])){var t=e[1];isNumber(t)?e[1]=t-1:isBigNumber(t)&&(e[1]=t.minus(1))}try{return i.apply(null,e)}catch(e){throw errorTransform(e)}}})}),{isTransformFunction:!0}),name$4k="variance",dependencies$4m=["typed","add","subtract","multiply","divide","apply","isNaN"],createVarianceTransform=factory(name$4k,dependencies$4m,(function(e){var t=e.typed,r=e.add,n=e.subtract,a=e.multiply,i=e.divide,o=e.apply,s=e.isNaN,u=createVariance({typed:t,add:r,subtract:n,multiply:a,divide:i,apply:o,isNaN:s});return t(name$4k,{"...any":function(e){if(e.length>=2&&isCollection(e[0])){var t=e[1];isNumber(t)?e[1]=t-1:isBigNumber(t)&&(e[1]=t.minus(1))}try{return u.apply(null,e)}catch(e){throw errorTransform(e)}}})}),{isTransformFunction:!0}),ResultSet=createResultSet({}),Complex$1=createComplexClass({}),Range=createRangeClass({}),_false=createFalse({}),_null=createNull({}),_true=createTrue({}),BigNumber=createBigNumberClass({config:config}),Matrix=createMatrixClass({}),replacer=createReplacer({}),i=createI({Complex:Complex$1}),LN10$1=createLN10({BigNumber:BigNumber,config:config}),LOG10E=createLOG10E({BigNumber:BigNumber,config:config}),_NaN=createNaN({BigNumber:BigNumber,config:config}),pi$1=createPi({BigNumber:BigNumber,config:config}),SQRT1_2=createSQRT1_2({BigNumber:BigNumber,config:config}),tau$1=createTau({BigNumber:BigNumber,config:config}),efimovFactor=createEfimovFactor({BigNumber:BigNumber,config:config}),fineStructure=createFineStructure({BigNumber:BigNumber,config:config}),sackurTetrode=createSackurTetrode({BigNumber:BigNumber,config:config}),weakMixingAngle=createWeakMixingAngle({BigNumber:BigNumber,config:config}),Fraction$1=createFractionClass({}),e$1=createE({BigNumber:BigNumber,config:config}),_Infinity=createInfinity({BigNumber:BigNumber,config:config}),LOG2E=createLOG2E({BigNumber:BigNumber,config:config}),version$1=createVersion({}),DenseMatrix=createDenseMatrixClass({Matrix:Matrix}),phi$1=createPhi({BigNumber:BigNumber,config:config}),typed=createTyped({BigNumber:BigNumber,Complex:Complex$1,DenseMatrix:DenseMatrix,Fraction:Fraction$1}),isInteger$1=createIsInteger({typed:typed}),isNumeric=createIsNumeric({typed:typed}),isPositive=createIsPositive({typed:typed}),isNaN$1=createIsNaN({typed:typed}),equalScalar=createEqualScalar({config:config,typed:typed}),number=createNumber({typed:typed}),_boolean=createBoolean({typed:typed}),complex$1=createComplex({Complex:Complex$1,typed:typed}),splitUnit=createSplitUnit({typed:typed}),unaryPlus=createUnaryPlus({BigNumber:BigNumber,config:config,typed:typed}),apply=createApply({isInteger:isInteger$1,typed:typed}),cube=createCube({typed:typed}),expm1$1=createExpm1({Complex:Complex$1,typed:typed}),log10$2=createLog10({Complex:Complex$1,config:config,typed:typed}),multiplyScalar=createMultiplyScalar({typed:typed}),sign$2=createSign({BigNumber:BigNumber,Fraction:Fraction$1,complex:complex$1,typed:typed}),square=createSquare({typed:typed}),bitNot=createBitNot({typed:typed}),arg=createArg({typed:typed}),im=createIm({typed:typed}),not=createNot({typed:typed}),filter$1=createFilter({typed:typed}),forEach$1=createForEach({typed:typed}),map$1=createMap({typed:typed}),erf=createErf({typed:typed}),format$3=createFormat({typed:typed}),oct=createOct({typed:typed}),print=createPrint({typed:typed}),isPrime=createIsPrime({typed:typed}),acos$1=createAcos({Complex:Complex$1,config:config,typed:typed}),acot=createAcot({BigNumber:BigNumber,typed:typed}),acsc=createAcsc({BigNumber:BigNumber,Complex:Complex$1,config:config,typed:typed}),asec=createAsec({BigNumber:BigNumber,Complex:Complex$1,config:config,typed:typed}),asin$1=createAsin({Complex:Complex$1,config:config,typed:typed}),atan$1=createAtan({typed:typed}),atanh$2=createAtanh({Complex:Complex$1,config:config,typed:typed}),cosh$2=createCosh({typed:typed}),coth=createCoth({BigNumber:BigNumber,typed:typed}),csch=createCsch({BigNumber:BigNumber,typed:typed}),sech=createSech({BigNumber:BigNumber,typed:typed}),sinh$2=createSinh({typed:typed}),tanh$2=createTanh({typed:typed}),combinations=createCombinations({typed:typed}),pickRandom=createPickRandom({config:config,typed:typed}),randomInt=createRandomInt({config:config,typed:typed}),LN2=createLN2({BigNumber:BigNumber,config:config}),clone$2=createClone({typed:typed}),hasNumericValue=createHasNumericValue({isNumeric:isNumeric,typed:typed}),typeOf$1=createTypeOf({typed:typed}),string=createString({typed:typed}),fraction$1=createFraction({Fraction:Fraction$1,typed:typed}),unaryMinus=createUnaryMinus({typed:typed}),addScalar=createAddScalar({typed:typed}),exp$1=createExp({typed:typed}),log2$2=createLog2({Complex:Complex$1,config:config,typed:typed}),sqrt$1=createSqrt({Complex:Complex$1,config:config,typed:typed}),conj=createConj({typed:typed}),getMatrixDataType=createGetMatrixDataType({typed:typed}),mode=createMode({isNaN:isNaN$1,isNumeric:isNumeric,typed:typed}),bin=createBin({typed:typed}),acosh$2=createAcosh({Complex:Complex$1,config:config,typed:typed}),acsch=createAcsch({BigNumber:BigNumber,typed:typed}),asinh$2=createAsinh({typed:typed}),cos$1=createCos({typed:typed}),csc=createCsc({BigNumber:BigNumber,typed:typed}),sin$1=createSin({typed:typed}),combinationsWithRep=createCombinationsWithRep({typed:typed}),random$1=createRandom({config:config,typed:typed}),SQRT2=createSQRT2({BigNumber:BigNumber,config:config}),isNegative=createIsNegative({typed:typed}),SparseMatrix=createSparseMatrixClass({Matrix:Matrix,equalScalar:equalScalar,typed:typed}),matrix=createMatrix({DenseMatrix:DenseMatrix,Matrix:Matrix,SparseMatrix:SparseMatrix,typed:typed}),cbrt$2=createCbrt({BigNumber:BigNumber,Complex:Complex$1,Fraction:Fraction$1,config:config,isNegative:isNegative,matrix:matrix,typed:typed,unaryMinus:unaryMinus}),gcd=createGcd({BigNumber:BigNumber,DenseMatrix:DenseMatrix,equalScalar:equalScalar,matrix:matrix,typed:typed}),mod$1=createMod({DenseMatrix:DenseMatrix,equalScalar:equalScalar,matrix:matrix,typed:typed}),nthRoot=createNthRoot({BigNumber:BigNumber,equalScalar:equalScalar,matrix:matrix,typed:typed}),xgcd=createXgcd({BigNumber:BigNumber,config:config,matrix:matrix,typed:typed}),bitAnd=createBitAnd({equalScalar:equalScalar,matrix:matrix,typed:typed}),bitXor$1=createBitXor({DenseMatrix:DenseMatrix,matrix:matrix,typed:typed}),or=createOr({DenseMatrix:DenseMatrix,equalScalar:equalScalar,matrix:matrix,typed:typed}),concat=createConcat({isInteger:isInteger$1,matrix:matrix,typed:typed}),diag=createDiag({DenseMatrix:DenseMatrix,SparseMatrix:SparseMatrix,matrix:matrix,typed:typed}),identity=createIdentity({BigNumber:BigNumber,DenseMatrix:DenseMatrix,SparseMatrix:SparseMatrix,config:config,matrix:matrix,typed:typed}),ones=createOnes({BigNumber:BigNumber,config:config,matrix:matrix,typed:typed}),reshape$1=createReshape({isInteger:isInteger$1,matrix:matrix,typed:typed}),size=createSize({matrix:matrix,config:config,typed:typed}),subset=createSubset({matrix:matrix,typed:typed}),zeros$1=createZeros({BigNumber:BigNumber,config:config,matrix:matrix,typed:typed}),hex=createHex({typed:typed}),round$1=createRound({BigNumber:BigNumber,DenseMatrix:DenseMatrix,equalScalar:equalScalar,matrix:matrix,typed:typed,zeros:zeros$1}),leftShift=createLeftShift({DenseMatrix:DenseMatrix,equalScalar:equalScalar,matrix:matrix,typed:typed,zeros:zeros$1}),rightLogShift=createRightLogShift({DenseMatrix:DenseMatrix,equalScalar:equalScalar,matrix:matrix,typed:typed,zeros:zeros$1}),compare=createCompare({BigNumber:BigNumber,DenseMatrix:DenseMatrix,Fraction:Fraction$1,config:config,equalScalar:equalScalar,matrix:matrix,typed:typed}),compareText$1=createCompareText({matrix:matrix,typed:typed}),smaller=createSmaller({DenseMatrix:DenseMatrix,config:config,matrix:matrix,typed:typed}),larger=createLarger({DenseMatrix:DenseMatrix,config:config,matrix:matrix,typed:typed}),unequal=createUnequal({DenseMatrix:DenseMatrix,config:config,equalScalar:equalScalar,matrix:matrix,typed:typed}),ImmutableDenseMatrix=createImmutableDenseMatrixClass({DenseMatrix:DenseMatrix,smaller:smaller}),FibonacciHeap=createFibonacciHeapClass({larger:larger,smaller:smaller}),sparse=createSparse({SparseMatrix:SparseMatrix,typed:typed}),acoth=createAcoth({BigNumber:BigNumber,Complex:Complex$1,config:config,typed:typed}),atan2$1=createAtan2({BigNumber:BigNumber,DenseMatrix:DenseMatrix,equalScalar:equalScalar,matrix:matrix,typed:typed}),sec=createSec({BigNumber:BigNumber,typed:typed}),add$1=createAdd({DenseMatrix:DenseMatrix,SparseMatrix:SparseMatrix,addScalar:addScalar,equalScalar:equalScalar,matrix:matrix,typed:typed}),dot=createDot({addScalar:addScalar,conj:conj,multiplyScalar:multiplyScalar,size:size,typed:typed}),composition=createComposition({addScalar:addScalar,combinations:combinations,isInteger:isInteger$1,isNegative:isNegative,isPositive:isPositive,larger:larger,typed:typed}),isZero=createIsZero({typed:typed}),abs$1=createAbs({typed:typed}),floor$1=createFloor({config:config,round:round$1,typed:typed}),multiply=createMultiply({addScalar:addScalar,dot:dot,equalScalar:equalScalar,matrix:matrix,multiplyScalar:multiplyScalar,typed:typed}),dotMultiply=createDotMultiply({equalScalar:equalScalar,matrix:matrix,multiplyScalar:multiplyScalar,typed:typed}),re=createRe({typed:typed}),flatten$1=createFlatten({matrix:matrix,typed:typed}),resize$1=createResize({config:config,matrix:matrix}),squeeze$1=createSqueeze({matrix:matrix,typed:typed}),to=createTo({matrix:matrix,typed:typed}),pow$1=createPow({Complex:Complex$1,config:config,fraction:fraction$1,identity:identity,matrix:matrix,multiply:multiply,number:number,typed:typed}),dotPow=createDotPow({DenseMatrix:DenseMatrix,equalScalar:equalScalar,matrix:matrix,pow:pow$1,typed:typed}),rightArithShift=createRightArithShift({DenseMatrix:DenseMatrix,equalScalar:equalScalar,matrix:matrix,typed:typed,zeros:zeros$1}),compareNatural=createCompareNatural({compare:compare,typed:typed}),equalText=createEqualText({compareText:compareText$1,isZero:isZero,typed:typed}),largerEq=createLargerEq({DenseMatrix:DenseMatrix,config:config,matrix:matrix,typed:typed}),partitionSelect=createPartitionSelect({compare:compare,isNaN:isNaN$1,isNumeric:isNumeric,typed:typed}),Index=createIndexClass({ImmutableDenseMatrix:ImmutableDenseMatrix}),asech=createAsech({BigNumber:BigNumber,Complex:Complex$1,config:config,typed:typed}),tan$1=createTan({typed:typed}),setDifference=createSetDifference({DenseMatrix:DenseMatrix,Index:Index,compareNatural:compareNatural,size:size,subset:subset,typed:typed}),setIntersect=createSetIntersect({DenseMatrix:DenseMatrix,Index:Index,compareNatural:compareNatural,size:size,subset:subset,typed:typed}),setMultiplicity=createSetMultiplicity({Index:Index,compareNatural:compareNatural,size:size,subset:subset,typed:typed}),setSize=createSetSize({compareNatural:compareNatural,typed:typed}),trace=createTrace({add:add$1,matrix:matrix,typed:typed}),quantileSeq=createQuantileSeq({add:add$1,compare:compare,multiply:multiply,partitionSelect:partitionSelect,typed:typed}),gamma=createGamma({BigNumber:BigNumber,Complex:Complex$1,config:config,multiplyScalar:multiplyScalar,pow:pow$1,typed:typed}),bignumber=createBignumber({BigNumber:BigNumber,typed:typed}),lcm=createLcm({equalScalar:equalScalar,matrix:matrix,typed:typed}),bitOr=createBitOr({DenseMatrix:DenseMatrix,equalScalar:equalScalar,matrix:matrix,typed:typed}),kron=createKron({matrix:matrix,multiplyScalar:multiplyScalar,typed:typed}),transpose=createTranspose({matrix:matrix,typed:typed}),numeric=createNumeric({bignumber:bignumber,fraction:fraction$1,number:number}),and=createAnd({equalScalar:equalScalar,matrix:matrix,not:not,typed:typed,zeros:zeros$1}),smallerEq=createSmallerEq({DenseMatrix:DenseMatrix,config:config,matrix:matrix,typed:typed}),sort=createSort({compare:compare,compareNatural:compareNatural,matrix:matrix,typed:typed}),min$1=createMin({config:config,numeric:numeric,smaller:smaller,typed:typed}),cot=createCot({BigNumber:BigNumber,typed:typed}),setDistinct=createSetDistinct({DenseMatrix:DenseMatrix,Index:Index,compareNatural:compareNatural,size:size,subset:subset,typed:typed}),setPowerset=createSetPowerset({Index:Index,compareNatural:compareNatural,size:size,subset:subset,typed:typed}),index=createIndex({Index:Index,typed:typed}),sum=createSum({add:add$1,config:config,numeric:numeric,typed:typed}),factorial=createFactorial({gamma:gamma,typed:typed}),permutations=createPermutations({factorial:factorial,typed:typed}),ceil$1=createCeil({config:config,round:round$1,typed:typed}),subtract=createSubtract({DenseMatrix:DenseMatrix,addScalar:addScalar,equalScalar:equalScalar,matrix:matrix,typed:typed,unaryMinus:unaryMinus}),cross=createCross({matrix:matrix,multiply:multiply,subtract:subtract,typed:typed}),range=createRange({bignumber:bignumber,matrix:matrix,config:config,larger:larger,largerEq:largerEq,smaller:smaller,smallerEq:smallerEq,typed:typed}),ctranspose=createCtranspose({conj:conj,transpose:transpose,typed:typed}),divideScalar=createDivideScalar({numeric:numeric,typed:typed}),nthRoots=createNthRoots({Complex:Complex$1,config:config,divideScalar:divideScalar,typed:typed}),lsolve=createLsolve({DenseMatrix:DenseMatrix,divideScalar:divideScalar,equalScalar:equalScalar,matrix:matrix,multiplyScalar:multiplyScalar,subtract:subtract,typed:typed}),lsolveAll=createLsolveAll({DenseMatrix:DenseMatrix,divideScalar:divideScalar,equalScalar:equalScalar,matrix:matrix,multiplyScalar:multiplyScalar,subtract:subtract,typed:typed}),equal=createEqual({DenseMatrix:DenseMatrix,equalScalar:equalScalar,matrix:matrix,typed:typed}),max$1=createMax({config:config,larger:larger,numeric:numeric,typed:typed}),setCartesian=createSetCartesian({DenseMatrix:DenseMatrix,Index:Index,compareNatural:compareNatural,size:size,subset:subset,typed:typed}),setSymDifference=createSetSymDifference({Index:Index,concat:concat,setDifference:setDifference,size:size,subset:subset,typed:typed}),hypot$1=createHypot({abs:abs$1,addScalar:addScalar,divideScalar:divideScalar,isPositive:isPositive,multiplyScalar:multiplyScalar,smaller:smaller,sqrt:sqrt$1,typed:typed}),qr=createQr({addScalar:addScalar,complex:complex$1,conj:conj,divideScalar:divideScalar,equal:equal,identity:identity,isZero:isZero,matrix:matrix,multiplyScalar:multiplyScalar,sign:sign$2,sqrt:sqrt$1,subtract:subtract,typed:typed,unaryMinus:unaryMinus,zeros:zeros$1}),distance=createDistance({abs:abs$1,addScalar:addScalar,divideScalar:divideScalar,multiplyScalar:multiplyScalar,sqrt:sqrt$1,subtract:subtract,typed:typed,unaryMinus:unaryMinus}),stirlingS2=createStirlingS2({addScalar:addScalar,combinations:combinations,divideScalar:divideScalar,factorial:factorial,isInteger:isInteger$1,isNegative:isNegative,larger:larger,multiplyScalar:multiplyScalar,pow:pow$1,subtract:subtract,typed:typed}),catalan=createCatalan({addScalar:addScalar,combinations:combinations,divideScalar:divideScalar,isInteger:isInteger$1,isNegative:isNegative,multiplyScalar:multiplyScalar,typed:typed}),fix=createFix({Complex:Complex$1,ceil:ceil$1,floor:floor$1,typed:typed}),column=createColumn({Index:Index,matrix:matrix,range:range,typed:typed}),row=createRow({Index:Index,matrix:matrix,range:range,typed:typed}),log$1=createLog({Complex:Complex$1,config:config,divideScalar:divideScalar,typed:typed}),dotDivide=createDotDivide({DenseMatrix:DenseMatrix,divideScalar:divideScalar,equalScalar:equalScalar,matrix:matrix,typed:typed}),usolveAll=createUsolveAll({DenseMatrix:DenseMatrix,divideScalar:divideScalar,equalScalar:equalScalar,matrix:matrix,multiplyScalar:multiplyScalar,subtract:subtract,typed:typed}),Spa=createSpaClass({FibonacciHeap:FibonacciHeap,addScalar:addScalar,equalScalar:equalScalar}),setIsSubset=createSetIsSubset({Index:Index,compareNatural:compareNatural,size:size,subset:subset,typed:typed}),lup=createLup({DenseMatrix:DenseMatrix,Spa:Spa,SparseMatrix:SparseMatrix,abs:abs$1,addScalar:addScalar,divideScalar:divideScalar,equalScalar:equalScalar,larger:larger,matrix:matrix,multiplyScalar:multiplyScalar,subtract:subtract,typed:typed,unaryMinus:unaryMinus}),det=createDet({lup:lup,matrix:matrix,multiply:multiply,subtract:subtract,typed:typed,unaryMinus:unaryMinus}),intersect=createIntersect({abs:abs$1,add:add$1,addScalar:addScalar,config:config,divideScalar:divideScalar,equalScalar:equalScalar,matrix:matrix,multiply:multiply,multiplyScalar:multiplyScalar,smaller:smaller,subtract:subtract,typed:typed}),bellNumbers=createBellNumbers({addScalar:addScalar,isInteger:isInteger$1,isNegative:isNegative,stirlingS2:stirlingS2,typed:typed}),xor=createXor({DenseMatrix:DenseMatrix,matrix:matrix,typed:typed}),prod=createProd({config:config,multiplyScalar:multiplyScalar,numeric:numeric,typed:typed}),usolve=createUsolve({DenseMatrix:DenseMatrix,divideScalar:divideScalar,equalScalar:equalScalar,matrix:matrix,multiplyScalar:multiplyScalar,subtract:subtract,typed:typed}),Unit=createUnitClass({BigNumber:BigNumber,Complex:Complex$1,Fraction:Fraction$1,abs:abs$1,addScalar:addScalar,config:config,divideScalar:divideScalar,equal:equal,fix:fix,format:format$3,isNumeric:isNumeric,multiplyScalar:multiplyScalar,number:number,pow:pow$1,round:round$1,subtract:subtract}),createUnit=createCreateUnit({Unit:Unit,typed:typed}),slu=createSlu({SparseMatrix:SparseMatrix,abs:abs$1,add:add$1,divideScalar:divideScalar,larger:larger,largerEq:largerEq,multiply:multiply,subtract:subtract,transpose:transpose,typed:typed}),inv=createInv({abs:abs$1,addScalar:addScalar,det:det,divideScalar:divideScalar,identity:identity,matrix:matrix,multiply:multiply,typed:typed,unaryMinus:unaryMinus}),expm=createExpm({abs:abs$1,add:add$1,identity:identity,inv:inv,multiply:multiply,typed:typed}),divide$1=createDivide({divideScalar:divideScalar,equalScalar:equalScalar,inv:inv,matrix:matrix,multiply:multiply,typed:typed}),median=createMedian({add:add$1,compare:compare,divide:divide$1,partitionSelect:partitionSelect,typed:typed}),variance=createVariance({add:add$1,apply:apply,divide:divide$1,isNaN:isNaN$1,multiply:multiply,subtract:subtract,typed:typed}),kldivergence=createKldivergence({divide:divide$1,dotDivide:dotDivide,isNumeric:isNumeric,log:log$1,matrix:matrix,multiply:multiply,sum:sum,typed:typed}),atomicMass=createAtomicMass({BigNumber:BigNumber,Unit:Unit,config:config}),bohrMagneton=createBohrMagneton({BigNumber:BigNumber,Unit:Unit,config:config}),boltzmann=createBoltzmann({BigNumber:BigNumber,Unit:Unit,config:config}),conductanceQuantum=createConductanceQuantum({BigNumber:BigNumber,Unit:Unit,config:config}),deuteronMass=createDeuteronMass({BigNumber:BigNumber,Unit:Unit,config:config}),electronMass=createElectronMass({BigNumber:BigNumber,Unit:Unit,config:config}),faraday=createFaraday({BigNumber:BigNumber,Unit:Unit,config:config}),firstRadiation=createFirstRadiation({BigNumber:BigNumber,Unit:Unit,config:config}),gravitationConstant=createGravitationConstant({BigNumber:BigNumber,Unit:Unit,config:config}),hartreeEnergy=createHartreeEnergy({BigNumber:BigNumber,Unit:Unit,config:config}),klitzing=createKlitzing({BigNumber:BigNumber,Unit:Unit,config:config}),magneticConstant=createMagneticConstant({BigNumber:BigNumber,Unit:Unit,config:config}),molarMass=createMolarMass({BigNumber:BigNumber,Unit:Unit,config:config}),molarPlanckConstant=createMolarPlanckConstant({BigNumber:BigNumber,Unit:Unit,config:config}),neutronMass=createNeutronMass({BigNumber:BigNumber,Unit:Unit,config:config}),planckCharge=createPlanckCharge({BigNumber:BigNumber,Unit:Unit,config:config}),planckLength=createPlanckLength({BigNumber:BigNumber,Unit:Unit,config:config}),planckTemperature=createPlanckTemperature({BigNumber:BigNumber,Unit:Unit,config:config}),protonMass=createProtonMass({BigNumber:BigNumber,Unit:Unit,config:config}),reducedPlanckConstant=createReducedPlanckConstant({BigNumber:BigNumber,Unit:Unit,config:config}),secondRadiation=createSecondRadiation({BigNumber:BigNumber,Unit:Unit,config:config}),stefanBoltzmann=createStefanBoltzmann({BigNumber:BigNumber,Unit:Unit,config:config}),vacuumImpedance=createVacuumImpedance({BigNumber:BigNumber,Unit:Unit,config:config}),diff=createDiff({matrix:matrix,number:number,subtract:subtract,typed:typed}),deepEqual=createDeepEqual({equal:equal,typed:typed}),setUnion=createSetUnion({Index:Index,concat:concat,setIntersect:setIntersect,setSymDifference:setSymDifference,size:size,subset:subset,typed:typed}),lusolve=createLusolve({DenseMatrix:DenseMatrix,lsolve:lsolve,lup:lup,matrix:matrix,slu:slu,typed:typed,usolve:usolve}),eigs=createEigs({abs:abs$1,add:add$1,addScalar:addScalar,atan:atan$1,bignumber:bignumber,config:config,cos:cos$1,equal:equal,inv:inv,matrix:matrix,multiply:multiply,multiplyScalar:multiplyScalar,sin:sin$1,subtract:subtract,typed:typed}),mean=createMean({add:add$1,divide:divide$1,typed:typed}),std=createStd({sqrt:sqrt$1,typed:typed,variance:variance}),avogadro=createAvogadro({BigNumber:BigNumber,Unit:Unit,config:config}),classicalElectronRadius=createClassicalElectronRadius({BigNumber:BigNumber,Unit:Unit,config:config}),electricConstant=createElectricConstant({BigNumber:BigNumber,Unit:Unit,config:config}),fermiCoupling=createFermiCoupling({BigNumber:BigNumber,Unit:Unit,config:config}),gravity=createGravity({BigNumber:BigNumber,Unit:Unit,config:config}),loschmidt=createLoschmidt({BigNumber:BigNumber,Unit:Unit,config:config}),molarMassC12=createMolarMassC12({BigNumber:BigNumber,Unit:Unit,config:config}),nuclearMagneton=createNuclearMagneton({BigNumber:BigNumber,Unit:Unit,config:config}),planckMass=createPlanckMass({BigNumber:BigNumber,Unit:Unit,config:config}),quantumOfCirculation=createQuantumOfCirculation({BigNumber:BigNumber,Unit:Unit,config:config}),speedOfLight=createSpeedOfLight({BigNumber:BigNumber,Unit:Unit,config:config}),wienDisplacement=createWienDisplacement({BigNumber:BigNumber,Unit:Unit,config:config}),log1p$1=createLog1p({Complex:Complex$1,config:config,divideScalar:divideScalar,log:log$1,typed:typed}),norm=createNorm({abs:abs$1,add:add$1,conj:conj,ctranspose:ctranspose,eigs:eigs,equalScalar:equalScalar,larger:larger,matrix:matrix,multiply:multiply,pow:pow$1,smaller:smaller,sqrt:sqrt$1,typed:typed}),sqrtm=createSqrtm({abs:abs$1,add:add$1,identity:identity,inv:inv,max:max$1,multiply:multiply,size:size,sqrt:sqrt$1,subtract:subtract,typed:typed}),multinomial=createMultinomial({add:add$1,divide:divide$1,factorial:factorial,isInteger:isInteger$1,isPositive:isPositive,multiply:multiply,typed:typed}),bohrRadius=createBohrRadius({BigNumber:BigNumber,Unit:Unit,config:config}),elementaryCharge=createElementaryCharge({BigNumber:BigNumber,Unit:Unit,config:config}),inverseConductanceQuantum=createInverseConductanceQuantum({BigNumber:BigNumber,Unit:Unit,config:config}),molarVolume=createMolarVolume({BigNumber:BigNumber,Unit:Unit,config:config}),planckTime=createPlanckTime({BigNumber:BigNumber,Unit:Unit,config:config}),thomsonCrossSection=createThomsonCrossSection({BigNumber:BigNumber,Unit:Unit,config:config}),unit=createUnitFunction({Unit:Unit,typed:typed}),mad=createMad({abs:abs$1,map:map$1,median:median,subtract:subtract,typed:typed}),coulomb=createCoulomb({BigNumber:BigNumber,Unit:Unit,config:config}),magneticFluxQuantum=createMagneticFluxQuantum({BigNumber:BigNumber,Unit:Unit,config:config}),rydberg=createRydberg({BigNumber:BigNumber,Unit:Unit,config:config}),planckConstant=createPlanckConstant({BigNumber:BigNumber,Unit:Unit,config:config}),gasConstant=createGasConstant({BigNumber:BigNumber,Unit:Unit,config:config});function _extends$6(){return(_extends$6=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var math={},mathWithTransform={},classes={},Node$1=createNode({mathWithTransform:mathWithTransform}),ArrayNode=createArrayNode({Node:Node$1}),BlockNode=createBlockNode({Node:Node$1,ResultSet:ResultSet}),ConstantNode=createConstantNode({Node:Node$1}),ObjectNode=createObjectNode({Node:Node$1}),ParenthesisNode=createParenthesisNode({Node:Node$1}),RelationalNode=createRelationalNode({Node:Node$1}),Chain=createChainClass({math:math}),reviver=createReviver({classes:classes}),ConditionalNode=createConditionalNode({Node:Node$1}),OperatorNode=createOperatorNode({Node:Node$1}),RangeNode=createRangeNode({Node:Node$1}),FunctionAssignmentNode=createFunctionAssignmentNode({Node:Node$1,typed:typed}),chain=createChain({Chain:Chain,typed:typed}),AccessorNode=createAccessorNode({Node:Node$1,subset:subset}),IndexNode=createIndexNode({Node:Node$1,Range:Range,size:size}),AssignmentNode=createAssignmentNode({matrix:matrix,Node:Node$1,subset:subset}),SymbolNode=createSymbolNode({Unit:Unit,Node:Node$1,math:math}),FunctionNode=createFunctionNode({Node:Node$1,SymbolNode:SymbolNode,math:math}),parse=createParse({AccessorNode:AccessorNode,ArrayNode:ArrayNode,AssignmentNode:AssignmentNode,BlockNode:BlockNode,ConditionalNode:ConditionalNode,ConstantNode:ConstantNode,FunctionAssignmentNode:FunctionAssignmentNode,FunctionNode:FunctionNode,IndexNode:IndexNode,ObjectNode:ObjectNode,OperatorNode:OperatorNode,ParenthesisNode:ParenthesisNode,RangeNode:RangeNode,RelationalNode:RelationalNode,SymbolNode:SymbolNode,config:config,numeric:numeric,typed:typed}),evaluate=createEvaluate({parse:parse,typed:typed}),Help=createHelpClass({parse:parse}),simplify=createSimplify({bignumber:bignumber,fraction:fraction$1,ConstantNode:ConstantNode,FunctionNode:FunctionNode,OperatorNode:OperatorNode,ParenthesisNode:ParenthesisNode,SymbolNode:SymbolNode,add:add$1,config:config,divide:divide$1,equal:equal,isZero:isZero,mathWithTransform:mathWithTransform,multiply:multiply,parse:parse,pow:pow$1,subtract:subtract,typed:typed}),rationalize=createRationalize({bignumber:bignumber,fraction:fraction$1,ConstantNode:ConstantNode,FunctionNode:FunctionNode,OperatorNode:OperatorNode,ParenthesisNode:ParenthesisNode,SymbolNode:SymbolNode,add:add$1,config:config,divide:divide$1,equal:equal,isZero:isZero,mathWithTransform:mathWithTransform,multiply:multiply,parse:parse,pow:pow$1,simplify:simplify,subtract:subtract,typed:typed}),compile=createCompile({parse:parse,typed:typed}),help=createHelp({Help:Help,mathWithTransform:mathWithTransform,typed:typed}),Parser=createParserClass({parse:parse}),derivative=createDerivative({ConstantNode:ConstantNode,FunctionNode:FunctionNode,OperatorNode:OperatorNode,ParenthesisNode:ParenthesisNode,SymbolNode:SymbolNode,config:config,equal:equal,isZero:isZero,numeric:numeric,parse:parse,simplify:simplify,typed:typed}),parser=createParser({Parser:Parser,typed:typed});function isBooleanString(e){return"true"===e||"false"===e||"True"===e||"False"===e||"TRUE"===e||"FALSE"===e||"1"===e||"0"===e}function castFromString(e,t){return["integer","float","long"].includes(t)&&null!==e&&!isNaN(Number(e))?Number(e):"boolean"===t&&isBooleanString(e)?"true"===e||"True"===e||"TRUE"===e||"1"===e:e}function generateNewColumnName(e,t){for(var r=1,n=e;t.includes(n);)n=""+e+r++;return n}function $$(e){return"$"+e}function enumerate(e,t){var r,n,a,i,o,s,u;return void 0===t&&(t=0),__generator(this,(function(c){switch(c.label){case 0:r=t,c.label=1;case 1:c.trys.push([1,6,7,8]),n=__values(e),a=n.next(),c.label=2;case 2:return a.done?[3,5]:(i=a.value,[4,[r++,i]]);case 3:c.sent(),c.label=4;case 4:return a=n.next(),[3,2];case 5:return[3,8];case 6:return o=c.sent(),s={error:o},[3,8];case 7:try{a&&!a.done&&(u=n.return)&&u.call(n)}finally{if(s)throw s.error}return[7];case 8:return[2]}}))}function keepCurrentValueIfCompatibleType(e,t){return Array.isArray(e)?t:typeof e==typeof t?e:t}function keepCurrentValueIfArrayType(e,t){return Array.isArray(e)?e:t}function escapeForUseInRegExp(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function combinations$1(e){if(0==e.length)return[];var t=combinations$1(e.slice(1));return __spread([[e[0]]],t.map((function(t){return __spread([e[0]],t)})),t).sort((function(e,t){return t.length-e.length}))}function setAggregationsNewColumnsInStep(e){var t,r,n,a,i,o,s={};try{for(var u=__values(e.aggregations),c=u.next();!c.done;c=u.next()){(h=c.value).newcolumns=__spread(h.columns);try{for(var l=(n=void 0,__values(h.newcolumns)),p=l.next();!p.done;p=l.next()){var d=p.value;s[d]=(s[d]||0)+1}}catch(e){n={error:e}}finally{try{p&&!p.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}try{for(var f=__values(e.aggregations),m=f.next();!m.done;m=f.next())for(var h=m.value,_=0;_<h.newcolumns.length;_++)s[h.newcolumns[_]]>1&&h.newcolumns.splice(_,1,h.newcolumns[_]+"-"+h.aggfunction)}catch(e){i={error:e}}finally{try{m&&!m.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}function isReference(e){return"string"==typeof e}function isMagicStep(e){return"isMagic"in e!=!1&&!0===e.isMagic}function isFilterComboAnd(e){return!!e.and}function isFilterComboOr(e){return!!e.or}_extends$6(math,{reviver:reviver,false:_false,null:_null,true:_true,replacer:replacer,i:i,LN10:LN10$1,LOG10E:LOG10E,NaN:_NaN,pi:pi$1,SQRT1_2:SQRT1_2,tau:tau$1,efimovFactor:efimovFactor,fineStructure:fineStructure,sackurTetrode:sackurTetrode,weakMixingAngle:weakMixingAngle,e:e$1,Infinity:_Infinity,LOG2E:LOG2E,PI:pi$1,version:version$1,E:e$1,phi:phi$1,typed:typed,isInteger:isInteger$1,isNumeric:isNumeric,isPositive:isPositive,isNaN:isNaN$1,equalScalar:equalScalar,number:number,boolean:_boolean,complex:complex$1,splitUnit:splitUnit,unaryPlus:unaryPlus,apply:apply,cube:cube,expm1:expm1$1,log10:log10$2,multiplyScalar:multiplyScalar,sign:sign$2,square:square,bitNot:bitNot,arg:arg,im:im,not:not,filter:filter$1,forEach:forEach$1,map:map$1,erf:erf,format:format$3,oct:oct,print:print,isPrime:isPrime,acos:acos$1,acot:acot,acsc:acsc,asec:asec,asin:asin$1,atan:atan$1,atanh:atanh$2,cosh:cosh$2,coth:coth,csch:csch,sech:sech,sinh:sinh$2,tanh:tanh$2,chain:chain,combinations:combinations,pickRandom:pickRandom,randomInt:randomInt,LN2:LN2,clone:clone$2,hasNumericValue:hasNumericValue,typeOf:typeOf$1,string:string,fraction:fraction$1,unaryMinus:unaryMinus,addScalar:addScalar,exp:exp$1,log2:log2$2,sqrt:sqrt$1,conj:conj,getMatrixDataType:getMatrixDataType,mode:mode,bin:bin,acosh:acosh$2,acsch:acsch,asinh:asinh$2,cos:cos$1,csc:csc,sin:sin$1,combinationsWithRep:combinationsWithRep,random:random$1,SQRT2:SQRT2,isNegative:isNegative,matrix:matrix,cbrt:cbrt$2,gcd:gcd,mod:mod$1,nthRoot:nthRoot,xgcd:xgcd,bitAnd:bitAnd,bitXor:bitXor$1,or:or,concat:concat,diag:diag,identity:identity,ones:ones,reshape:reshape$1,size:size,subset:subset,zeros:zeros$1,hex:hex,round:round$1,leftShift:leftShift,rightLogShift:rightLogShift,compare:compare,compareText:compareText$1,smaller:smaller,larger:larger,unequal:unequal,sparse:sparse,acoth:acoth,atan2:atan2$1,sec:sec,add:add$1,dot:dot,composition:composition,isZero:isZero,abs:abs$1,floor:floor$1,multiply:multiply,dotMultiply:dotMultiply,re:re,flatten:flatten$1,resize:resize$1,squeeze:squeeze$1,to:to,pow:pow$1,dotPow:dotPow,rightArithShift:rightArithShift,compareNatural:compareNatural,equalText:equalText,largerEq:largerEq,partitionSelect:partitionSelect,asech:asech,tan:tan$1,setDifference:setDifference,setIntersect:setIntersect,setMultiplicity:setMultiplicity,setSize:setSize,trace:trace,quantileSeq:quantileSeq,gamma:gamma,bignumber:bignumber,lcm:lcm,bitOr:bitOr,kron:kron,transpose:transpose,numeric:numeric,and:and,smallerEq:smallerEq,sort:sort,min:min$1,cot:cot,setDistinct:setDistinct,setPowerset:setPowerset,index:index,sum:sum,factorial:factorial,permutations:permutations,ceil:ceil$1,subtract:subtract,cross:cross,range:range,ctranspose:ctranspose,divideScalar:divideScalar,nthRoots:nthRoots,lsolve:lsolve,lsolveAll:lsolveAll,equal:equal,max:max$1,setCartesian:setCartesian,setSymDifference:setSymDifference,hypot:hypot$1,qr:qr,distance:distance,stirlingS2:stirlingS2,catalan:catalan,fix:fix,column:column,row:row,log:log$1,dotDivide:dotDivide,usolveAll:usolveAll,setIsSubset:setIsSubset,lup:lup,det:det,intersect:intersect,bellNumbers:bellNumbers,xor:xor,prod:prod,usolve:usolve,createUnit:createUnit,slu:slu,inv:inv,expm:expm,divide:divide$1,median:median,variance:variance,kldivergence:kldivergence,atomicMass:atomicMass,bohrMagneton:bohrMagneton,boltzmann:boltzmann,conductanceQuantum:conductanceQuantum,deuteronMass:deuteronMass,electronMass:electronMass,faraday:faraday,firstRadiation:firstRadiation,gravitationConstant:gravitationConstant,hartreeEnergy:hartreeEnergy,klitzing:klitzing,magneticConstant:magneticConstant,molarMass:molarMass,molarPlanckConstant:molarPlanckConstant,neutronMass:neutronMass,planckCharge:planckCharge,planckLength:planckLength,planckTemperature:planckTemperature,protonMass:protonMass,reducedPlanckConstant:reducedPlanckConstant,secondRadiation:secondRadiation,stefanBoltzmann:stefanBoltzmann,vacuumImpedance:vacuumImpedance,diff:diff,deepEqual:deepEqual,setUnion:setUnion,lusolve:lusolve,eigs:eigs,mean:mean,std:std,avogadro:avogadro,classicalElectronRadius:classicalElectronRadius,electricConstant:electricConstant,fermiCoupling:fermiCoupling,gravity:gravity,loschmidt:loschmidt,molarMassC12:molarMassC12,nuclearMagneton:nuclearMagneton,planckMass:planckMass,quantumOfCirculation:quantumOfCirculation,speedOfLight:speedOfLight,wienDisplacement:wienDisplacement,log1p:log1p$1,norm:norm,sqrtm:sqrtm,multinomial:multinomial,bohrRadius:bohrRadius,elementaryCharge:elementaryCharge,inverseConductanceQuantum:inverseConductanceQuantum,molarVolume:molarVolume,planckTime:planckTime,thomsonCrossSection:thomsonCrossSection,unit:unit,mad:mad,coulomb:coulomb,magneticFluxQuantum:magneticFluxQuantum,rydberg:rydberg,parse:parse,evaluate:evaluate,simplify:simplify,rationalize:rationalize,planckConstant:planckConstant,compile:compile,help:help,gasConstant:gasConstant,derivative:derivative,parser:parser,config:config}),_extends$6(mathWithTransform,math,{apply:createApplyTransform({isInteger:isInteger$1,typed:typed}),filter:createFilterTransform({typed:typed}),map:createMapTransform({typed:typed}),forEach:createForEachTransform({typed:typed}),subset:createSubsetTransform({matrix:matrix,typed:typed}),index:createIndexTransform({Index:Index}),concat:createConcatTransform({isInteger:isInteger$1,matrix:matrix,typed:typed}),max:createMaxTransform({config:config,larger:larger,numeric:numeric,typed:typed}),min:createMinTransform({config:config,numeric:numeric,smaller:smaller,typed:typed}),sum:createSumTransform({add:add$1,config:config,numeric:numeric,typed:typed}),column:createColumnTransform({Index:Index,matrix:matrix,range:range,typed:typed}),range:createRangeTransform({bignumber:bignumber,matrix:matrix,config:config,larger:larger,largerEq:largerEq,smaller:smaller,smallerEq:smallerEq,typed:typed}),diff:createDiffTransform({bignumber:bignumber,matrix:matrix,number:number,subtract:subtract,typed:typed}),row:createRowTransform({Index:Index,matrix:matrix,range:range,typed:typed}),mean:createMeanTransform({add:add$1,divide:divide$1,typed:typed}),variance:createVarianceTransform({add:add$1,apply:apply,divide:divide$1,isNaN:isNaN$1,multiply:multiply,subtract:subtract,typed:typed}),std:createStdTransform({sqrt:sqrt$1,typed:typed,variance:variance})}),_extends$6(classes,{ResultSet:ResultSet,Complex:Complex$1,Range:Range,Node:Node$1,ArrayNode:ArrayNode,BlockNode:BlockNode,ConstantNode:ConstantNode,ObjectNode:ObjectNode,ParenthesisNode:ParenthesisNode,RelationalNode:RelationalNode,Chain:Chain,BigNumber:BigNumber,Matrix:Matrix,ConditionalNode:ConditionalNode,OperatorNode:OperatorNode,Fraction:Fraction$1,RangeNode:RangeNode,DenseMatrix:DenseMatrix,FunctionAssignmentNode:FunctionAssignmentNode,SparseMatrix:SparseMatrix,ImmutableDenseMatrix:ImmutableDenseMatrix,FibonacciHeap:FibonacciHeap,AccessorNode:AccessorNode,IndexNode:IndexNode,Index:Index,AssignmentNode:AssignmentNode,Spa:Spa,Unit:Unit,SymbolNode:SymbolNode,FunctionNode:FunctionNode,Help:Help,Parser:Parser}),Chain.createProxy(math),Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Number.isNaN=Number.isNaN||function(e){return e!=e};var DATE_EXTRACT_MAP={year:"$year",month:"$month",day:"$dayOfMonth",hour:"$hour",minutes:"$minute",seconds:"$second",milliseconds:"$millisecond",dayOfYear:"$dayOfYear",dayOfWeek:"$dayOfWeek",week:"$week"},DURATION_MULTIPLIER_MAP={days:864e5,hours:36e5,minutes:6e4,seconds:1e3};function columnMap(e){return lodash.fromPairs(e.map((function(e){return[e,$$(e)]})))}function columnToUserVariable(e){return"vqb_"+e.replace(/[^_a-zA-Z0-9]/g,"_")}function _simplifyAndCondition(e){var t,r,n,a,i,o,s={},u=[],c={};try{for(var l=__values(e.$and),p=l.next();!p.done;p=l.next()){var d=p.value;for(var f in d)c[f]=Object.prototype.hasOwnProperty.call(c,f)?c[f]+1:1}}catch(e){t={error:e}}finally{try{p&&!p.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}try{for(var m=__values(e.$and),h=m.next();!h.done;h=m.next()){d=h.value;for(var f in d)c[f]>1&&"$or"!==f?u.push(((i={})[f]=d[f],i)):s=__assign(__assign({},s),((o={})[f]=d[f],o))}}catch(e){n={error:e}}finally{try{h&&!h.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}return u.length>0&&(s=__assign(__assign({},s),{$and:u})),s}function _simplifyMongoPipeline(e){var t,r;if(!e.length)return[];var n=!0,a=[],i=e[0];a.push(i);try{for(var o=__values(e.slice(1)),s=o.next();!s.done;s=o.next()){var u=s.value,c=__read(Object.keys(u),1)[0];if(("$project"===c||"$match"===c)&&void 0!==i[c]){var l=function(e){if("$project"===c){var t=Boolean(u.$project[e]);n=Object.values(i.$project).every((function(e){return Boolean(e)===t}))}if(Object.prototype.hasOwnProperty.call(i[c],e))return n=!1,"break";if("$match"!==c){var r=JSON.stringify(u[c][e]);for(var a in i[c]){if(new RegExp(".*['\"]\\$"+a+"(\\..+)?['\"].*").test(r)){n=!1;break}}}};for(var p in u[c]){if("break"===l(p))break}if(n){i[c]=__assign(__assign({},i[c]),u[c]);continue}}i=u,a.push(i),n=!0}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return a}function getOperator(e){var t={"+":"$add","-":"$subtract","*":"$multiply","/":"$divide"};if(void 0===t[e])throw new Error("Unsupported operator "+e);return t[e]}function buildFormulaTree(e,t){var r,n,a,i;if("string"!=typeof e)return new ConstantNode(e);var o=e,s={},u=0,c=new RegExp(escapeForUseInRegExp("[")+"(.*?)"+escapeForUseInRegExp("]"),"g");try{for(var l=__values(e.match(c)||[]),p=l.next();!p.done;p=l.next()){var d=p.value;s["__vqb_col_"+u+"__"]=d,o=o.replace(d,"__vqb_col_"+u+"__"),u++}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}var f={};if(t){var m=0,h=new RegExp(escapeForUseInRegExp(t.start)+"(.*?)"+escapeForUseInRegExp(t.end),"g");try{for(var _=__values(e.match(h)||[]),v=_.next();!v.done;v=_.next()){d=v.value;f["__vqb_var_"+m+"__"]=d,o=o.replace(d,"__vqb_var_"+m+"__"),m++}}catch(e){a={error:e}}finally{try{v&&!v.done&&(i=_.return)&&i.call(_)}finally{if(a)throw a.error}}}return parse(o).transform((function(e){return"SymbolNode"===e.type&&(s[e.name]&&(e.name=s[e.name].replace("[","").replace("]","")),t&&f[e.name])?new ConstantNode(f[e.name]):e}))}function buildCondExpression(e){var t;if(isFilterComboAnd(e))return 1==e.and.length?buildCondExpression(e.and[0]):{$and:e.and.map(buildCondExpression)};if(isFilterComboOr(e))return{$or:e.or.map((function(e){return buildCondExpression(e)}))};if("matches"===e.operator||"notmatches"===e.operator)throw new Error("Unsupported operator "+e.operator);return(t={})[{eq:"$eq",ne:"$ne",lt:"$lt",le:"$lte",gt:"$gt",ge:"$gte",in:"$in",nin:"$nin",isnull:"$eq",notnull:"$ne"}[e.operator]]=[$$(e.column),e.value],t}function buildMatchTree(e,t){var r,n,a,i;void 0===t&&(t="and");return isFilterComboAnd(e)&&"or"!==t?_simplifyAndCondition({$and:e.and.map((function(e){return buildMatchTree(e,"and")}))}):isFilterComboAnd(e)?{$and:e.and.map((function(e){return buildMatchTree(e,"and")}))}:isFilterComboOr(e)?{$or:e.or.map((function(e){return buildMatchTree(e,"or")}))}:"matches"===e.operator?((r={})[e.column]={$regex:e.value},r):"notmatches"===e.operator?((n={})[e.column]={$not:{$regex:e.value}},n):((a={})[e.column]=((i={})[{eq:"$eq",ne:"$ne",lt:"$lt",le:"$lte",gt:"$gt",ge:"$gte",in:"$in",nin:"$nin",isnull:"$eq",notnull:"$ne"}[e.operator]]=e.value,i),a)}function buildMongoFormulaTree(e){var t;switch(e.type){case"OperatorNode":return 1===e.args.length?{$multiply:["+"===e.op?1:-1,buildMongoFormulaTree(e.args[0])]}:((t={})[getOperator(e.op)]=e.args.map((function(e){return buildMongoFormulaTree(e)})),t);case"SymbolNode":return $$(e.name);case"ConstantNode":return e.value;case"ParenthesisNode":return buildMongoFormulaTree(e.content)}}function _generateDateFromParts(e,t){var r={year:{$year:e}};return"day"!==t&&"month"!==t||(r.month={$month:e}),"day"===t&&(r.day={$dayOfMonth:e}),r}function addMissingDatesYear(e){var t,r,n=null!=(r=e.groups)?r:[],a={$map:{input:{$range:["$_vqbMinYear",{$add:["$_vqbMaxYear",1]}]},as:"currentYear",in:{$let:{vars:{yearIndex:{$indexOfArray:["$_vqbArray._vqbYear","$$currentYear"]}},in:{$cond:[{$ne:["$$yearIndex",-1]},{$arrayElemAt:["$_vqbArray","$$yearIndex"]},__assign(__assign({},Object.fromEntries(n.map((function(e){return[e,"$_id."+e]})))),(t={},t[e.datesColumn]={$dateFromParts:{year:"$$currentYear"}},t))]}}}}};return[{$addFields:{_vqbYear:{$year:$$(e.datesColumn)}}},{$group:{_id:e.groups?columnMap(n):null,_vqbArray:{$push:"$$ROOT"},_vqbMinYear:{$min:"$_vqbYear"},_vqbMaxYear:{$max:"$_vqbYear"}}},{$addFields:{_vqbAllDates:a}}]}function addMissingDatesDayOrMonth(e){var t,r,n=null!=(r=e.groups)?r:[],a={$map:{input:{$range:[0,{$add:["$_vqbMinMaxDiffInDays",1]}]},as:"currentDurationInDays",in:{$let:{vars:{currentDay:{$add:["$_vqbMinDay",{$multiply:["$$currentDurationInDays",864e5]}]}},in:{$dateFromParts:_generateDateFromParts("$$currentDay",e.datesGranularity)}}}}},i={$reduce:{input:a,initialValue:[],in:{$cond:[{$eq:[{$indexOfArray:["$$value","$$this"]},-1]},{$concatArrays:["$$value",["$$this"]]},{$concatArrays:["$$value",[]]}]}}},o={$map:{input:"day"===e.datesGranularity?a:i,as:"date",in:{$let:{vars:{dateIndex:{$indexOfArray:["$_vqbArray._vqbDay","$$date"]}},in:{$cond:[{$ne:["$$dateIndex",-1]},{$arrayElemAt:["$_vqbArray","$$dateIndex"]},__assign(__assign({},Object.fromEntries(n.map((function(e){return[e,"$_id."+e]})))),(t={},t[e.datesColumn]="$$date",t))]}}}}};return[{$addFields:{_vqbDay:{$dateFromParts:_generateDateFromParts($$(e.datesColumn),e.datesGranularity)}}},{$group:{_id:e.groups?columnMap(n):null,_vqbArray:{$push:"$$ROOT"},_vqbMinDay:{$min:"$_vqbDay"},_vqbMaxDay:{$max:"$_vqbDay"}}},{$addFields:{_vqbMinMaxDiffInDays:{$divide:[{$subtract:["$_vqbMaxDay","$_vqbMinDay"]},864e5]}}},{$addFields:{_vqbAllDates:o}}]}function transformAddMissingDates(e){var t;return __spread("year"===e.datesGranularity?addMissingDatesYear(e):addMissingDatesDayOrMonth(e),[{$unwind:"$_vqbAllDates"},{$replaceRoot:{newRoot:"$_vqbAllDates"}},{$project:(t={},t["year"===e.datesGranularity?"_vqbYear":"_vqbDay"]=0,t)}])}function transformAggregate(e){var t,r,n,a,i,o,s,u=columnMap(e.on),c={},l={};c._id=u;try{for(var p=__values(e.aggregations),d=p.next();!d.done;d=p.next()){var f=d.value,m=f.column?[f.column]:f.columns,h=f.newcolumn?[f.newcolumn]:f.newcolumns;if("count"===f.aggfunction)for(var _=0;_<m.length;_++)c[h[_]]={$sum:1};else for(_=0;_<m.length;_++)c[h[_]]=((n={})[$$(f.aggfunction)]=$$(m[_]),n)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}if(e.keepOriginalGranularity)return c._vqbDocsArray={$push:"$$ROOT"},[{$group:c},{$unwind:"$_vqbDocsArray"},{$replaceRoot:{newRoot:{$mergeObjects:["$_vqbDocsArray","$$ROOT"]}}},{$project:{_vqbDocsArray:0}}];try{for(var v=__values(Object.keys(c)),g=v.next();!g.done;g=v.next()){var y=g.value;if("_id"===y)try{for(var b=(o=void 0,__values(Object.keys(c[y]))),$=b.next();!$.done;$=b.next()){var x=$.value;l[x]="$_id."+x}}catch(e){o={error:e}}finally{try{$&&!$.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}else l[y]=1}}catch(e){a={error:e}}finally{try{g&&!g.done&&(i=v.return)&&i.call(v)}finally{if(a)throw a.error}}return[{$group:c},{$project:l}]}function transformArgmaxArgmin(e){var t,r={};return r.$group={_id:e.groups?columnMap(e.groups):null,_vqbAppArray:{$push:"$$ROOT"},_vqbAppValueToCompare:(t={},t[{argmax:"$max",argmin:"$min"}[e.name]]=$$(e.column),t)},[r,{$unwind:"$_vqbAppArray"},{$replaceRoot:{newRoot:{$mergeObjects:["$_vqbAppArray","$$ROOT"]}}},{$project:{_vqbAppArray:0}},{$redact:{$cond:[{$eq:[$$(e.column),"$_vqbAppValueToCompare"]},"$$KEEP","$$PRUNE"]}},{$project:{_vqbAppValueToCompare:0}}]}function transformCumSum(e){var t,r,n,a,i,o=null!=(a=e.groupby)?a:[];return[{$sort:(t={},t[e.referenceColumn]=1,t)},{$group:(r={_id:e.groupby?columnMap(o):null},r[e.valueColumn]={$push:$$(e.valueColumn)},r._vqbArray={$push:"$$ROOT"},r)},{$unwind:{path:"$_vqbArray",includeArrayIndex:"_VQB_INDEX"}},{$project:__assign(__assign({},Object.fromEntries(o.map((function(e){return[e,"$_id."+e]})))),(n={},n[(i=e.newColumn,null!=i?i:e.valueColumn+"_CUMSUM")]={$sum:{$slice:[$$(e.valueColumn),{$add:["$_VQB_INDEX",1]}]}},n._vqbArray=1,n))},{$replaceRoot:{newRoot:{$mergeObjects:["$_vqbArray","$$ROOT"]}}},{$project:{_vqbArray:0}}]}function transformConcatenate(e){var t,r,n,a=[$$(e.columns[0])];try{for(var i=__values(e.columns.slice(1)),o=i.next();!o.done;o=i.next()){var s=o.value;a.push(e.separator,$$(s))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return{$addFields:(n={},n[e.new_column_name]={$concat:a},n)}}function transformEvolution(e){var t,r=null!=(t=e.newColumn)?t:e.valueCol+"_EVOL_"+e.evolutionFormat.toUpperCase(),n="Error: More than one previous date found for the specified index columns",a={},i={};return"abs"===e.evolutionFormat?i[r]={$cond:[{$eq:["$_VQB_VALUE_PREV","Error"]},n,{$subtract:[$$(e.valueCol),"$_VQB_VALUE_PREV"]}]}:i[r]={$switch:{branches:[{case:{$eq:["$_VQB_VALUE_PREV","Error"]},then:n},{case:{$eq:["$_VQB_VALUE_PREV",0]},then:null}],default:{$divide:[{$subtract:[$$(e.valueCol),"$_VQB_VALUE_PREV"]},"$_VQB_VALUE_PREV"]}}},"vsLastYear"===e.evolutionType?a._VQB_DATE_PREV={$dateFromParts:{year:{$subtract:[{$year:$$(e.dateCol)},1]},month:{$month:$$(e.dateCol)},day:{$dayOfMonth:$$(e.dateCol)}}}:"vsLastMonth"===e.evolutionType?a._VQB_DATE_PREV={$dateFromParts:{year:{$cond:[{$eq:[{$month:$$(e.dateCol)},1]},{$subtract:[{$year:$$(e.dateCol)},1]},{$year:$$(e.dateCol)}]},month:{$cond:[{$eq:[{$month:$$(e.dateCol)},1]},12,{$subtract:[{$month:$$(e.dateCol)},1]}]},day:{$dayOfMonth:$$(e.dateCol)}}}:a._VQB_DATE_PREV={$subtract:[$$(e.dateCol),864e5*("vsLastWeek"===e.evolutionType?7:1)]},[{$addFields:a},{$facet:{_VQB_ORIGINALS:[{$project:{_id:0}}],_VQB_COPIES_ARRAY:[{$group:{_id:null,_VQB_ALL_DOCS:{$push:"$$ROOT"}}}]}},{$unwind:"$_VQB_ORIGINALS"},{$project:{_VQB_ORIGINALS:{$mergeObjects:["$_VQB_ORIGINALS",{$arrayElemAt:["$_VQB_COPIES_ARRAY",0]}]}}},{$replaceRoot:{newRoot:"$_VQB_ORIGINALS"}},{$addFields:{_VQB_ALL_DOCS:{$filter:{input:"$_VQB_ALL_DOCS",as:"item",cond:{$and:__spread([{$eq:["$_VQB_DATE_PREV","$$item."+e.dateCol]}],e.indexColumns.map((function(e){return{$eq:[$$(e),"$$item."+e]}})))}}}}},{$addFields:{_VQB_VALUE_PREV:{$cond:[{$gt:[{$size:"$_VQB_ALL_DOCS."+e.valueCol},1]},"Error",{$arrayElemAt:["$_VQB_ALL_DOCS."+e.valueCol,0]}]}}},{$addFields:i},{$project:{_VQB_ALL_DOCS:0,_VQB_DATE_PREV:0,_VQB_VALUE_PREV:0}}]}function transformFillna(e){var t=[];return t=e.column?[e.column]:__spread(e.columns),{$addFields:Object.fromEntries(t.map((function(t){return[t,{$ifNull:[$$(t),e.value]}]})))}}function transformFilterStep(e){return{$match:buildMatchTree(e.condition)}}function transformFromDate(e){var t,r,n,a,i,o,s,u,c,l,p,d,f,m={$switch:{branches:[{case:{$eq:["$_vqbTempMonth","01"]},then:"Jan"},{case:{$eq:["$_vqbTempMonth","02"]},then:"Feb"},{case:{$eq:["$_vqbTempMonth","03"]},then:"Mar"},{case:{$eq:["$_vqbTempMonth","04"]},then:"Apr"},{case:{$eq:["$_vqbTempMonth","05"]},then:"May"},{case:{$eq:["$_vqbTempMonth","06"]},then:"Jun"},{case:{$eq:["$_vqbTempMonth","07"]},then:"Jul"},{case:{$eq:["$_vqbTempMonth","08"]},then:"Aug"},{case:{$eq:["$_vqbTempMonth","09"]},then:"Sep"},{case:{$eq:["$_vqbTempMonth","10"]},then:"Oct"},{case:{$eq:["$_vqbTempMonth","11"]},then:"Nov"},{case:{$eq:["$_vqbTempMonth","12"]},then:"Dec"}]}},h={$switch:{branches:[{case:{$eq:["$_vqbTempMonth","01"]},then:"January"},{case:{$eq:["$_vqbTempMonth","02"]},then:"February"},{case:{$eq:["$_vqbTempMonth","03"]},then:"March"},{case:{$eq:["$_vqbTempMonth","04"]},then:"April"},{case:{$eq:["$_vqbTempMonth","05"]},then:"May"},{case:{$eq:["$_vqbTempMonth","06"]},then:"June"},{case:{$eq:["$_vqbTempMonth","07"]},then:"July"},{case:{$eq:["$_vqbTempMonth","08"]},then:"August"},{case:{$eq:["$_vqbTempMonth","09"]},then:"September"},{case:{$eq:["$_vqbTempMonth","10"]},then:"October"},{case:{$eq:["$_vqbTempMonth","11"]},then:"November"},{case:{$eq:["$_vqbTempMonth","12"]},then:"December"}]}};switch(e.format){case"%d %b %Y":return[{$addFields:(t={},t[e.column]={$dateToString:{date:$$(e.column),format:"%d-%m-%Y"}},t)},{$addFields:{_vqbTempArray:{$split:[$$(e.column),"-"]}}},{$addFields:{_vqbTempDay:{$arrayElemAt:["$_vqbTempArray",0]},_vqbTempMonth:{$arrayElemAt:["$_vqbTempArray",1]},_vqbTempYear:{$arrayElemAt:["$_vqbTempArray",2]}}},{$addFields:{_vqbTempMonth:m}},{$addFields:(r={},r[e.column]={$concat:["$_vqbTempDay"," ","$_vqbTempMonth"," ","$_vqbTempYear"]},r)},{$project:{_vqbTempArray:0,_vqbTempDay:0,_vqbTempMonth:0,_vqbTempYear:0}}];case"%d-%b-%Y":return[{$addFields:(n={},n[e.column]={$dateToString:{date:$$(e.column),format:"%d-%m-%Y"}},n)},{$addFields:{_vqbTempArray:{$split:[$$(e.column),"-"]}}},{$addFields:{_vqbTempDay:{$arrayElemAt:["$_vqbTempArray",0]},_vqbTempMonth:{$arrayElemAt:["$_vqbTempArray",1]},_vqbTempYear:{$arrayElemAt:["$_vqbTempArray",2]}}},{$addFields:{_vqbTempMonth:m}},{$addFields:(a={},a[e.column]={$concat:["$_vqbTempDay","-","$_vqbTempMonth","-","$_vqbTempYear"]},a)},{$project:{_vqbTempArray:0,_vqbTempDay:0,_vqbTempMonth:0,_vqbTempYear:0}}];case"%d %B %Y":return[{$addFields:(i={},i[e.column]={$dateToString:{date:$$(e.column),format:"%d-%m-%Y"}},i)},{$addFields:{_vqbTempArray:{$split:[$$(e.column),"-"]}}},{$addFields:{_vqbTempDay:{$arrayElemAt:["$_vqbTempArray",0]},_vqbTempMonth:{$arrayElemAt:["$_vqbTempArray",1]},_vqbTempYear:{$arrayElemAt:["$_vqbTempArray",2]}}},{$addFields:{_vqbTempMonth:h}},{$addFields:(o={},o[e.column]={$concat:["$_vqbTempDay"," ","$_vqbTempMonth"," ","$_vqbTempYear"]},o)},{$project:{_vqbTempArray:0,_vqbTempDay:0,_vqbTempMonth:0,_vqbTempYear:0}}];case"%b %Y":return[{$addFields:(s={},s[e.column]={$dateToString:{date:$$(e.column),format:"%m-%Y"}},s)},{$addFields:{_vqbTempArray:{$split:[$$(e.column),"-"]}}},{$addFields:{_vqbTempMonth:{$arrayElemAt:["$_vqbTempArray",0]},_vqbTempYear:{$arrayElemAt:["$_vqbTempArray",1]}}},{$addFields:{_vqbTempMonth:m}},{$addFields:(u={},u[e.column]={$concat:["$_vqbTempMonth"," ","$_vqbTempYear"]},u)},{$project:{_vqbTempArray:0,_vqbTempMonth:0,_vqbTempYear:0}}];case"%b-%Y":return[{$addFields:(c={},c[e.column]={$dateToString:{date:$$(e.column),format:"%m-%Y"}},c)},{$addFields:{_vqbTempArray:{$split:[$$(e.column),"-"]}}},{$addFields:{_vqbTempMonth:{$arrayElemAt:["$_vqbTempArray",0]},_vqbTempYear:{$arrayElemAt:["$_vqbTempArray",1]}}},{$addFields:{_vqbTempMonth:m}},{$addFields:(l={},l[e.column]={$concat:["$_vqbTempMonth","-","$_vqbTempYear"]},l)},{$project:{_vqbTempArray:0,_vqbTempMonth:0,_vqbTempYear:0}}];case"%B %Y":return[{$addFields:(p={},p[e.column]={$dateToString:{date:$$(e.column),format:"%m-%Y"}},p)},{$addFields:{_vqbTempArray:{$split:[$$(e.column),"-"]}}},{$addFields:{_vqbTempMonth:{$arrayElemAt:["$_vqbTempArray",0]},_vqbTempYear:{$arrayElemAt:["$_vqbTempArray",1]}}},{$addFields:{_vqbTempMonth:h}},{$addFields:(d={},d[e.column]={$concat:["$_vqbTempMonth"," ","$_vqbTempYear"]},d)},{$project:{_vqbTempArray:0,_vqbTempMonth:0,_vqbTempYear:0}}];default:return[{$addFields:(f={},f[e.column]={$dateToString:{date:$$(e.column),format:e.format}},f)}]}}function transformIfThenElseStep(e,t){return{$cond:{if:buildCondExpression(e.if),then:buildMongoFormulaTree(buildFormulaTree(e.then,t)),else:"object"==typeof e.else?transformIfThenElseStep(e.else,t):buildMongoFormulaTree(buildFormulaTree(e.else,t))}}}function transformMovingAverage(e){var t,r,n;return[{$sort:(t={},t[e.columnToSort]=1,t)},{$group:{_id:e.groups?columnMap(e.groups):null,_vqbArray:{$push:"$$ROOT"}}},{$addFields:{_vqbArray:{$map:{input:{$range:[0,{$size:"$_vqbArray"}]},as:"idx",in:{$cond:[{$lt:["$$idx",e.movingWindow-1]},{$arrayElemAt:["$_vqbArray","$$idx"]},{$mergeObjects:[{$arrayElemAt:["$_vqbArray","$$idx"]},(r={},r[(n=e.newColumnName,null!=n?n:e.valueColumn+"_MOVING_AVG")]={$avg:{$slice:["$_vqbArray."+e.valueColumn,{$subtract:["$$idx",e.movingWindow-1]},e.movingWindow]}},r)]}]}}}}},{$unwind:"$_vqbArray"},{$replaceRoot:{newRoot:"$_vqbArray"}}]}function transformPercentage(e){var t,r;return[{$group:{_id:e.group?columnMap(e.group):null,_vqbAppArray:{$push:"$$ROOT"},_vqbTotalDenum:{$sum:$$(e.column)}}},{$unwind:"$_vqbAppArray"},{$project:(t={},t[(r=e.newColumnName,null!=r?r:e.column+"_PCT")]={$cond:[{$eq:["$_vqbTotalDenum",0]},null,{$divide:["$_vqbAppArray."+e.column,"$_vqbTotalDenum"]}]},t._vqbAppArray=1,t)},{$replaceRoot:{newRoot:{$mergeObjects:["$_vqbAppArray","$$ROOT"]}}},{$project:{_vqbAppArray:0}}]}function transformPivot(e){var t,r,n,a,i,o,s={},u={};try{for(var c=__values(e.index),l=c.next();!l.done;l=c.next()){var p=l.value;s[p]="$_id."+p,u["_vqbAppTmpObj."+p]="$_id."+p}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}var d=[{$group:(n={_id:__assign(__assign({},columnMap(e.index)),(a={},a[e.column_to_pivot]=$$(e.column_to_pivot),a))},n[e.value_column]=(i={},i[$$(e.agg_function)]=$$(e.value_column),i),n)},{$group:{_id:s,_vqbAppArray:{$addToSet:(o={},o[e.column_to_pivot]="$_id."+e.column_to_pivot,o[e.value_column]=$$(e.value_column),o)}}},{$project:{_vqbAppTmpObj:{$arrayToObject:{$zip:{inputs:["$_vqbAppArray."+e.column_to_pivot,"$_vqbAppArray."+e.value_column]}}}}}];return Object.keys(u).length>0&&d.push({$addFields:u}),d.push({$replaceRoot:{newRoot:"$_vqbAppTmpObj"}}),d}function transformRank(e){var t,r,n,a={$let:{vars:{reducedArrayInObj:{$reduce:{input:"$_vqbArray",initialValue:{a:[],order:0,prevValue:void 0,prevRank:void 0},in:{$let:{vars:{order:"dense"===e.method?{$cond:[{$ne:["$$this."+e.valueCol,"$$value.prevValue"]},{$add:["$$value.order",1]},"$$value.order"]}:{$add:["$$value.order",1]},rank:{$cond:[{$ne:["$$this."+e.valueCol,"$$value.prevValue"]},{$add:["$$value.order",1]},"$$value.prevRank"]}},in:{a:{$concatArrays:["$$value.a",[{$mergeObjects:["$$this",(t={},t[(n=e.newColumnName,null!=n?n:e.valueCol+"_RANK")]="$$rank",t)]}]]},order:"$$order",prevValue:"$$this."+e.valueCol,prevRank:"$$rank"}}}}}},in:"$$reducedArrayInObj.a"}};return[{$sort:(r={},r[e.valueCol]="asc"==e.order?1:-1,r)},{$group:{_id:e.groupby?columnMap(e.groupby):null,_vqbArray:{$push:"$$ROOT"}}},{$project:{_vqbSortedArray:a}},{$unwind:"$_vqbSortedArray"},{$replaceRoot:{newRoot:"$_vqbSortedArray"}}]}function transformRename(e){var t,r;return e.oldname&&e.newname?[{$addFields:(t={},t[e.newname]=$$(e.oldname),t)},{$project:(r={},r[e.oldname]=0,r)}]:[{$addFields:Object.fromEntries(e.toRename.map((function(e){return[e[1],$$(e[0])]})))},{$project:Object.fromEntries(e.toRename.map((function(e){return[e[0],0]})))}]}function transformReplace(e){var t,r=e.to_replace.map((function(t){var r=__read(t,2),n=r[0],a=r[1];return{case:{$eq:[$$(e.search_column),n]},then:a}}));return{$addFields:(t={},t[e.search_column]={$switch:{branches:r,default:$$(e.search_column)}},t)}}function transformRollup(e){var t,r,n,a,i,o,s,u,c,l,p={},d=null!=(s=e.labelCol)?s:"label",f=null!=(u=e.levelCol)?u:"level",m=null!=(c=e.parentLabelCol)?c:"parent";try{for(var h=__values(e.hierarchy.entries()),_=h.next();!_.done;_=h.next()){var v=__read(_.value,2),g=v[0],y=v[1],b=columnMap(__spread(e.hierarchy.slice(0,g+1),null!=(l=e.groupby)?l:[])),$={};try{for(var x=(n=void 0,__values(e.aggregations)),w=x.next();!w.done;w=x.next()){var S=w.value,N=S.column?[S.column]:S.columns,C=S.newcolumn?[S.newcolumn]:S.newcolumns;if("count"===S.aggfunction)for(var E=0;E<N.length;E++)$[C[E]]={$sum:1};else for(E=0;E<N.length;E++)$[C[E]]=((i={})[$$(S.aggfunction)]=$$(N[E]),i)}}catch(e){n={error:e}}finally{try{w&&!w.done&&(a=x.return)&&a.call(x)}finally{if(n)throw n.error}}var A=__assign(__assign(__assign({_id:0},Object.fromEntries(Object.keys(b).map((function(e){return[e,"$_id."+e]})))),Object.fromEntries(Object.keys($).map((function(e){return[e,1]})))),((o={})[d]="$_id."+y,o[f]=y,o));g>0&&(A[m]="$_id."+e.hierarchy[g-1]),p["level_"+g]=[{$group:__assign({_id:b},$)},{$project:A}]}}catch(e){t={error:e}}finally{try{_&&!_.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}return[{$facet:p},{$project:{_vqbRollupLevels:{$concatArrays:Object.keys(p).sort().map((function(e){return $$(e)}))}}},{$unwind:"$_vqbRollupLevels"},{$replaceRoot:{newRoot:"$_vqbRollupLevels"}}]}function transformSort(e){var t,r,n={};try{for(var a=__values(e.columns),i=a.next();!i.done;i=a.next()){var o=i.value;n[o.column]="asc"===o.order?1:-1}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return{$sort:n}}function transformSplit(e){for(var t={},r=1;r<=e.number_cols_to_keep;r++)t[e.column+"_"+r]={$arrayElemAt:["$_vqbTmp",r-1]};return[{$addFields:{_vqbTmp:{$split:[$$(e.column),e.delimiter]}}},{$addFields:t},{$project:{_vqbTmp:0}}]}function transformStatistics(e){var t={$subtract:["$average_sum_square",{$pow:["$average",2]}]},r={count:1,max:1,min:1,average:1,variance:t,"standard deviation":{$pow:[t,.5]}},n=function(e){return e.statistics.includes("variance")||e.statistics.includes("standard deviation")},a=function(e){return e.statistics.includes("average")||e.statistics.includes("variance")||e.statistics.includes("standard deviation")},i=function(e){return e.quantiles.length>0},o=function(e){return e.quantiles.length>0||e.statistics.includes("count")};return __spread([{$project:__assign(__assign(__assign({},Object.fromEntries(e.groupbyColumns.map((function(e){return[e,1]})))),{column:$$(e.column)}),n(e)?{column_square:{$pow:[$$(e.column),2]}}:{})},{$match:{column:{$ne:null}}}],i(e)?[{$sort:{column:1}}]:[],[{$group:__assign(__assign(__assign(__assign(__assign({_id:Object.fromEntries(e.groupbyColumns.map((function(e){return[e,$$(e)]})))||null,data:{$push:"$column"}},o(e)?{count:{$sum:1}}:{}),e.statistics.includes("max")?{max:{$max:"$column"}}:{}),e.statistics.includes("min")?{min:{$min:"$column"}}:{}),n(e)?{average_sum_square:{$avg:"$column_square"}}:{}),a(e)?{average:{$avg:"$column"}}:{})},{$project:__assign(__assign(__assign({},Object.fromEntries(e.groupbyColumns.map((function(e){return[e,"$_id."+e]})))),Object.fromEntries(e.statistics.map((function(e){return[e,r[e]]})))),Object.fromEntries(e.quantiles.map((function(e){var t,r,n=e.label,a=e.order,i=e.nth;return[n||i+"-th "+a+"-quantile",(t=i,r=a,{$avg:[{$arrayElemAt:["$data",{$trunc:{$subtract:[{$multiply:[{$divide:["$count",r]},t]},1]}}]},{$arrayElemAt:["$data",{$trunc:{$multiply:[{$divide:["$count",r]},t]}}]}]})]}))))}])}function $add(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{$add:e}}function transformSubstring(e){var t,r,n=e.start_index>0?e.start_index-1:$add({$strLenCP:$$(e.column)},e.start_index),a={$add:[{$subtract:[e.end_index>0?e.end_index-1:$add({$strLenCP:$$(e.column)},e.end_index),n]},1]},i={$substrCP:[$$(e.column),n,a]};return{$addFields:(t={},t[(r=e.newColumnName,null!=r?r:e.column+"_SUBSTR")]=i,t)}}function transformTop(e){var t,r="asc"===e.sort?1:-1,n=e.groups?columnMap(e.groups):null;return[{$sort:(t={},t[e.rank_on]=r,t)},{$group:{_id:n,_vqbAppArray:{$push:"$$ROOT"}}},{$project:{_vqbAppTopElems:{$slice:["$_vqbAppArray",e.limit]}}},{$unwind:"$_vqbAppTopElems"},{$replaceRoot:{newRoot:"$_vqbAppTopElems"}}]}function transformTotals(e){var t,r,n,a={},i=null!=(n=e.groups)?n:[],o={},s={_id:0},u=__spread(e.totalDimensions.map((function(e){return e.totalColumn}))),c=combinations$1(u).slice(1);c.push([]);try{for(var l=__values(e.aggregations),p=l.next();!p.done;p=l.next())for(var d=p.value,f=0;f<d.columns.length;f++)o[d.newcolumns[f]]=$$(d.columns[f]),d.newcolumns[f]!==d.columns[f]&&(s[d.columns[f]]=0)}catch(e){t={error:e}}finally{try{p&&!p.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}a.originalData=[{$addFields:o},{$project:s}];var m=function(t){var r,n,o,s=c[t],l=columnMap(__spread(s,i)),p={},d=u.filter((function(e){return!s.includes(e)}));try{for(var f=(r=void 0,__values(e.aggregations)),m=f.next();!m.done;m=f.next())for(var h=m.value,_=0;_<h.columns.length;_++){var v=h.columns[_],g=h.newcolumns[_],y=h.aggfunction;p[g]="count"==y?{$sum:1}:((o={})[$$(y)]=$$(v),o)}}catch(e){r={error:e}}finally{try{m&&!m.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}a["combo_"+t]=[{$group:__assign({_id:l},p)},{$project:__assign(__assign(__assign({_id:0},Object.fromEntries(Object.keys(l).map((function(e){return[e,"$_id."+e]})))),Object.fromEntries(Object.keys(p).map((function(e){return[e,1]})))),Object.fromEntries(e.totalDimensions.filter((function(e){return d.includes(e.totalColumn)})).map((function(e){return[e.totalColumn,e.totalRowsLabel]}))))}]};for(f=0;f<c.length;f++)m(f);return[{$facet:a},{$project:{_vqbCombos:{$concatArrays:Object.keys(a).map((function(e){return $$(e)}))}}},{$unwind:"$_vqbCombos"},{$replaceRoot:{newRoot:"$_vqbCombos"}}]}function transformUniqueGroups(e){var t=columnMap(e.on);return[{$group:{_id:t}},{$project:Object.fromEntries(Object.keys(t).map((function(e){return[e,"$_id."+e]})))}]}function transformUnpivot(e){var t,r,n=lodash.fromPairs(e.keep.map((function(e){return[e,"$"+e]}))),a=lodash.fromPairs(e.unpivot.map((function(e){return[e,{$ifNull:[$$(e),null]}]}))),i=[{$project:__assign(__assign({},n),{_vqbToUnpivot:{$objectToArray:a}})},{$unwind:"$_vqbToUnpivot"},{$project:__assign(__assign({},n),(t={},t[e.unpivot_column_name]="$_vqbToUnpivot.k",t[e.value_column_name]="$_vqbToUnpivot.v",t))}];return e.dropna&&i.push({$match:(r={},r[e.value_column_name]={$ne:null},r)}),i}function transformWaterfall(e){var t,r,n,a,i,o,s,u,c,l={},p={},d=null!=(c=e.groupby)?c:[],f=void 0!==e.parentsColumn?[e.parentsColumn]:[],m=[{$group:(t={_id:columnMap(__spread(d,[e.milestonesColumn]))},t[e.valueColumn]={$sum:$$(e.valueColumn)},t)},{$project:__assign(__assign({},Object.fromEntries(d.map((function(e){return[e,"$_id."+e]})))),(r={LABEL_waterfall:"$_id."+e.milestonesColumn,GROUP_waterfall:void 0!==e.parentsColumn?"$_id."+e.milestonesColumn:void 0,TYPE_waterfall:null},r[e.valueColumn]=1,r._vqbOrder={$cond:[{$eq:["$_id."+e.milestonesColumn,e.start]},-1,1]},r))}],h=[{$group:(n={_id:columnMap(__spread(d,f,[e.labelsColumn,e.milestonesColumn]))},n[e.valueColumn]={$sum:$$(e.valueColumn)},n)},{$addFields:{_vqbOrder:{$cond:[{$eq:["$_id."+e.milestonesColumn,e.start]},1,2]}}},{$sort:{_vqbOrder:1}},{$group:{_id:__assign({},Object.fromEntries(__spread(d,f,[e.labelsColumn]).map((function(e){return[e,"$_id."+e]})))),_vqbValuesArray:{$push:$$(e.valueColumn)}}},{$project:__assign(__assign({},Object.fromEntries(d.map((function(e){return[e,"$_id."+e]})))),(a={LABEL_waterfall:"$_id."+e.labelsColumn,GROUP_waterfall:void 0!==e.parentsColumn?"$_id."+e.parentsColumn:void 0,TYPE_waterfall:void 0!==e.parentsColumn?"child":"parent"},a[e.valueColumn]={$reduce:{input:"$_vqbValuesArray",initialValue:0,in:{$subtract:["$$this","$$value"]}}},a._vqbOrder={$literal:0},a))}];e.parentsColumn?(p={_vqb_start_end:m,_vqb_parents:[{$group:(i={_id:columnMap(__spread(d,f,[e.milestonesColumn]))},i[e.valueColumn]={$sum:$$(e.valueColumn)},i)},{$addFields:{_vqbOrder:{$cond:[{$eq:["$_id."+e.milestonesColumn,e.start]},1,2]}}},{$sort:{_vqbOrder:1}},{$group:{_id:__assign({},Object.fromEntries(__spread(d,f).map((function(e){return[e,"$_id."+e]})))),_vqbValuesArray:{$push:$$(e.valueColumn)}}},{$project:__assign(__assign({},Object.fromEntries(d.map((function(e){return[e,"$_id."+e]})))),(o={LABEL_waterfall:"$_id."+e.parentsColumn,GROUP_waterfall:"$_id."+e.parentsColumn,TYPE_waterfall:"parent"},o[e.valueColumn]={$reduce:{input:"$_vqbValuesArray",initialValue:0,in:{$subtract:["$$this","$$value"]}}},o._vqbOrder={$literal:0},o))}],_vqb_children:h},l={$concatArrays:["$_vqb_start_end","$_vqb_parents","$_vqb_children"]}):(p={_vqb_start_end:m,_vqb_children:h},l={$concatArrays:["$_vqb_start_end","$_vqb_children"]});return[{$match:(s={},s[e.milestonesColumn]={$in:[e.start,e.end]},s)},{$facet:p},{$project:{_vqbFullArray:l}},{$unwind:"$_vqbFullArray"},{$replaceRoot:{newRoot:"$_vqbFullArray"}},{$sort:(u={_vqbOrder:1},u["label"===e.sortBy?"LABEL_waterfall":e.valueColumn]="asc"===e.order?1:-1,u)},{$project:{_vqbOrder:0}}]}var mapper={addmissingdates:transformAddMissingDates,aggregate:transformAggregate,argmax:transformArgmaxArgmin,argmin:transformArgmaxArgmin,concatenate:transformConcatenate,cumsum:transformCumSum,custom:function(e){return JSON.parse(e.query)},dateextract:function(e){var t,r,n;return{$addFields:(t={},t[""+(n=e.new_column_name,null!=n?n:e.column+"_"+e.operation)]=(r={},r[""+DATE_EXTRACT_MAP[e.operation]]="$"+e.column,r),t)}},delete:function(e){return{$project:lodash.fromPairs(e.columns.map((function(e){return[e,0]})))}},domain:function(e){return{$match:{domain:e.domain}}},duplicate:function(e){var t;return{$addFields:(t={},t[e.new_column_name]=$$(e.column),t)}},duration:function(e){var t;return{$addFields:(t={},t[e.newColumnName]={$divide:[{$subtract:[$$(e.endDateColumn),$$(e.startDateColumn)]},DURATION_MULTIPLIER_MAP[e.durationIn]]},t)}},evolution:transformEvolution,fillna:transformFillna,filter:transformFilterStep,fromdate:transformFromDate,lowercase:function(e){var t;return{$addFields:(t={},t[e.column]={$toLower:$$(e.column)},t)}},movingaverage:transformMovingAverage,percentage:transformPercentage,pivot:transformPivot,rank:transformRank,rename:transformRename,replace:transformReplace,rollup:transformRollup,select:function(e){return{$project:lodash.fromPairs(e.columns.map((function(e){return[e,1]})))}},split:transformSplit,sort:transformSort,statistics:transformStatistics,substring:transformSubstring,text:function(e){var t;return{$addFields:(t={},t[e.new_column]={$literal:e.text},t)}},todate:function(e){var t;return{$addFields:(t={},t[e.column]={$dateFromString:{dateString:$$(e.column)}},t)}},top:transformTop,totals:transformTotals,uniquegroups:transformUniqueGroups,unpivot:transformUnpivot,uppercase:function(e){var t;return{$addFields:(t={},t[e.column]={$toUpper:$$(e.column)},t)}},waterfall:transformWaterfall},Mongo36Translator=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.domainToCollection=function(e){return e},t.prototype.setDomainToCollection=function(e){this.domainToCollection=e},t.prototype.translate=function(t){var r=e.prototype.translate.call(this,t).reduce((function(e,t){return e.concat(t)}),[]);return r.length?_simplifyMongoPipeline(__spread(r,[{$project:{_id:0}}])):_simplifyMongoPipeline(r)},t.prototype.append=function(e){for(var t=e.pipelines,r=["$_vqbPipelineInline"],n=[],a=0;a<t.length;a++){var i=t[a][0],o=t[a].slice(1);n.push({$lookup:{from:this.domainToCollection(i.domain),pipeline:this.translate(o),as:"_vqbPipelineToAppend_"+a}}),r.push("$_vqbPipelineToAppend_"+a)}return __spread([{$group:{_id:null,_vqbPipelineInline:{$push:"$$ROOT"}}}],n,[{$project:{_vqbPipelinesUnion:{$concatArrays:r}}},{$unwind:"$_vqbPipelinesUnion"},{$replaceRoot:{newRoot:"$_vqbPipelinesUnion"}}])},t.prototype.formula=function(e){var t;return{$addFields:(t={},t[e.new_column]=buildMongoFormulaTree(buildFormulaTree(e.formula,BaseTranslator.variableDelimiters)),t)}},t.prototype.ifthenelse=function(e){var t;return{$addFields:(t={},t[e.newColumn]=transformIfThenElseStep(lodash.omit(e,["name","newColumn"]),BaseTranslator.variableDelimiters),t)}},t.prototype.join=function(e){var t,r,n=[],a=e.right_pipeline,i=a[0],o=a.slice(1),s={},u=[];try{for(var c=__values(e.on),l=c.next();!l.done;l=c.next()){var p=__read(l.value,2),d=p[0],f=p[1];s[columnToUserVariable(d)]=$$(d),u.push({$eq:[$$(f),$$($$(columnToUserVariable(d)))]})}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return n.push({$lookup:{from:this.domainToCollection(i.domain),let:s,pipeline:__spread(this.translate(o),[{$match:{$expr:{$and:u}}}]),as:"_vqbJoinKey"}}),"inner"===e.type?n.push({$unwind:"$_vqbJoinKey"}):"left"===e.type?n.push({$unwind:{path:"$_vqbJoinKey",preserveNullAndEmptyArrays:!0}}):n.push({$match:{_vqbJoinKey:{$eq:[]}}},{$unwind:{path:"$_vqbJoinKey",preserveNullAndEmptyArrays:!0}}),n.push({$replaceRoot:{newRoot:{$mergeObjects:["$_vqbJoinKey","$$ROOT"]}}},{$project:{_vqbJoinKey:0}}),n},t.prototype.validate=function(e){try{return JSON.parse(e.query),null}catch(e){return[{keyword:"json",dataPath:".query",message:e.message}]}},t.label="Mongo 3.6",t}(BaseTranslator);function transformConvert(e){var t,r,n,a={},i=null!=(n={boolean:"bool",date:"date",float:"double",integer:"int",text:"string"}[e.data_type])?n:"";try{for(var o=__values(e.columns),s=o.next();!s.done;s=o.next()){var u=s.value;a[u]={$convert:{input:$$(u),to:i}}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return{$addFields:a}}function transformToDate(e){var t,r,n,a,i,o,s,u,c,l,p=e.format;void 0!==p&&(p=p.replace("%B","%b"));var d={$switch:{branches:[{case:{$in:["$_vqbTempMonth",["jan","jan.","january","janv","janv.","janvier"]]},then:"01"},{case:{$in:["$_vqbTempMonth",["feb","feb.","february","fév","fev","févr.","fevr.","février"]]},then:"02"},{case:{$in:["$_vqbTempMonth",["mar","mar.","march","mars"]]},then:"03"},{case:{$in:["$_vqbTempMonth",["apr","apr.","april","avr","avr.","avril"]]},then:"04"},{case:{$in:["$_vqbTempMonth",["may","mai"]]},then:"05"},{case:{$in:["$_vqbTempMonth",["june","jun.","june","juin"]]},then:"06"},{case:{$in:["$_vqbTempMonth",["jul","jul.","july","juil","juil.","juillet"]]},then:"07"},{case:{$in:["$_vqbTempMonth",["aug","aug.","august","août","aout"]]},then:"08"},{case:{$in:["$_vqbTempMonth",["sep","sep.","september","sept","sept.","septembre"]]},then:"09"},{case:{$in:["$_vqbTempMonth",["oct","oct.","october","octobre"]]},then:"10"},{case:{$in:["$_vqbTempMonth",["nov","nov.","november","novembre"]]},then:"11"},{case:{$in:["$_vqbTempMonth",["dec","dec.","december","déc","déc.","décembre"]]},then:"12"}]}};switch(p){case void 0:return[{$addFields:(t={},t[e.column]={$dateFromString:{dateString:$$(e.column)}},t)}];case"%d %b %Y":return[{$addFields:{_vqbTempArray:{$split:[$$(e.column)," "]}}},{$addFields:{_vqbTempDay:{$arrayElemAt:["$_vqbTempArray",0]},_vqbTempMonth:{$toLower:{$arrayElemAt:["$_vqbTempArray",1]}},_vqbTempYear:{$arrayElemAt:["$_vqbTempArray",2]}}},{$addFields:{_vqbTempMonth:d}},{$addFields:(r={},r[e.column]={$dateFromString:{dateString:{$concat:["$_vqbTempDay","-","$_vqbTempMonth","-","$_vqbTempYear"]},format:"%d-%m-%Y"}},r)},{$project:{_vqbTempArray:0,_vqbTempDay:0,_vqbTempMonth:0,_vqbTempYear:0}}];case"%d-%b-%Y":return[{$addFields:{_vqbTempArray:{$split:[$$(e.column),"-"]}}},{$addFields:{_vqbTempDay:{$arrayElemAt:["$_vqbTempArray",0]},_vqbTempMonth:{$toLower:{$arrayElemAt:["$_vqbTempArray",1]}},_vqbTempYear:{$arrayElemAt:["$_vqbTempArray",2]}}},{$addFields:{_vqbTempMonth:d}},{$addFields:(n={},n[e.column]={$dateFromString:{dateString:{$concat:["$_vqbTempDay","-","$_vqbTempMonth","-","$_vqbTempYear"]},format:"%d-%m-%Y"}},n)},{$project:{_vqbTempArray:0,_vqbTempDay:0,_vqbTempMonth:0,_vqbTempYear:0}}];case"%b %Y":return[{$addFields:{_vqbTempArray:{$split:[$$(e.column)," "]}}},{$addFields:{_vqbTempMonth:{$toLower:{$arrayElemAt:["$_vqbTempArray",0]}},_vqbTempYear:{$arrayElemAt:["$_vqbTempArray",1]}}},{$addFields:{_vqbTempMonth:d}},{$addFields:(a={},a[e.column]={$dateFromString:{dateString:{$concat:["01-","$_vqbTempMonth","-","$_vqbTempYear"]},format:"%d-%m-%Y"}},a)},{$project:{_vqbTempArray:0,_vqbTempMonth:0,_vqbTempYear:0}}];case"%b-%Y":return[{$addFields:{_vqbTempArray:{$split:[$$(e.column),"-"]}}},{$addFields:{_vqbTempMonth:{$toLower:{$arrayElemAt:["$_vqbTempArray",0]}},_vqbTempYear:{$arrayElemAt:["$_vqbTempArray",1]}}},{$addFields:{_vqbTempMonth:d}},{$addFields:(i={},i[e.column]={$dateFromString:{dateString:{$concat:["01-","$_vqbTempMonth","-","$_vqbTempYear"]},format:"%d-%m-%Y"}},i)},{$project:{_vqbTempArray:0,_vqbTempMonth:0,_vqbTempYear:0}}];case"%Y-%m":return[{$addFields:{_vqbTempDate:{$concat:[$$(e.column),"-01"]}}},{$addFields:(o={},o[e.column]={$dateFromString:{dateString:"$_vqbTempDate",format:"%Y-%m-%d"}},o)},{$project:{_vqbTempDate:0}}];case"%Y/%m":return[{$addFields:{_vqbTempDate:{$concat:[$$(e.column),"/01"]}}},{$addFields:(s={},s[e.column]={$dateFromString:{dateString:"$_vqbTempDate",format:"%Y/%m/%d"}},s)},{$project:{_vqbTempDate:0}}];case"%m-%Y":return[{$addFields:{_vqbTempDate:{$concat:["01-",$$(e.column)]}}},{$addFields:(u={},u[e.column]={$dateFromString:{dateString:"$_vqbTempDate",format:"%d-%m-%Y"}},u)},{$project:{_vqbTempDate:0}}];case"%m/%Y":return[{$addFields:{_vqbTempDate:{$concat:["01/",$$(e.column)]}}},{$addFields:(c={},c[e.column]={$dateFromString:{dateString:"$_vqbTempDate",format:"%d/%m/%Y"}},c)},{$project:{_vqbTempDate:0}}];default:return[{$addFields:(l={},l[e.column]={$dateFromString:{dateString:$$(e.column),format:e.format}},l)}]}}Object.assign(Mongo36Translator.prototype,mapper);var Mongo40Translator=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.label="Mongo 4.0",t}(Mongo36Translator);Object.assign(Mongo40Translator.prototype,{convert:transformConvert,todate:transformToDate});var PandasTranslator=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.append=function(e){return e},t.prototype.concatenate=function(e){return e},t.prototype.convert=function(e){return e},t.prototype.cumsum=function(e){return e},t.prototype.dateextract=function(e){return e},t.prototype.delete=function(e){return e},t.prototype.domain=function(e){return e},t.prototype.duplicate=function(e){return e},t.prototype.evolution=function(e){return e},t.prototype.filter=function(e){return e},t.prototype.formula=function(e){return e},t.prototype.join=function(e){return e},t.prototype.pivot=function(e){return e},t.prototype.rank=function(e){return e},t.prototype.rename=function(e){return e},t.prototype.aggregate=function(e){return e},t.prototype.ifthenelse=function(e){return e},t.prototype.argmin=function(e){return e},t.prototype.argmax=function(e){return e},t.prototype.statistics=function(e){return e},t.prototype.replace=function(e){return e},t.prototype.fillna=function(e){return e},t.prototype.lowercase=function(e){return e},t.prototype.fromdate=function(e){return e},t.prototype.uniquegroups=function(e){return e},t.prototype.select=function(e){return e},t.prototype.uppercase=function(e){return e},t.prototype.text=function(e){return e},t.prototype.sort=function(e){return e},t.prototype.percentage=function(e){return e},t.prototype.unpivot=function(e){return e},t.prototype.top=function(e){return e},t.prototype.todate=function(e){return e},t.prototype.rollup=function(e){return e},t.prototype.split=function(e){return e},t.prototype.substring=function(e){return e},t.prototype.waterfall=function(e){return e},t.prototype.totals=function(e){return e},t.label="Pandas",t}(BaseTranslator),TRANSLATORS={};function registerTranslator(e,t){TRANSLATORS[e]=t}function getTranslator(e){if(void 0===TRANSLATORS[e])throw new Error("no translator found for backend "+e+". Available ones are: "+Object.keys(TRANSLATORS).join(" | "));return new TRANSLATORS[e]}function setVariableDelimiters(e){BaseTranslator.variableDelimiters=e}function mongoResultsToDataset(e){var t,r,n={headers:[],data:[]};if(e.length){var a=e.map((function(e){return Object.keys(e)})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e,t,r){return r.indexOf(e)===t}));n.headers=a.map((function(e){return{name:e}}));var i=function(e){n.data.push(n.headers.map((function(t){return Object.prototype.hasOwnProperty.call(e,t.name)?e[t.name]:null})))};try{for(var o=__values(e),s=o.next();!s.done;s=o.next()){i(s.value)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}}return n}function _isSupportedType(e){return"undefined"!==e&&"symbol"!==e&&"function"!==e}function _isNumber(e){return"number"===e||"bigint"===e}function _isInt(e){return Number(e)===e&&e%1==0}function _isFloat(e){return Number(e)===e&&e%1!=0}function _guessType(e,t){void 0===t&&(t=null);var r=typeof e;if(null===e)return t;if(_isNumber(r)){if(_isInt(e))return"integer";if(_isFloat(e))return"float"}else{if("object"===r&&e instanceof Date)return"date";if(_isSupportedType(r)&&null!==e)return r}return null}function inferTypeFromDataset(e,t){var r,n;void 0===t&&(t=50),t=Math.min(e.data.length,t);var a=[];try{for(var i=__values(e.headers.entries()),o=i.next();!o.done;o=i.next()){for(var s=__read(o.value,2),u=s[0],c=s[1],l=null,p=0;p<t;p++){var d=_guessType(e.data[p][u],l);if(null===l)l=d;else if(l!==d){var f=new Set([l,d]);if(!f.has("integer")||!f.has("float")){l=null;break}l="float"}}null===l?a.push(c):a.push(__assign(__assign({},c),{type:l}))}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return __assign(__assign({},e),{headers:a})}registerTranslator("mongo36",Mongo36Translator),registerTranslator("mongo40",Mongo40Translator),registerTranslator("pandas",PandasTranslator);var COL_TYPE_MAPPING={integer:"integer",number:"float",boolean:"boolean",datetime:"date",duration:"date",any:"object",string:"string"};function tableSchemaTypeToDataSetColumnType(e){return COL_TYPE_MAPPING[e]}function pandasDataTableToDataset(e){var t,r,n={headers:[],data:[]};n.headers=e.schema.fields.map((function(e){return{name:e.name,type:tableSchemaTypeToDataSetColumnType(e.type)}}));var a=function(e){n.data.push(n.headers.map((function(t){return Object.prototype.hasOwnProperty.call(e,t.name)?e[t.name]:null})))};try{for(var i=__values(e.data),o=i.next();!o.done;o=i.next()){a(o.value)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}
/**
  * vue-class-component v7.1.0
  * (c) 2015-present Evan You
  * @license MIT
  */var reflectionIsSupported="undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys;function copyReflectionMetadata(e,t){forwardMetadata(e,t),Object.getOwnPropertyNames(t.prototype).forEach((function(r){forwardMetadata(e.prototype,t.prototype,r)})),Object.getOwnPropertyNames(t).forEach((function(r){forwardMetadata(e,t,r)}))}function forwardMetadata(e,t,r){(r?Reflect.getOwnMetadataKeys(t,r):Reflect.getOwnMetadataKeys(t)).forEach((function(n){var a=r?Reflect.getOwnMetadata(n,t,r):Reflect.getOwnMetadata(n,t);r?Reflect.defineMetadata(n,a,e,r):Reflect.defineMetadata(n,a,e)}))}var fakeArray={__proto__:[]},hasProto=fakeArray instanceof Array;function createDecorator(e){return function(t,r,n){var a="function"==typeof t?t:t.constructor;a.__decorators__||(a.__decorators__=[]),"number"!=typeof n&&(n=void 0),a.__decorators__.push((function(t){return e(t,r,n)}))}}function mixins(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Vue.extend({mixins:e})}function isPrimitive(e){var t=typeof e;return null==e||"object"!==t&&"function"!==t}function collectDataFromConstructor(e,t){var r=t.prototype._init;t.prototype._init=function(){var t=this,r=Object.getOwnPropertyNames(e);if(e.$options.props)for(var n in e.$options.props)e.hasOwnProperty(n)||r.push(n);r.forEach((function(r){"_"!==r.charAt(0)&&Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){e[r]=t},configurable:!0})}))};var n=new t;t.prototype._init=r;var a={};return Object.keys(n).forEach((function(e){void 0!==n[e]&&(a[e]=n[e])})),a}var $internalHooks=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function componentFactory(e,t){void 0===t&&(t={}),t.name=t.name||e._componentTag||e.name;var r=e.prototype;Object.getOwnPropertyNames(r).forEach((function(e){if("constructor"!==e)if($internalHooks.indexOf(e)>-1)t[e]=r[e];else{var n=Object.getOwnPropertyDescriptor(r,e);void 0!==n.value?"function"==typeof n.value?(t.methods||(t.methods={}))[e]=n.value:(t.mixins||(t.mixins=[])).push({data:function(){var t;return(t={})[e]=n.value,t}}):(n.get||n.set)&&((t.computed||(t.computed={}))[e]={get:n.get,set:n.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return collectDataFromConstructor(this,e)}});var n=e.__decorators__;n&&(n.forEach((function(e){return e(t)})),delete e.__decorators__);var a=Object.getPrototypeOf(e.prototype),i=a instanceof Vue?a.constructor:Vue,o=i.extend(t);return forwardStaticMembers(o,e,i),reflectionIsSupported&&copyReflectionMetadata(o,e),o}var shouldIgnore={prototype:!0,arguments:!0,callee:!0,caller:!0};function forwardStaticMembers(e,t,r){Object.getOwnPropertyNames(t).forEach((function(n){if(!shouldIgnore[n]){var a=Object.getOwnPropertyDescriptor(e,n);if(!a||a.configurable){var i=Object.getOwnPropertyDescriptor(t,n);if(!hasProto){if("cid"===n)return;var o=Object.getOwnPropertyDescriptor(r,n);if(!isPrimitive(i.value)&&o&&o.value===i.value)return}Object.defineProperty(e,n,i)}}}))}function Component(e){return"function"==typeof e?componentFactory(e):function(t){return componentFactory(t,e)}}Component.registerHooks=function(e){$internalHooks.push.apply($internalHooks,e)};var reflectMetadataIsSupported="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function applyMetadata(e,t,r){reflectMetadataIsSupported&&(Array.isArray(e)||"function"==typeof e||void 0!==e.type||(e.type=Reflect.getMetadata("design:type",t,r)))}function Prop(e){return void 0===e&&(e={}),function(t,r){applyMetadata(e,t,r),createDecorator((function(t,r){(t.props||(t.props={}))[r]=e}))(t,r)}}function Watch(e,t){void 0===t&&(t={});var r=t.deep,n=void 0!==r&&r,a=t.immediate,i=void 0!==a&&a;return createDecorator((function(t,r){"object"!=typeof t.watch&&(t.watch=Object.create(null));var a=t.watch;"object"!=typeof a[e]||Array.isArray(a[e])?void 0===a[e]&&(a[e]=[]):a[e]=[a[e]],a[e].push({handler:r,deep:n,immediate:i})}))}var DefaultCodeEditor=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),__decorate([Prop({type:String,required:!0})],t.prototype,"value",void 0),__decorate([Prop({type:String,default:""})],t.prototype,"placeholder",void 0),t=__decorate([Component({name:"DefaultCodeEditor"})],t)}(Vue);function normalizeComponent(e,t,r,n,a,i,o,s,u,c){"boolean"!=typeof o&&(u=s,s=o,o=!1);const l="function"==typeof r?r.options:r;let p;if(e&&e.render&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,a&&(l.functional=!0)),n&&(l._scopeId=n),i?(p=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,u(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},l._ssrRegister=p):t&&(p=o?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),p)if(l.functional){const e=l.render;l.render=function(t,r){return p.call(r),e(t,r)}}else{const e=l.beforeCreate;l.beforeCreate=e?[].concat(e,p):[p]}return r}const __vue_script__=DefaultCodeEditor;var __vue_render__=function(){var e=this,t=e.$createElement;return(e._self._c||t)("textarea",{attrs:{placeholder:e.placeholder,type:"text"},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)},blur:function(t){return e.$emit("blur")},focus:function(t){return e.$emit("focus")}}})},__vue_staticRenderFns__=[];__vue_render__._withStripped=!0;const __vue_inject_styles__=void 0,__vue_scope_id__="data-v-7d71a212",__vue_module_identifier__=void 0,__vue_is_functional_template__=!1,__vue_component__=normalizeComponent({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},void 0,__vue_script__,__vue_scope_id__,!1,void 0,!1,void 0,void 0,void 0);var CodeEditor=__vue_component__,CodeEditorConfigs={};function setAvailableCodeEditors(e){var t=e.configs,r=e.defaultConfig;CodeEditorConfigs=t,CodeEditor=r&&CodeEditorConfigs[r]?CodeEditorConfigs[r]:Object.values(CodeEditorConfigs)[0]}function _getPipelineForDomain(e,t){return Object.keys(t).includes(e)?dereferencePipelines(t[e],t):[{domain:e,name:"domain"}]}function dereferencePipelines(e,t){var r,n,a=[];try{for(var i=__values(e),o=i.next();!o.done;o=i.next()){var s=o.value;switch(s.name){case"domain":a.push.apply(a,__spread(_getPipelineForDomain(s.domain,t)));break;case"append":a.push(__assign(__assign({},s),{pipelines:s.pipelines.map((function(e){return _getPipelineForDomain(e,t)}))}));break;case"join":a.push(__assign(__assign({},s),{right_pipeline:_getPipelineForDomain(s.right_pipeline,t)}));break;default:a.push(s)}}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function getStepReferences(e){switch(e.name){case"domain":return[e.domain];case"append":return e.pipelines;case"join":return[e.right_pipeline];default:return[]}}function _getPipelineNamesReferencedBy(e,t,r){var n=[];if("string"==typeof e){var a=e;n.push(a),Object.keys(t).includes(a)&&(r.has(a)||r.set(a,_getPipelineNamesReferencedBy(t[a],t,r)),n.push.apply(n,__spread(r.get(a))))}else{var i=e,o=new Set;i.map(getStepReferences).forEach((function(e){return e.forEach((function(e){return o.add(e)}))})),o.forEach((function(e){n.push.apply(n,__spread(_getPipelineNamesReferencedBy(e,t,r)))}))}return __spread(new Set(n))}function getPipelineNamesReferencing(e,t){var r=new Map,n=[];for(var a in t){_getPipelineNamesReferencedBy(a,t,r).includes(e)&&n.push(a)}return n.filter((function(t){return t!==e}))}
/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */function _typeof$d(e){return(_typeof$d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty$2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray$3(e){return _arrayWithoutHoles$3(e)||_iterableToArray$3(e)||_nonIterableSpread$3()}function _arrayWithoutHoles$3(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _iterableToArray$3(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _nonIterableSpread$3(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function reflectionIsSupported$1(){return"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function copyReflectionMetadata$1(e,t){forwardMetadata$1(e,t),Object.getOwnPropertyNames(t.prototype).forEach((function(r){forwardMetadata$1(e.prototype,t.prototype,r)})),Object.getOwnPropertyNames(t).forEach((function(r){forwardMetadata$1(e,t,r)}))}function forwardMetadata$1(e,t,r){(r?Reflect.getOwnMetadataKeys(t,r):Reflect.getOwnMetadataKeys(t)).forEach((function(n){var a=r?Reflect.getOwnMetadata(n,t,r):Reflect.getOwnMetadata(n,t);r?Reflect.defineMetadata(n,a,e,r):Reflect.defineMetadata(n,a,e)}))}var fakeArray$1={__proto__:[]},hasProto$1=fakeArray$1 instanceof Array;function createDecorator$1(e){return function(t,r,n){var a="function"==typeof t?t:t.constructor;a.__decorators__||(a.__decorators__=[]),"number"!=typeof n&&(n=void 0),a.__decorators__.push((function(t){return e(t,r,n)}))}}function isPrimitive$1(e){var t=_typeof$d(e);return null==e||"object"!==t&&"function"!==t}function collectDataFromConstructor$1(e,t){var r=t.prototype._init;t.prototype._init=function(){var t=this,r=Object.getOwnPropertyNames(e);if(e.$options.props)for(var n in e.$options.props)e.hasOwnProperty(n)||r.push(n);r.forEach((function(r){Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){e[r]=t},configurable:!0})}))};var n=new t;t.prototype._init=r;var a={};return Object.keys(n).forEach((function(e){void 0!==n[e]&&(a[e]=n[e])})),a}var $internalHooks$1=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function componentFactory$1(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var r=e.prototype;Object.getOwnPropertyNames(r).forEach((function(e){if("constructor"!==e)if($internalHooks$1.indexOf(e)>-1)t[e]=r[e];else{var n=Object.getOwnPropertyDescriptor(r,e);void 0!==n.value?"function"==typeof n.value?(t.methods||(t.methods={}))[e]=n.value:(t.mixins||(t.mixins=[])).push({data:function(){return _defineProperty$2({},e,n.value)}}):(n.get||n.set)&&((t.computed||(t.computed={}))[e]={get:n.get,set:n.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return collectDataFromConstructor$1(this,e)}});var n=e.__decorators__;n&&(n.forEach((function(e){return e(t)})),delete e.__decorators__);var a=Object.getPrototypeOf(e.prototype),i=a instanceof Vue?a.constructor:Vue,o=i.extend(t);return forwardStaticMembers$1(o,e,i),reflectionIsSupported$1()&&copyReflectionMetadata$1(o,e),o}var shouldIgnore$1={prototype:!0,arguments:!0,callee:!0,caller:!0};function forwardStaticMembers$1(e,t,r){Object.getOwnPropertyNames(t).forEach((function(n){if(!shouldIgnore$1[n]){var a=Object.getOwnPropertyDescriptor(e,n);if(!a||a.configurable){var i=Object.getOwnPropertyDescriptor(t,n);if(!hasProto$1){if("cid"===n)return;var o=Object.getOwnPropertyDescriptor(r,n);if(!isPrimitive$1(i.value)&&o&&o.value===i.value)return}Object.defineProperty(e,n,i)}}}))}function Component$1(e){return"function"==typeof e?componentFactory$1(e):function(t){return componentFactory$1(t,e)}}Component$1.registerHooks=function(e){$internalHooks$1.push.apply($internalHooks$1,_toConsumableArray$3(e))};var State=createBindingHelper("computed",Vuex.mapState),Getter=createBindingHelper("computed",Vuex.mapGetters),Action=createBindingHelper("methods",Vuex.mapActions),Mutation=createBindingHelper("methods",Vuex.mapMutations);function namespace(e,t){function r(t){return function(r,n){if("string"==typeof n){var a=n,i=r;return t(a,{namespace:e})(i,a)}var o=r,s=merge(n||{},{namespace:e});return t(o,s)}}return t?(console.warn("[vuex-class] passing the 2nd argument to `namespace` function is deprecated. pass only namespace string instead."),r(t)):{State:r(State),Getter:r(Getter),Mutation:r(Mutation),Action:r(Action)}}function createBindingHelper(e,t){function r(r,n){return createDecorator$1((function(a,i){a[e]||(a[e]={});var o,s=((o={})[i]=r,o);a[e][i]=void 0!==n?t(n,s)[i]:t(s)[i]}))}return function(e,t){if("string"==typeof t){var n=t,a=e;return r(n,void 0)(a,n)}return r(e,extractNamespace(t))}}function extractNamespace(e){var t=e&&e.namespace;if("string"==typeof t)return"/"!==t[t.length-1]?t+"/":t}function merge(e,t){var r={};return[e,t].forEach((function(e){Object.keys(e).forEach((function(t){r[t]=e[t]}))})),r}function datasetColumnNames(e){return e.headers.map((function(e){return e.name}))}function isDatasetComplete(e){return!e.paginationContext||e.paginationContext.totalCount<=e.paginationContext.pagesize}function iterateRecords(e){var t,r,n,a,i,o,s,u,c,l,p,d,f,m,h;return __generator(this,(function(_){switch(_.label){case 0:t=datasetColumnNames(e),_.label=1;case 1:_.trys.push([1,6,7,8]),r=__values(e.data),n=r.next(),_.label=2;case 2:if(n.done)return[3,5];a=n.value,i={};try{for(m=void 0,o=__values(Object.entries(t)),s=o.next();!s.done;s=o.next())u=__read(s.value,2),c=u[0],l=u[1],i[l]=a[Number(c)]}catch(e){m={error:e}}finally{try{s&&!s.done&&(h=o.return)&&h.call(o)}finally{if(m)throw m.error}}return[4,i];case 3:_.sent(),_.label=4;case 4:return n=r.next(),[3,2];case 5:return[3,8];case 6:return p=_.sent(),d={error:p},[3,8];case 7:try{n&&!n.done&&(f=r.return)&&f.call(r)}finally{if(d)throw d.error}return[7];case 8:return[2]}}))}function localUniqueStats(e){var t,r,n,a,i=datasetColumnNames(e),o=Object.fromEntries(i.map((function(e){return[e,{}]}))),s=enumerate(iterateRecords(e))||[];try{for(var u=__values(s),c=u.next();!c.done;c=u.next()){var l=__read(c.value,2)[1];try{for(var p=(n=void 0,__values(Object.entries(l))),d=p.next();!d.done;d=p.next()){var f=__read(d.value,2),m=f[0],h=f[1],_=o[m],v=JSON.stringify(h);void 0===_[v]?_[v]={value:h,count:1}:_[v].count++}}catch(e){n={error:e}}finally{try{d&&!d.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return o}function _statCompare(e,t){return JSON.stringify(e.value).localeCompare(JSON.stringify(t.value),"en",{numeric:!0,caseFirst:"lower"})}function addLocalUniquesToDataset(e){var t=localUniqueStats(e),r=e.headers.map((function(r){return __assign(__assign({},r),{uniques:{values:Object.values(t[r.name]).sort(_statCompare),loaded:isDatasetComplete(e)}})}));return __assign(__assign({},e),{headers:r})}function _prepareColumnStats(e){var t=e.headers.map((function(e){return e.name})),r=t.indexOf("__vqb_count__"),n=1-r,a=e.data.map((function(e){return{value:e[n],count:e[r]}}));return[t[n],a]}function updateLocalUniquesFromDatabase(e,t){var r,n,a=__read(_prepareColumnStats(t),2),i=a[0],o=a[1],s=[];try{for(var u=__values(e.headers),c=u.next();!c.done;c=u.next()){var l=c.value;l.name!==i?s.push(l):s.push(__assign(__assign({},l),{uniques:{values:o.sort(_statCompare),loaded:!0}}))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return __assign(__assign({},e),{headers:s})}function numberOfPages(e){return Math.ceil(e.totalCount/e.pagesize)}function pageOffset(e,t){return Math.max(t-1,0)*e}function pageMinMax(e){var t=pageOffset(e.pagesize,e.pageno);return{min:t+1,max:e.pageno===numberOfPages(e)?e.totalCount:t+e.pagesize}}var UnsetBackendService={listCollections:function(){throw new Error("Can't list collections because no backend service has been set")},executePipeline:function(){throw new Error("Can't preview data because no backend service has been set")}};function _interpolate(e,t,r){return"string"==typeof t||Array.isArray(t)?e(t,r):t}function interpolateFilterCondition(e,t,r){if(isFilterComboAnd(e))return{and:e.and.map((function(e){return interpolateFilterCondition(e,t,r)}))};if(isFilterComboOr(e))return{or:e.or.map((function(e){return interpolateFilterCondition(e,t,r)}))};switch(e.operator){case"eq":case"ne":case"gt":case"ge":case"lt":case"le":return __assign(__assign({},e),{column:_interpolate(t,e.column,r),value:_interpolate(t,e.value,r)});case"in":case"nin":return __assign(__assign({},e),{column:_interpolate(t,e.column,r),value:_interpolate(t,e.value,r)});case"isnull":case"notnull":return __assign(__assign({},e),{column:_interpolate(t,e.column,r)});default:return e}}function interpolateIfThenElse(e,t,r){var n={if:interpolateFilterCondition(e.if,t,r),then:_interpolate(t,e.then,r)};return"object"==typeof e.else?__assign(__assign({},n),{else:interpolateIfThenElse(e.else,t,r)}):__assign(__assign({},n),{else:_interpolate(t,e.else,r)})}var PipelineInterpolator=function(){function e(e,t){this.interpolateFunc=e,this.context=t}return e.prototype.addmissingdates=function(e){var t=this,r=e.groups?e.groups.map((function(e){return _interpolate(t.interpolateFunc,e,t.context)})):void 0;return __assign(__assign({},e),{datesColumn:_interpolate(this.interpolateFunc,e.datesColumn,this.context),groups:r})},e.prototype.append=function(e){var t,r,n=[];try{for(var a=__values(e.pipelines),i=a.next();!i.done;i=a.next()){var o=i.value;isReference(o)?n.push(o):n.push(this.interpolate(o))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return __assign(__assign({},e),{pipelines:n})},e.prototype.aggregate=function(e){var t,r,n=this,a=[];try{for(var i=__values(e.aggregations),o=i.next();!o.done;o=i.next()){var s=o.value;s.column?a.push(__assign(__assign({},s),{column:_interpolate(this.interpolateFunc,s.column,this.context)})):a.push(__assign(__assign({},s),{columns:s.columns.map((function(e){return _interpolate(n.interpolateFunc,e,n.context)}))}))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return{name:e.name,on:e.on.map((function(e){return _interpolate(n.interpolateFunc,e,n.context)})),aggregations:a,keepOriginalGranularity:e.keepOriginalGranularity}},e.prototype.argmax=function(e){var t=this,r=e.groups?e.groups.map((function(e){return _interpolate(t.interpolateFunc,e,t.context)})):void 0;return __assign(__assign({},e),{column:_interpolate(this.interpolateFunc,e.column,this.context),groups:r})},e.prototype.argmin=function(e){var t=this,r=e.groups?e.groups.map((function(e){return _interpolate(t.interpolateFunc,e,t.context)})):void 0;return __assign(__assign({},e),{column:_interpolate(this.interpolateFunc,e.column,this.context),groups:r})},e.prototype.concatenate=function(e){var t=this;return __assign(__assign({},e),{columns:e.columns.map((function(e){return _interpolate(t.interpolateFunc,e,t.context)}))})},e.prototype.convert=function(e){return __assign({},e)},e.prototype.cumsum=function(e){var t,r=this;return __assign(__assign({},e),{valueColumn:_interpolate(this.interpolateFunc,e.valueColumn,this.context),referenceColumn:_interpolate(this.interpolateFunc,e.referenceColumn,this.context),groupby:(t=e.groupby,null!=t?t:[]).map((function(e){return _interpolate(r.interpolateFunc,e,r.context)})),newColumn:_interpolate(this.interpolateFunc,e.newColumn,this.context)})},e.prototype.custom=function(e){return __assign(__assign({},e),{query:_interpolate(this.interpolateFunc,e.query,this.context)})},e.prototype.dateextract=function(e){return __assign(__assign({},e),{column:_interpolate(this.interpolateFunc,e.column,this.context)})},e.prototype.delete=function(e){return __assign({},e)},e.prototype.domain=function(e){return __assign({},e)},e.prototype.duplicate=function(e){return __assign({},e)},e.prototype.duration=function(e){return __assign(__assign({},e),{startDateColumn:_interpolate(this.interpolateFunc,e.startDateColumn,this.context),endDateColumn:_interpolate(this.interpolateFunc,e.endDateColumn,this.context)})},e.prototype.evolution=function(e){var t=this;return __assign(__assign({},e),{dateCol:_interpolate(this.interpolateFunc,e.dateCol,this.context),valueCol:_interpolate(this.interpolateFunc,e.valueCol,this.context),indexColumns:e.indexColumns.map((function(e){return _interpolate(t.interpolateFunc,e,t.context)})),newColumn:_interpolate(this.interpolateFunc,e.newColumn,this.context)})},e.prototype.fillna=function(e){return __assign(__assign({},e),{value:_interpolate(this.interpolateFunc,e.value,this.context)})},e.prototype.filter=function(e){return __assign(__assign({},e),{condition:interpolateFilterCondition(e.condition,this.interpolateFunc,this.context)})},e.prototype.formula=function(e){return __assign(__assign({},e),{formula:String(_interpolate(this.interpolateFunc,e.formula,this.context))})},e.prototype.fromdate=function(e){return __assign({},e)},e.prototype.ifthenelse=function(e){return __assign(__assign({},e),interpolateIfThenElse(lodash.omit(e,["name","newColumn"]),this.interpolateFunc,this.context))},e.prototype.join=function(e){return isReference(e.right_pipeline)?__assign({},e):__assign(__assign({},e),{right_pipeline:this.interpolate(e.right_pipeline)})},e.prototype.lowercase=function(e){return __assign({},e)},e.prototype.movingaverage=function(e){var t=this,r=e.groups?e.groups.map((function(e){return _interpolate(t.interpolateFunc,e,t.context)})):void 0;return __assign(__assign({},e),{valueColumn:_interpolate(this.interpolateFunc,e.valueColumn,this.context),columnToSort:_interpolate(this.interpolateFunc,e.columnToSort,this.context),movingWindow:Number(_interpolate(this.interpolateFunc,e.movingWindow,this.context)),groups:r})},e.prototype.percentage=function(e){return __assign({},e)},e.prototype.pivot=function(e){var t=this;return __assign(__assign({},e),{index:e.index.map((function(e){return _interpolate(t.interpolateFunc,e,t.context)})),column_to_pivot:_interpolate(this.interpolateFunc,e.column_to_pivot,this.context),value_column:_interpolate(this.interpolateFunc,e.value_column,this.context)})},e.prototype.rank=function(e){var t,r=this;return __assign(__assign({},e),{valueCol:_interpolate(this.interpolateFunc,e.valueCol,this.context),groupby:(t=e.groupby,null!=t?t:[]).map((function(e){return _interpolate(r.interpolateFunc,e,r.context)})),newColumnName:_interpolate(this.interpolateFunc,e.newColumnName,this.context)})},e.prototype.rename=function(e){var t=this;return __assign(__assign({},e),{toRename:e.toRename.map((function(e){var r=__read(e,2),n=r[0],a=r[1];return[_interpolate(t.interpolateFunc,n,t.context),_interpolate(t.interpolateFunc,a,t.context)]}))})},e.prototype.statistics=function(e){return __assign({},e)},e.prototype.replace=function(e){var t=this,r=e.to_replace.map((function(e){var r=__read(e,2),n=r[0],a=r[1];return[_interpolate(t.interpolateFunc,n,t.context),_interpolate(t.interpolateFunc,a,t.context)]}));return __assign(__assign({},e),{to_replace:r})},e.prototype.rollup=function(e){var t,r,n=this,a=__assign({},e),i=[];a.hierarchy=e.hierarchy.map((function(e){return _interpolate(n.interpolateFunc,e,n.context)}));try{for(var o=__values(e.aggregations),s=o.next();!s.done;s=o.next()){var u=s.value;u.column?i.push(__assign(__assign({},u),{column:_interpolate(this.interpolateFunc,u.column,this.context)})):i.push(__assign(__assign({},u),{columns:u.columns.map((function(e){return _interpolate(n.interpolateFunc,e,n.context)}))}))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return a.aggregations=i,e.groupby&&(a.groupby=e.groupby.map((function(e){return _interpolate(n.interpolateFunc,e,n.context)}))),e.labelCol&&(a.labelCol=_interpolate(this.interpolateFunc,e.labelCol,this.context)),e.parentLabelCol&&(a.parentLabelCol=_interpolate(this.interpolateFunc,e.parentLabelCol,this.context)),e.levelCol&&(a.levelCol=_interpolate(this.interpolateFunc,e.levelCol,this.context)),a},e.prototype.select=function(e){return __assign({},e)},e.prototype.sort=function(e){return __assign({},e)},e.prototype.split=function(e){return __assign(__assign({},e),{column:_interpolate(this.interpolateFunc,e.column,this.context)})},e.prototype.substring=function(e){return __assign({},e)},e.prototype.text=function(e){return __assign(__assign({},e),{text:_interpolate(this.interpolateFunc,e.text,this.context),new_column:_interpolate(this.interpolateFunc,e.new_column,this.context)})},e.prototype.todate=function(e){return __assign({},e)},e.prototype.top=function(e){var t=this,r=e.groups?e.groups.map((function(e){return _interpolate(t.interpolateFunc,e,t.context)})):void 0;return __assign(__assign({},e),{limit:Number(_interpolate(this.interpolateFunc,e.limit,this.context)),rank_on:_interpolate(this.interpolateFunc,e.rank_on,this.context),groups:r})},e.prototype.totals=function(e){var t=this,r=e.aggregations.map((function(e){return __assign(__assign({},e),{columns:e.columns.map((function(e){return _interpolate(t.interpolateFunc,e,t.context)}))})})),n=e.groups?e.groups.map((function(e){return _interpolate(t.interpolateFunc,e,t.context)})):void 0;return __assign(__assign({},e),{aggregations:r,groups:n})},e.prototype.uniquegroups=function(e){var t=this;return{name:e.name,on:e.on.map((function(e){return _interpolate(t.interpolateFunc,e,t.context)}))}},e.prototype.unpivot=function(e){var t=this;return __assign(__assign({},e),{keep:e.keep.map((function(e){return _interpolate(t.interpolateFunc,e,t.context)})),unpivot:e.unpivot.map((function(e){return _interpolate(t.interpolateFunc,e,t.context)}))})},e.prototype.uppercase=function(e){return __assign({},e)},e.prototype.waterfall=function(e){var t,r=this;return __assign(__assign({},e),{valueColumn:_interpolate(this.interpolateFunc,e.valueColumn,this.context),milestonesColumn:_interpolate(this.interpolateFunc,e.milestonesColumn,this.context),groupby:(t=e.groupby,null!=t?t:[]).map((function(e){return _interpolate(r.interpolateFunc,e,r.context)})),start:_interpolate(this.interpolateFunc,e.start,this.context),end:_interpolate(this.interpolateFunc,e.end,this.context),labelsColumn:_interpolate(this.interpolateFunc,e.labelsColumn,this.context),parentsColumn:_interpolate(this.interpolateFunc,e.parentsColumn,this.context)})},e.prototype.interpolate=function(e){return e.map(this.interpolateStep.bind(this))},e.prototype.interpolateStep=function(e){return this[e.name].bind(this)(e)},e}(),aloneVarsRegExp=new RegExp("^"+lodash.templateSettings.interpolate.source+"$"),exampleInterpolateFunc=function(e,t){return"string"==typeof e&&e.match(aloneVarsRegExp)?Function("context","with(context) { return "+e.match(aloneVarsRegExp)[1]+" }")(t):Array.isArray(e)?e.reduce((function(e,r){if("string"==typeof r){var n=exampleInterpolateFunc(r,t);return Array.isArray(n)&&r.match(aloneVarsRegExp)?__spread(e,n):__spread(e,[n])}return __spread(e,[r])}),[]):lodash.template(e)(t)};function emptyState(){return{dataset:{headers:[],data:[],paginationContext:{pagesize:50,pageno:1,totalCount:0}},domains:[],currentStepFormName:void 0,stepFormInitialValue:void 0,stepFormDefaults:void 0,selectedStepIndex:-1,currentPipelineName:void 0,pipelines:{},selectedColumns:[],pagesize:50,backendMessages:[],isLoading:{dataset:!1,uniqueValues:!1},isRequestOnGoing:!1,variables:{},translator:"mongo40",backendService:UnsetBackendService,interpolateFunc:function(e,t){return e}}}function currentPipeline(e){if(e.currentPipelineName)return e.pipelines[e.currentPipelineName]}function firstNonSelectedIndex(e,t){return t<0?e.length:t+1}function activePipeline(e){var t,r=currentPipeline(e);return null===(t=r)||void 0===t?void 0:t.slice(0,firstNonSelectedIndex(r,e.selectedStepIndex))}function inactivePipeline(e){var t,r=currentPipeline(e);return null===(t=r)||void 0===t?void 0:t.slice(firstNonSelectedIndex(r,e.selectedStepIndex))}function preparePipeline(e,t){if(!(e&&e.length>0))throw new Error("pipeline should not be empty");var r=t.interpolateFunc,n=t.variables,a=t.pipelines;(a&&Object.keys(a).length&&(e=dereferencePipelines(e,a)),r&&n&&Object.keys(n).length)&&(e=new PipelineInterpolator(r,n).interpolate(e));return e}function loading(e){return function(t,r,n){var a=n.value;return n.value=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){switch(n.label){case 0:return t.commit("setLoading",{type:e,isLoading:!0}),[4,a.apply(void 0,__spread([t],r))];case 1:return n.sent(),t.commit("setLoading",{type:e,isLoading:!1}),[2]}}))}))},n}}var Actions=function(){function e(){}return e.prototype.selectPipeline=function(e,t){var r=t.name;e.commit("setCurrentPipelineName",{name:r}),e.commit("selectStep",{index:-1}),e.dispatch("updateDataset")},e.prototype.updateDataset=function(e){var t,r=e.commit,n=e.getters,a=e.state;return __awaiter(this,void 0,void 0,(function(){var e,i,o;return __generator(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,3,4]),r("setLoading",{type:"dataset",isLoading:!0}),r("toggleRequestOnGoing",{isRequestOnGoing:!0}),(null===(t=n.activePipeline)||void 0===t?void 0:t.length)?[4,a.backendService.executePipeline(preparePipeline(n.activePipeline,a),a.pagesize,pageOffset(a.pagesize,n.pageno))]:(r("setDataset",{dataset:{headers:[],data:[]}}),[2]);case 1:return o=s.sent(),e=o.error||o.warning||[],r("logBackendMessages",{backendMessages:e}),o.data&&r("setDataset",{dataset:addLocalUniquesToDataset(o.data)}),[2,o];case 2:throw i=s.sent(),o={error:[{type:"error",message:i.toString()}]},console.error(i),r("logBackendMessages",{backendMessages:o.error}),i;case 3:return r("toggleRequestOnGoing",{isRequestOnGoing:!1}),r("setLoading",{type:"dataset",isLoading:!1}),[7];case 4:return[2]}}))}))},e.prototype.selectStep=function(e,t){var r=e.commit,n=e.dispatch;r("selectStep",{index:t.index}),n("updateDataset")},e.prototype.deleteStep=function(e,t){var r=e.commit,n=e.dispatch;r("deleteStep",{index:t.index}),n("updateDataset")},e.prototype.setCurrentDomain=function(e,t){var r=e.commit,n=e.dispatch;r("setCurrentDomain",t),n("updateDataset")},e.prototype.setCurrentPage=function(e,t){var r=e.commit,n=e.dispatch;r("setCurrentPage",{pageno:t.pageno}),n("updateDataset")},e.prototype.setMagicSteps=function(e,t){var r=e.commit,n=e.getters,a=t.magicConfig,i=n.pipeline;if(i&&i.length&&a){var o=Object.entries(a).map((function(e){var t=__read(e,2);return{name:"filter",isMagic:!0,condition:{column:t[0],value:t[1],operator:"eq"}}})),s=__spread(i);s.splice.apply(s,__spread([1,0],o)),r("setPipeline",{pipeline:s})}},e.prototype.deleteMagicSteps=function(e){var t=e.commit,r=e.getters.pipeline;r&&r.length&&t("setPipeline",{pipeline:r.filter((function(e){return!isMagicStep(e)}))})},e.prototype.loadColumnUniqueValues=function(e,t){var r=t.column;return __awaiter(this,void 0,void 0,(function(){var t,n,a;return __generator(this,(function(i){switch(i.label){case 0:return(t=e.getters.activePipeline)&&t.length?(n=__spread(t,[{name:"aggregate",aggregations:[{columns:[r],aggfunction:"count",newcolumns:["__vqb_count__"]}],on:[r]}]),[4,e.state.backendService.executePipeline(preparePipeline(n,e.state),1e4,0)]):[2];case 1:return(a=i.sent()).error||e.commit("setDataset",{dataset:updateLocalUniquesFromDatabase(e.state.dataset,a.data)}),[2]}}))}))},__decorate([loading("uniqueValues")],e.prototype,"loadColumnUniqueValues",null),e}(),actions={};Object.assign(actions,Actions.prototype);var getters={activePipeline:activePipeline,backendMessages:function(e){return e.backendMessages},columnNames:function(e){return e.dataset.headers.map((function(e){return e.name}))},columnHeaders:function(e){return e.dataset.headers},columnTypes:function(e){return lodash.fromPairs(e.dataset.headers.map((function(e){return[e.name,e.type]})))},computedActiveStepIndex:function(e){var t=currentPipeline(e);if(t)return-1===e.selectedStepIndex?t.length-1:e.selectedStepIndex},domainStep:function(e){var t,r=currentPipeline(e);if(r)return null===(t=r)||void 0===t?void 0:t[0]},inactivePipeline:inactivePipeline,isDatasetEmpty:function(e){return 0===e.dataset.data.length},isEditingStep:function(e){return void 0!==e.currentStepFormName},isPipelineEmpty:function(e){var t=currentPipeline(e);if(t)return t.length<=1},isStepDisabled:function(e){return function(t){return e.selectedStepIndex>=0&&t>e.selectedStepIndex}},pageno:function(e){return e.dataset.paginationContext?e.dataset.paginationContext.pageno:1},pipeline:function(e){return currentPipeline(e)},pipelines:function(e){return e.pipelines},pipelinesNames:function(e){return Object.keys(e.pipelines)},availableDatasetNames:function(e){return Object.keys(e.pipelines).concat(e.domains).filter((function(t){return t!==e.currentPipelineName})).sort((function(e,t){return e.localeCompare(t)}))},referencingPipelines:function(e){return e.currentPipelineName?getPipelineNamesReferencing(e.currentPipelineName,e.pipelines):[]},thereIsABackendError:function(e){return e.backendMessages.length>0},selectedColumns:function(e){return e.selectedColumns},stepConfig:function(e){return function(t){var r;return null===(r=currentPipeline(e))||void 0===r?void 0:r[t]}},translator:function(e){return e.translator},unsupportedSteps:function(e){return getTranslator(e.translator).unsupportedSteps}};function resetPagination(e,t,r){var n=r.value;return r.value=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];n.apply(void 0,__spread([e],t)),e.dataset.paginationContext&&(e.dataset.paginationContext.pageno=1)},r}var Mutations=function(){function e(){}return e.prototype.closeStepForm=function(e){e.currentStepFormName=void 0},e.prototype.createStepForm=function(e,t){var r=t.stepName,n=t.stepFormDefaults;e.currentStepFormName=r,e.stepFormInitialValue=void 0,e.stepFormDefaults=n},e.prototype.logBackendMessages=function(e,t){var r=t.backendMessages;e.backendMessages=r},e.prototype.openStepForm=function(e,t){var r=t.stepName,n=t.initialValue;e.stepFormInitialValue=__assign({},n),e.currentStepFormName=r,e.stepFormDefaults=void 0},e.prototype.resetStepFormInitialValue=function(e){e.stepFormInitialValue=void 0},e.prototype.selectStep=function(e,t){var r=t.index,n=currentPipeline(e);n&&r>n.length?(console.error("In selectStep: index out of bounds. Falling back to last selectable index."),e.selectedStepIndex=-1):e.selectedStepIndex=r},e.prototype.deleteStep=function(e,t){var r=t.index,n=currentPipeline(e);n&&(n.splice(r,1),e.selectedStepIndex=r-1)},e.prototype.setCurrentDomain=function(e,t){var r=t.currentDomain,n=currentPipeline(e);if(void 0!==e.currentPipelineName&&void 0!==n&&(e.currentDomain=r,r)){var a={name:"domain",domain:r};n.length?e.pipelines[e.currentPipelineName]=__spread([a],n.slice(1)):e.pipelines[e.currentPipelineName]=[a]}},e.prototype.setCurrentPipelineName=function(e,t){var r=t.name;e.currentPipelineName=r},e.prototype.setDataset=function(e,t){var r=t.dataset;e.dataset=r},e.prototype.setDomains=function(e,t){var r=t.domains;e.domains=r,(!e.currentDomain||r.length&&!r.includes(e.currentDomain))&&(e.currentDomain=r[0])},e.prototype.setPipeline=function(e,t){var r=t.pipeline;if(void 0!==e.currentPipelineName&&(Vue.set(e.pipelines,e.currentPipelineName,r),r.length)){var n=r[0];"domain"===n.name&&(e.currentDomain=n.domain)}},e.prototype.setPipelines=function(e,t){var r=t.pipelines;e.pipelines=r},e.prototype.setSelectedColumns=function(e,t){var r=t.column;void 0!==r&&(e.selectedColumns=[r])},e.prototype.toggleColumnSelection=function(e,t){var r=t.column;e.selectedColumns.includes(r)?e.selectedColumns=[]:e.selectedColumns=[r]},e.prototype.setCurrentPage=function(e,t){var r=t.pageno;if(e.dataset.paginationContext)e.dataset.paginationContext.pageno=r;else{var n=e.dataset.data.length;e.dataset.paginationContext={pageno:r,pagesize:n,totalCount:n}}},e.prototype.setLoading=function(e,t){var r=t.type,n=t.isLoading;e.isLoading[r]=n},e.prototype.setTranslator=function(e,t){var r=t.translator;e.translator=r},e.prototype.setBackendService=function(e,t){var r=t.backendService;e.backendService=r},e.prototype.toggleRequestOnGoing=function(e,t){var r=t.isRequestOnGoing;e.isRequestOnGoing=r},e.prototype.setAvailableVariables=function(e,t){var r=t.availableVariables;e.availableVariables=r},e.prototype.setVariableDelimiters=function(e,t){var r=t.variableDelimiters;e.variableDelimiters=r,setVariableDelimiters(r)},__decorate([resetPagination],e.prototype,"selectStep",null),__decorate([resetPagination],e.prototype,"deleteStep",null),__decorate([resetPagination],e.prototype,"setCurrentDomain",null),__decorate([resetPagination],e.prototype,"setCurrentPipelineName",null),__decorate([resetPagination],e.prototype,"setPipeline",null),e}(),mutations={};Object.assign(mutations,Mutations.prototype);var VQB_MODULE_NAME="vqb",VQBnamespace=function(e){return VQB_MODULE_NAME+"/"+e},VQBModule=namespace(VQB_MODULE_NAME);function buildStoreModule(e){return void 0===e&&(e={}),{namespaced:!0,state:__assign(__assign({},emptyState()),e),getters:getters,mutations:mutations,actions:actions}}function registerModule(e,t){void 0===t&&(t={}),e.registerModule(VQB_MODULE_NAME,buildStoreModule(t))}function unregisterModule(e){e.unregisterModule(VQB_MODULE_NAME)}function setupStore(e,t,r){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===r&&(r=!1),r&&Vue.use(Vuex__default);var n={actions:actions,state:__assign(__assign({},emptyState()),e),getters:getters,mutations:mutations,plugins:t};return new Vuex.Store(n)}var dist$1=createCommonjsModule((function(e,t){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1));e.exports=n.default},function(e,t,r){r(2);var n=r(6)(r(7),r(8),"data-v-82963a40",null);e.exports=n.exports},function(e,t,r){var n=r(3);"string"==typeof n&&(n=[[e.id,n,""]]),r(5)(n,{}),n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(4)()).push([e.id,"a[data-v-82963a40]{cursor:pointer}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(n[i]=!0)}for(a=0;a<t.length;a++){var o=t[a];"number"==typeof o[0]&&n[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),e.push(o))}},e}},function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++){var n=e[r],a=c[n.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](n.parts[i]);for(;i<n.parts.length;i++)a.parts.push(o(n.parts[i],t))}else{var s=[];for(i=0;i<n.parts.length;i++)s.push(o(n.parts[i],t));c[n.id]={id:n.id,refs:1,parts:s}}}}function a(e){for(var t=[],r={},n=0;n<e.length;n++){var a=e[n],i=a[0],o={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(o):t.push(r[i]={id:i,parts:[o]})}return t}function i(e){var t=document.createElement("style");return t.type="text/css",function(e,t){var r=d(),n=h[h.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),h.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}(e,t),t}function o(e,t){var r,n,a;if(t.singleton){var o=m++;r=f||(f=i(t)),n=s.bind(null,r,o,!1),a=s.bind(null,r,o,!0)}else r=i(t),n=u.bind(null,r),a=function(){!function(e){e.parentNode.removeChild(e);var t=h.indexOf(e);t>=0&&h.splice(t,1)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}function s(e,t,r,n){var a=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=_(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function u(e,t){var r=t.css,n=t.media,a=t.sourceMap;if(n&&e.setAttribute("media",n),a&&(r+="\n/*# sourceURL="+a.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var c={},l=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},p=l((function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())})),d=l((function(){return document.head||document.getElementsByTagName("head")[0]})),f=null,m=0,h=[];e.exports=function(e,t){void 0===(t=t||{}).singleton&&(t.singleton=p()),void 0===t.insertAt&&(t.insertAt="bottom");var r=a(e);return n(r,t),function(e){for(var i=[],o=0;o<r.length;o++){var s=r[o];(u=c[s.id]).refs--,i.push(u)}for(e&&n(a(e),t),o=0;o<i.length;o++){var u;if(0===(u=i[o]).refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete c[u.id]}}}};var _=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t,r,n){var a,i=e=e||{},o=typeof e.default;"object"!==o&&"function"!==o||(a=e,i=e.default);var s="function"==typeof i?i.options:i;if(t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns),r&&(s._scopeId=r),n){var u=s.computed||(s.computed={});Object.keys(n).forEach((function(e){var t=n[e];u[e]=function(){return t}}))}return{esModule:a,exports:i,options:s}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{value:{type:Number},pageCount:{type:Number,required:!0},forcePage:{type:Number},clickHandler:{type:Function,default:function(){}},pageRange:{type:Number,default:3},marginPages:{type:Number,default:1},prevText:{type:String,default:"Prev"},nextText:{type:String,default:"Next"},breakViewText:{type:String,default:"…"},containerClass:{type:String},pageClass:{type:String},pageLinkClass:{type:String},prevClass:{type:String},prevLinkClass:{type:String},nextClass:{type:String},nextLinkClass:{type:String},breakViewClass:{type:String},breakViewLinkClass:{type:String},activeClass:{type:String,default:"active"},disabledClass:{type:String,default:"disabled"},noLiSurround:{type:Boolean,default:!1},firstLastButton:{type:Boolean,default:!1},firstButtonText:{type:String,default:"First"},lastButtonText:{type:String,default:"Last"},hidePrevNext:{type:Boolean,default:!1}},beforeUpdate:function(){void 0!==this.forcePage&&this.forcePage!==this.selected&&(this.selected=this.forcePage)},computed:{selected:{get:function(){return this.value||this.innerValue},set:function(e){this.innerValue=e}},pages:function(){var e=this,t={};if(this.pageCount<=this.pageRange)for(var r=0;r<this.pageCount;r++){var n={index:r,content:r+1,selected:r===this.selected-1};t[r]=n}else{for(var a=Math.floor(this.pageRange/2),i=function(r){var n={index:r,content:r+1,selected:r===e.selected-1};t[r]=n},o=function(e){t[e]={disabled:!0,breakView:!0}},s=0;s<this.marginPages;s++)i(s);var u=0;this.selected-a>0&&(u=this.selected-1-a);var c=u+this.pageRange-1;c>=this.pageCount&&(u=(c=this.pageCount-1)-this.pageRange+1);for(var l=u;l<=c&&l<=this.pageCount-1;l++)i(l);u>this.marginPages&&o(u-1),c+1<this.pageCount-this.marginPages&&o(c+1);for(var p=this.pageCount-1;p>=this.pageCount-this.marginPages;p--)i(p)}return t}},data:function(){return{innerValue:1}},methods:{handlePageSelected:function(e){this.selected!==e&&(this.innerValue=e,this.$emit("input",e),this.clickHandler(e))},prevPage:function(){this.selected<=1||this.handlePageSelected(this.selected-1)},nextPage:function(){this.selected>=this.pageCount||this.handlePageSelected(this.selected+1)},firstPageSelected:function(){return 1===this.selected},lastPageSelected:function(){return this.selected===this.pageCount||0===this.pageCount},selectFirstPage:function(){this.selected<=1||this.handlePageSelected(1)},selectLastPage:function(){this.selected>=this.pageCount||this.handlePageSelected(this.pageCount)}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.noLiSurround?r("div",{class:e.containerClass},[e.firstLastButton?r("a",{class:[e.pageLinkClass,e.firstPageSelected()?e.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:e._s(e.firstButtonText)},on:{click:function(t){e.selectFirstPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.selectFirstPage():null}}}):e._e(),e._v(" "),e.firstPageSelected()&&e.hidePrevNext?e._e():r("a",{class:[e.prevLinkClass,e.firstPageSelected()?e.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:e._s(e.prevText)},on:{click:function(t){e.prevPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.prevPage():null}}}),e._v(" "),e._l(e.pages,(function(t){return[t.breakView?r("a",{class:[e.pageLinkClass,e.breakViewLinkClass,t.disabled?e.disabledClass:""],attrs:{tabindex:"0"}},[e._t("breakViewContent",[e._v(e._s(e.breakViewText))])],2):t.disabled?r("a",{class:[e.pageLinkClass,t.selected?e.activeClass:"",e.disabledClass],attrs:{tabindex:"0"}},[e._v(e._s(t.content))]):r("a",{class:[e.pageLinkClass,t.selected?e.activeClass:""],attrs:{tabindex:"0"},on:{click:function(r){e.handlePageSelected(t.index+1)},keyup:function(r){return"button"in r||!e._k(r.keyCode,"enter",13)?void e.handlePageSelected(t.index+1):null}}},[e._v(e._s(t.content))])]})),e._v(" "),e.lastPageSelected()&&e.hidePrevNext?e._e():r("a",{class:[e.nextLinkClass,e.lastPageSelected()?e.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:e._s(e.nextText)},on:{click:function(t){e.nextPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.nextPage():null}}}),e._v(" "),e.firstLastButton?r("a",{class:[e.pageLinkClass,e.lastPageSelected()?e.disabledClass:""],attrs:{tabindex:"0"},domProps:{innerHTML:e._s(e.lastButtonText)},on:{click:function(t){e.selectLastPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.selectLastPage():null}}}):e._e()],2):r("ul",{class:e.containerClass},[e.firstLastButton?r("li",{class:[e.pageClass,e.firstPageSelected()?e.disabledClass:""]},[r("a",{class:e.pageLinkClass,attrs:{tabindex:e.firstPageSelected()?-1:0},domProps:{innerHTML:e._s(e.firstButtonText)},on:{click:function(t){e.selectFirstPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.selectFirstPage():null}}})]):e._e(),e._v(" "),e.firstPageSelected()&&e.hidePrevNext?e._e():r("li",{class:[e.prevClass,e.firstPageSelected()?e.disabledClass:""]},[r("a",{class:e.prevLinkClass,attrs:{tabindex:e.firstPageSelected()?-1:0},domProps:{innerHTML:e._s(e.prevText)},on:{click:function(t){e.prevPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.prevPage():null}}})]),e._v(" "),e._l(e.pages,(function(t){return r("li",{class:[e.pageClass,t.selected?e.activeClass:"",t.disabled?e.disabledClass:"",t.breakView?e.breakViewClass:""]},[t.breakView?r("a",{class:[e.pageLinkClass,e.breakViewLinkClass],attrs:{tabindex:"0"}},[e._t("breakViewContent",[e._v(e._s(e.breakViewText))])],2):t.disabled?r("a",{class:e.pageLinkClass,attrs:{tabindex:"0"}},[e._v(e._s(t.content))]):r("a",{class:e.pageLinkClass,attrs:{tabindex:"0"},on:{click:function(r){e.handlePageSelected(t.index+1)},keyup:function(r){return"button"in r||!e._k(r.keyCode,"enter",13)?void e.handlePageSelected(t.index+1):null}}},[e._v(e._s(t.content))])])})),e._v(" "),e.lastPageSelected()&&e.hidePrevNext?e._e():r("li",{class:[e.nextClass,e.lastPageSelected()?e.disabledClass:""]},[r("a",{class:e.nextLinkClass,attrs:{tabindex:e.lastPageSelected()?-1:0},domProps:{innerHTML:e._s(e.nextText)},on:{click:function(t){e.nextPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.nextPage():null}}})]),e._v(" "),e.firstLastButton?r("li",{class:[e.pageClass,e.lastPageSelected()?e.disabledClass:""]},[r("a",{class:e.pageLinkClass,attrs:{tabindex:e.lastPageSelected()?-1:0},domProps:{innerHTML:e._s(e.lastButtonText)},on:{click:function(t){e.selectLastPage()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13)?void e.selectLastPage():null}}})]):e._e()],2)},staticRenderFns:[]}}])})),Paginate=unwrapExports(dist$1),dist_1=dist$1.VuejsPaginate,Pagination=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"showPager",{get:function(){return this.pageCount>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageCount",{get:function(){return this.dataset.paginationContext?numberOfPages(this.dataset.paginationContext):1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageNo",{get:function(){return this.dataset.paginationContext?this.dataset.paginationContext.pageno:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalCount",{get:function(){return this.dataset.paginationContext?this.dataset.paginationContext.totalCount:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageRows",{get:function(){return this.dataset.paginationContext?pageMinMax(this.dataset.paginationContext):0},enumerable:!0,configurable:!0}),t.prototype.pageClicked=function(e){this.setCurrentPage({pageno:e})},__decorate([VQBModule.State],t.prototype,"dataset",void 0),__decorate([VQBModule.Action],t.prototype,"setCurrentPage",void 0),t=__decorate([Component({name:"pagination",components:{Paginate:Paginate}})],t)}(Vue);const __vue_script__$1=Pagination;var __vue_render__$1=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pagination"},[e.showPager?r("paginate",{attrs:{value:e.pageNo,"page-count":e.pageCount,containerClass:"pagination__list","prev-class":"prevnext","next-class":"prevnext",clickHandler:e.pageClicked}}):e._e(),e._v(" "),e.showPager?r("div",{staticClass:"pagination-counter"},[r("span",{staticClass:"pagination-counter__current-min"},[e._v(e._s(e.pageRows.min))]),e._v(" "),r("span",{staticClass:"pagination-counter__current-max"},[e._v(" - "+e._s(e.pageRows.max))]),e._v(" "),r("span",{staticClass:"pagination-counter__total-count"},[e._v(" of "+e._s(e.totalCount)+" rows")])]):r("div",{staticClass:"pagination-counter"},[r("span",{staticClass:"pagination-counter__total-count"},[e._v(e._s(e.totalCount)+" rows")])])],1)},__vue_staticRenderFns__$1=[];__vue_render__$1._withStripped=!0;const __vue_inject_styles__$1=void 0,__vue_scope_id__$1=void 0,__vue_module_identifier__$1=void 0,__vue_is_functional_template__$1=!1,__vue_component__$1=normalizeComponent({render:__vue_render__$1,staticRenderFns:__vue_staticRenderFns__$1},void 0,__vue_script__$1,void 0,!1,void 0,!1,void 0,void 0,void 0);function listCacheClear(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear;function eq(e,t){return e===t||e!=e&&t!=t}var eq_1=eq;function assocIndexOf(e,t){for(var r=e.length;r--;)if(eq_1(e[r][0],t))return r;return-1}var _assocIndexOf=assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(e){var t=this.__data__,r=_assocIndexOf(t,e);return!(r<0)&&(r==t.length-1?t.pop():splice.call(t,r,1),--this.size,!0)}var _listCacheDelete=listCacheDelete;function listCacheGet(e){var t=this.__data__,r=_assocIndexOf(t,e);return r<0?void 0:t[r][1]}var _listCacheGet=listCacheGet;function listCacheHas(e){return _assocIndexOf(this.__data__,e)>-1}var _listCacheHas=listCacheHas;function listCacheSet(e,t){var r=this.__data__,n=_assocIndexOf(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var _listCacheSet=listCacheSet;function ListCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ListCache.prototype.clear=_listCacheClear,ListCache.prototype.delete=_listCacheDelete,ListCache.prototype.get=_listCacheGet,ListCache.prototype.has=_listCacheHas,ListCache.prototype.set=_listCacheSet;var _ListCache=ListCache;function stackClear(){this.__data__=new _ListCache,this.size=0}var _stackClear=stackClear;function stackDelete(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var _stackDelete=stackDelete;function stackGet(e){return this.__data__.get(e)}var _stackGet=stackGet;function stackHas(e){return this.__data__.has(e)}var _stackHas=stackHas,freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=_freeGlobal||freeSelf||Function("return this")(),_root=root,Symbol$1=_root.Symbol,_Symbol=Symbol$1,objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=_Symbol?_Symbol.toStringTag:void 0;function getRawTag(e){var t=hasOwnProperty$1.call(e,symToStringTag),r=e[symToStringTag];try{e[symToStringTag]=void 0;var n=!0}catch(e){}var a=nativeObjectToString.call(e);return n&&(t?e[symToStringTag]=r:delete e[symToStringTag]),a}var _getRawTag=getRawTag,objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString;function objectToString(e){return nativeObjectToString$1.call(e)}var _objectToString=objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag$1=_Symbol?_Symbol.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag$1&&symToStringTag$1 in Object(e)?_getRawTag(e):_objectToString(e)}var _baseGetTag=baseGetTag;function isObject$1(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var isObject_1=isObject$1,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(e){if(!isObject_1(e))return!1;var t=_baseGetTag(e);return t==funcTag||t==genTag||t==asyncTag||t==proxyTag}var isFunction_1=isFunction$1,coreJsData=_root["__core-js_shared__"],_coreJsData=coreJsData,maskSrcKey=function(){var e=/[^.]+$/.exec(_coreJsData&&_coreJsData.keys&&_coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}var _isMasked=isMasked,funcProto=Function.prototype,funcToString=funcProto.toString;function toSource(e){if(null!=e){try{return funcToString.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var _toSource=toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$2=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$2=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$2).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){return!(!isObject_1(e)||_isMasked(e))&&(isFunction_1(e)?reIsNative:reIsHostCtor).test(_toSource(e))}var _baseIsNative=baseIsNative;function getValue(e,t){return null==e?void 0:e[t]}var _getValue=getValue;function getNative(e,t){var r=_getValue(e,t);return _baseIsNative(r)?r:void 0}var _getNative=getNative,Map$1=_getNative(_root,"Map"),_Map=Map$1,nativeCreate=_getNative(Object,"create"),_nativeCreate=nativeCreate;function hashClear(){this.__data__=_nativeCreate?_nativeCreate(null):{},this.size=0}var _hashClear=hashClear;function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _hashDelete=hashDelete,HASH_UNDEFINED="__lodash_hash_undefined__",objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function hashGet(e){var t=this.__data__;if(_nativeCreate){var r=t[e];return r===HASH_UNDEFINED?void 0:r}return hasOwnProperty$3.call(t,e)?t[e]:void 0}var _hashGet=hashGet,objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function hashHas(e){var t=this.__data__;return _nativeCreate?void 0!==t[e]:hasOwnProperty$4.call(t,e)}var _hashHas=hashHas,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_nativeCreate&&void 0===t?HASH_UNDEFINED$1:t,this}var _hashSet=hashSet;function Hash(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hash.prototype.clear=_hashClear,Hash.prototype.delete=_hashDelete,Hash.prototype.get=_hashGet,Hash.prototype.has=_hashHas,Hash.prototype.set=_hashSet;var _Hash=Hash;function mapCacheClear(){this.size=0,this.__data__={hash:new _Hash,map:new(_Map||_ListCache),string:new _Hash}}var _mapCacheClear=mapCacheClear;function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var _isKeyable=isKeyable;function getMapData(e,t){var r=e.__data__;return _isKeyable(t)?r["string"==typeof t?"string":"hash"]:r.map}var _getMapData=getMapData;function mapCacheDelete(e){var t=_getMapData(this,e).delete(e);return this.size-=t?1:0,t}var _mapCacheDelete=mapCacheDelete;function mapCacheGet(e){return _getMapData(this,e).get(e)}var _mapCacheGet=mapCacheGet;function mapCacheHas(e){return _getMapData(this,e).has(e)}var _mapCacheHas=mapCacheHas;function mapCacheSet(e,t){var r=_getMapData(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var _mapCacheSet=mapCacheSet;function MapCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}MapCache.prototype.clear=_mapCacheClear,MapCache.prototype.delete=_mapCacheDelete,MapCache.prototype.get=_mapCacheGet,MapCache.prototype.has=_mapCacheHas,MapCache.prototype.set=_mapCacheSet;var _MapCache=MapCache,LARGE_ARRAY_SIZE=200;function stackSet(e,t){var r=this.__data__;if(r instanceof _ListCache){var n=r.__data__;if(!_Map||n.length<LARGE_ARRAY_SIZE-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new _MapCache(n)}return r.set(e,t),this.size=r.size,this}var _stackSet=stackSet;function Stack(e){var t=this.__data__=new _ListCache(e);this.size=t.size}Stack.prototype.clear=_stackClear,Stack.prototype.delete=_stackDelete,Stack.prototype.get=_stackGet,Stack.prototype.has=_stackHas,Stack.prototype.set=_stackSet;var _Stack=Stack,HASH_UNDEFINED$2="__lodash_hash_undefined__";function setCacheAdd(e){return this.__data__.set(e,HASH_UNDEFINED$2),this}var _setCacheAdd=setCacheAdd;function setCacheHas(e){return this.__data__.has(e)}var _setCacheHas=setCacheHas;function SetCache(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new _MapCache;++t<r;)this.add(e[t])}SetCache.prototype.add=SetCache.prototype.push=_setCacheAdd,SetCache.prototype.has=_setCacheHas;var _SetCache=SetCache;function arraySome(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var _arraySome=arraySome;function cacheHas(e,t){return e.has(t)}var _cacheHas=cacheHas,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function equalArrays(e,t,r,n,a,i){var o=r&COMPARE_PARTIAL_FLAG,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var l=-1,p=!0,d=r&COMPARE_UNORDERED_FLAG?new _SetCache:void 0;for(i.set(e,t),i.set(t,e);++l<s;){var f=e[l],m=t[l];if(n)var h=o?n(m,f,l,t,e,i):n(f,m,l,e,t,i);if(void 0!==h){if(h)continue;p=!1;break}if(d){if(!_arraySome(t,(function(e,t){if(!_cacheHas(d,t)&&(f===e||a(f,e,r,n,i)))return d.push(t)}))){p=!1;break}}else if(f!==m&&!a(f,m,r,n,i)){p=!1;break}}return i.delete(e),i.delete(t),p}var _equalArrays=equalArrays,Uint8Array$1=_root.Uint8Array,_Uint8Array=Uint8Array$1;function mapToArray(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}var _mapToArray=mapToArray;function setToArray(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var _setToArray=setToArray,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=_Symbol?_Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(e,t,r,n,a,i,o){switch(r){case dataViewTag:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case arrayBufferTag:return!(e.byteLength!=t.byteLength||!i(new _Uint8Array(e),new _Uint8Array(t)));case boolTag:case dateTag:case numberTag:return eq_1(+e,+t);case errorTag:return e.name==t.name&&e.message==t.message;case regexpTag:case stringTag:return e==t+"";case mapTag:var s=_mapToArray;case setTag:var u=n&COMPARE_PARTIAL_FLAG$1;if(s||(s=_setToArray),e.size!=t.size&&!u)return!1;var c=o.get(e);if(c)return c==t;n|=COMPARE_UNORDERED_FLAG$1,o.set(e,t);var l=_equalArrays(s(e),s(t),n,a,i,o);return o.delete(e),l;case symbolTag:if(symbolValueOf)return symbolValueOf.call(e)==symbolValueOf.call(t)}return!1}var _equalByTag=equalByTag;function arrayPush(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var _arrayPush=arrayPush,isArray$1=Array.isArray,isArray_1=isArray$1;function baseGetAllKeys(e,t,r){var n=t(e);return isArray_1(e)?n:_arrayPush(n,r(e))}var _baseGetAllKeys=baseGetAllKeys;function arrayFilter(e,t){for(var r=-1,n=null==e?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var _arrayFilter=arrayFilter;function stubArray(){return[]}var stubArray_1=stubArray,objectProto$5=Object.prototype,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(e){return null==e?[]:(e=Object(e),_arrayFilter(nativeGetSymbols(e),(function(t){return propertyIsEnumerable.call(e,t)})))}:stubArray_1,_getSymbols=getSymbols;function baseTimes(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _baseTimes=baseTimes;function isObjectLike(e){return null!=e&&"object"==typeof e}var isObjectLike_1=isObjectLike,argsTag="[object Arguments]";function baseIsArguments(e){return isObjectLike_1(e)&&_baseGetTag(e)==argsTag}var _baseIsArguments=baseIsArguments,objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty,propertyIsEnumerable$1=objectProto$6.propertyIsEnumerable,isArguments=_baseIsArguments(function(){return arguments}())?_baseIsArguments:function(e){return isObjectLike_1(e)&&hasOwnProperty$5.call(e,"callee")&&!propertyIsEnumerable$1.call(e,"callee")},isArguments_1=isArguments;function stubFalse(){return!1}var stubFalse_1=stubFalse,isBuffer_1=createCommonjsModule((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,a=n&&n.exports===r?_root.Buffer:void 0,i=(a?a.isBuffer:void 0)||stubFalse_1;e.exports=i})),MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$1(e,t){var r=typeof e;return!!(t=null==t?MAX_SAFE_INTEGER$1:t)&&("number"==r||"symbol"!=r&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}var _isIndex=isIndex$1,MAX_SAFE_INTEGER$2=9007199254740991;function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER$2}var isLength_1=isLength,argsTag$1="[object Arguments]",arrayTag="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag$1="[object Function]",mapTag$1="[object Map]",numberTag$1="[object Number]",objectTag="[object Object]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag$1="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray(e){return isObjectLike_1(e)&&isLength_1(e.length)&&!!typedArrayTags[_baseGetTag(e)]}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$1]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag]=!1;var _baseIsTypedArray=baseIsTypedArray;function baseUnary(e){return function(t){return e(t)}}var _baseUnary=baseUnary,_nodeUtil=createCommonjsModule((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,a=n&&n.exports===r&&_freeGlobal.process,i=function(){try{var e=n&&n.require&&n.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=i})),nodeIsTypedArray=_nodeUtil&&_nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?_baseUnary(nodeIsTypedArray):_baseIsTypedArray,isTypedArray_1=isTypedArray,objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function arrayLikeKeys(e,t){var r=isArray_1(e),n=!r&&isArguments_1(e),a=!r&&!n&&isBuffer_1(e),i=!r&&!n&&!a&&isTypedArray_1(e),o=r||n||a||i,s=o?_baseTimes(e.length,String):[],u=s.length;for(var c in e)!t&&!hasOwnProperty$6.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_isIndex(c,u))||s.push(c);return s}var _arrayLikeKeys=arrayLikeKeys,objectProto$8=Object.prototype;function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||objectProto$8)}var _isPrototype=isPrototype;function overArg(e,t){return function(r){return e(t(r))}}var _overArg=overArg,nativeKeys=_overArg(Object.keys,Object),_nativeKeys=nativeKeys,objectProto$9=Object.prototype,hasOwnProperty$7=objectProto$9.hasOwnProperty;function baseKeys(e){if(!_isPrototype(e))return _nativeKeys(e);var t=[];for(var r in Object(e))hasOwnProperty$7.call(e,r)&&"constructor"!=r&&t.push(r);return t}var _baseKeys=baseKeys;function isArrayLike(e){return null!=e&&isLength_1(e.length)&&!isFunction_1(e)}var isArrayLike_1=isArrayLike;function keys(e){return isArrayLike_1(e)?_arrayLikeKeys(e):_baseKeys(e)}var keys_1=keys;function getAllKeys(e){return _baseGetAllKeys(e,keys_1,_getSymbols)}var _getAllKeys=getAllKeys,COMPARE_PARTIAL_FLAG$2=1,objectProto$a=Object.prototype,hasOwnProperty$8=objectProto$a.hasOwnProperty;function equalObjects(e,t,r,n,a,i){var o=r&COMPARE_PARTIAL_FLAG$2,s=_getAllKeys(e),u=s.length;if(u!=_getAllKeys(t).length&&!o)return!1;for(var c=u;c--;){var l=s[c];if(!(o?l in t:hasOwnProperty$8.call(t,l)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var d=!0;i.set(e,t),i.set(t,e);for(var f=o;++c<u;){var m=e[l=s[c]],h=t[l];if(n)var _=o?n(h,m,l,t,e,i):n(m,h,l,e,t,i);if(!(void 0===_?m===h||a(m,h,r,n,i):_)){d=!1;break}f||(f="constructor"==l)}if(d&&!f){var v=e.constructor,g=t.constructor;v!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof g&&g instanceof g)&&(d=!1)}return i.delete(e),i.delete(t),d}var _equalObjects=equalObjects,DataView=_getNative(_root,"DataView"),_DataView=DataView,Promise$1=_getNative(_root,"Promise"),_Promise=Promise$1,Set$1=_getNative(_root,"Set"),_Set=Set$1,WeakMap=_getNative(_root,"WeakMap"),_WeakMap=WeakMap,mapTag$2="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$2="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=_toSource(_DataView),mapCtorString=_toSource(_Map),promiseCtorString=_toSource(_Promise),setCtorString=_toSource(_Set),weakMapCtorString=_toSource(_WeakMap),getTag=_baseGetTag;(_DataView&&getTag(new _DataView(new ArrayBuffer(1)))!=dataViewTag$2||_Map&&getTag(new _Map)!=mapTag$2||_Promise&&getTag(_Promise.resolve())!=promiseTag||_Set&&getTag(new _Set)!=setTag$2||_WeakMap&&getTag(new _WeakMap)!=weakMapTag$1)&&(getTag=function(e){var t=_baseGetTag(e),r=t==objectTag$1?e.constructor:void 0,n=r?_toSource(r):"";if(n)switch(n){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$2;case promiseCtorString:return promiseTag;case setCtorString:return setTag$2;case weakMapCtorString:return weakMapTag$1}return t});var _getTag=getTag,COMPARE_PARTIAL_FLAG$3=1,argsTag$2="[object Arguments]",arrayTag$1="[object Array]",objectTag$2="[object Object]",objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty;function baseIsEqualDeep(e,t,r,n,a,i){var o=isArray_1(e),s=isArray_1(t),u=o?arrayTag$1:_getTag(e),c=s?arrayTag$1:_getTag(t),l=(u=u==argsTag$2?objectTag$2:u)==objectTag$2,p=(c=c==argsTag$2?objectTag$2:c)==objectTag$2,d=u==c;if(d&&isBuffer_1(e)){if(!isBuffer_1(t))return!1;o=!0,l=!1}if(d&&!l)return i||(i=new _Stack),o||isTypedArray_1(e)?_equalArrays(e,t,r,n,a,i):_equalByTag(e,t,u,r,n,a,i);if(!(r&COMPARE_PARTIAL_FLAG$3)){var f=l&&hasOwnProperty$9.call(e,"__wrapped__"),m=p&&hasOwnProperty$9.call(t,"__wrapped__");if(f||m){var h=f?e.value():e,_=m?t.value():t;return i||(i=new _Stack),a(h,_,r,n,i)}}return!!d&&(i||(i=new _Stack),_equalObjects(e,t,r,n,a,i))}var _baseIsEqualDeep=baseIsEqualDeep;function baseIsEqual(e,t,r,n,a){return e===t||(null==e||null==t||!isObjectLike_1(e)&&!isObjectLike_1(t)?e!=e&&t!=t:_baseIsEqualDeep(e,t,r,n,baseIsEqual,a))}var _baseIsEqual=baseIsEqual;function isEqual(e,t){return _baseIsEqual(e,t)}var resizableTable,Alignment,isEqual_1=isEqual,ResizableColHandler=function(){function e(e){this.options=e,this.handler=this.create(),this.colWidth=0,this.pageX=0,this.col=void 0,this.setEvents()}return e.prototype.create=function(){var e=document.createElement("div");return e.style.top="0",e.style.right="-4px",e.style.width="7px",e.style.position="absolute",e.style.cursor="col-resize",e.style.zIndex="1",e.style.userSelect="none",e.style.height=this.options.height+"px",e.classList.add(this.options.className),e},e.prototype.destroy=function(){this.handler.removeEventListener("mousedown",this.startDragging,!0),document.removeEventListener("mouseup",this.stopDragging,!0),document.removeEventListener("mousemove",this.resize,!0),this.handler.removeEventListener("dblclick",this.reset,!0),this.handler.remove()},e.prototype.update=function(e){this.options=e,this.handler.style.height=this.options.height+"px"},e.prototype.render=function(){return this.handler},e.prototype.setEvents=function(){var e=this;this.handler.addEventListener("mousedown",(function(t){return e.startDragging(t)})),document.addEventListener("mouseup",(function(){return e.stopDragging()})),document.addEventListener("mousemove",(function(t){return e.resize(t)})),this.handler.addEventListener("dblclick",(function(t){return e.reset(t)}))},e.prototype.getColPadding=function(e){var t=window.getComputedStyle(e,null).getPropertyValue("padding-left"),r=window.getComputedStyle(e,null).getPropertyValue("padding-right");return parseInt(t)+parseInt(r)},e.prototype.startDragging=function(e){var t=e.target;t.parentElement&&(this.pageX=e.pageX,this.col=t.parentElement,this.colWidth=this.col.offsetWidth-this.getColPadding(this.col))},e.prototype.stopDragging=function(){this.col=void 0,this.colWidth=0,this.pageX=0},e.prototype.resize=function(e){var t=e.pageX-this.pageX;if(this.col){var r=this.colWidth+t,n=r>this.options.minWidth?r:this.options.minWidth;this.col.style.minWidth=n+"px"}},e.prototype.reset=function(e){var t=e.target.parentElement;t&&(t.style.minWidth=this.options.minWidth+"px")},e}(),DEFAULT_OPTIONS={classes:{table:"table--resizable",handler:"table__handler"},columns:[]},ResizableTable=function(){function e(e,t){this.options=__assign(__assign({},DEFAULT_OPTIONS),t),this.table=e,this.colHandlers=[],this.cols=this.getCols(e),this.setColHandlers(),this.addTableClass()}return e.prototype.destroy=function(){this.colHandlers.forEach((function(e){return e.destroy()})),this.colHandlers=[]},e.prototype.update=function(e){isEqual_1(this.options.columns,e.columns)?this.table.offsetHeight!==this.colHandlers[0].options.height&&this.updateRows():this.updateCols(e)},e.prototype.updateRows=function(){var e=this;this.colHandlers.forEach((function(t){return t.update(__assign(__assign({},t.options),{height:e.table.offsetHeight}))}))},e.prototype.updateCols=function(e){var t,r;this.options=__assign(__assign({},this.options),e);try{for(var n=__values(this.cols),a=n.next();!a.done;a=n.next()){var i=a.value;i.style.width="",i.style.minWidth=""}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}this.setColHandlers()},e.prototype.getCols=function(e){return e.getElementsByTagName("tr")[0].children},e.prototype.setColHandlers=function(){var e,t;this.destroy();try{for(var r=__values(this.cols),n=r.next();!n.done;n=r.next()){var a=n.value,i=a;i.style.width=i.offsetWidth+"px",i.style.minWidth=i.offsetWidth+"px";var o={height:this.table.offsetHeight,minWidth:i.offsetWidth,className:this.options.classes.handler},s=new ResizableColHandler(o);a.appendChild(s.render()),this.colHandlers.push(s)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},e.prototype.addTableClass=function(){this.table.classList.add(this.options.classes.table)},e}(),resizable={inserted:function(e,t){if("TABLE"==e.nodeName){var r=t.value;resizableTable=new ResizableTable(e,r)}},componentUpdated:function(e,t){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(r){return e=t.value,setTimeout((function(){var t;return null===(t=resizableTable)||void 0===t?void 0:t.update(e)}),1),[2]}))}))},unbind:function(){var e;null===(e=resizableTable)||void 0===e||e.destroy(),resizableTable=null}},ACTION_CATEGORIES={add:[{name:"text",label:"Add text column"},{name:"formula",label:"Add formula column"},{name:"ifthenelse",label:"Add conditional column"},{name:"custom",label:"Add custom step"}],filter:[{name:"delete",label:"Delete columns"},{name:"select",label:"Keep columns"},{name:"filter",label:"Filter rows"},{name:"top",label:"Top N rows"},{name:"argmax",label:"Argmax"},{name:"argmin",label:"Argmin"}],aggregate:[{name:"aggregate",label:"Group by"},{name:"totals",label:"Add total rows"},{name:"rollup",label:"Hierarchical rollup"},{name:"uniquegroups",label:"Get unique groups/values"}],compute:[{name:"formula",label:"Formula"},{name:"evolution",label:"Compute evolution"},{name:"cumsum",label:"Cumulated sum"},{name:"percentage",label:"Percentage of total"},{name:"rank",label:"Rank"},{name:"movingaverage",label:"Moving average"},{name:"statistics",label:"Statistics"}],text:[{name:"text",label:"Add text column"},{name:"concatenate",label:"Concatenate"},{name:"split",label:"Split column"},{name:"substring",label:"Extract substring"},{name:"lowercase",label:"To lowercase"},{name:"uppercase",label:"To uppercase"}],date:[{name:"todate",label:"Convert text to date"},{name:"fromdate",label:"Convert date to text"},{name:"dateextract",label:"Extract year",defaults:{operation:"year"}},{name:"dateextract",label:"Extract month",defaults:{operation:"month"}},{name:"dateextract",label:"Extract day",defaults:{operation:"day"}},{name:"dateextract",label:"Extract week",defaults:{operation:"week"}},{name:"dateextract",label:"Extract other",defaults:{operation:"hour"}},{name:"addmissingdates",label:"Add missing dates"},{name:"duration",label:"Compute duration"}],reshape:[{name:"pivot",label:"Pivot"},{name:"unpivot",label:"Unpivot"},{name:"waterfall",label:"Waterfall"}],combine:[{name:"append",label:"Append datasets"},{name:"join",label:"Join datasets"}]},SEARCH_ACTION=[{type:"add",actions:__spread(ACTION_CATEGORIES.add)},{type:"aggregate",actions:__spread(ACTION_CATEGORIES.aggregate)},{type:"filter",actions:__spread(ACTION_CATEGORIES.filter)},{type:"compute",actions:__spread(ACTION_CATEGORIES.compute)},{type:"text",actions:__spread(ACTION_CATEGORIES.text)},{type:"date",actions:__spread(ACTION_CATEGORIES.date)},{type:"reshape",actions:__spread(ACTION_CATEGORIES.reshape)},{type:"combine",actions:__spread(ACTION_CATEGORIES.combine)},{type:"Others actions",actions:[{name:"convert",label:"Convert column data type"},{name:"duplicate",label:"Duplicate column"},{name:"fillna",label:"Fill null values"},{name:"rename",label:"Rename column"},{name:"replace",label:"Replace values"},{name:"sort",label:"Sort values"}]}],CATEGORY_BUTTONS=[{category:"add",enable:!0,icon:"plus",label:"Add"},{category:"filter",enable:!0,icon:"filter",label:"Filter"},{category:"aggregate",enable:!0,icon:"code-branch",label:"Aggregate"},{category:"compute",enable:!0,icon:"calculator",label:"Compute"},{category:"text",enable:!0,icon:"font",label:"Text"},{category:"date",enable:!0,icon:"calendar",label:"Date"},{category:"reshape",enable:!0,icon:"draw-polygon",label:"Reshape"},{category:"combine",enable:!0,icon:"object-group",label:"Combine"}],POPOVER_ALIGN={CENTER:"center",JUSTIFY:"justify",LEFT:"left",RIGHT:"right"};!function(e){e.Center="center",e.Justify="justify",e.Left="left",e.Right="right"}(Alignment||(Alignment={}));var POPOVER_SHADOW_GAP=8;function baseFindIndex(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var _baseFindIndex=baseFindIndex;function baseIsNaN(e){return e!=e}var _baseIsNaN=baseIsNaN;function strictIndexOf(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var _strictIndexOf=strictIndexOf;function baseIndexOf(e,t,r){return t==t?_strictIndexOf(e,t,r):_baseFindIndex(e,_baseIsNaN,r)}var _baseIndexOf=baseIndexOf;function arrayIncludes(e,t){return!!(null==e?0:e.length)&&_baseIndexOf(e,t,0)>-1}var _arrayIncludes=arrayIncludes;function arrayIncludesWith(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith;function arrayMap(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var _arrayMap=arrayMap,LARGE_ARRAY_SIZE$1=200;function baseDifference(e,t,r,n){var a=-1,i=_arrayIncludes,o=!0,s=e.length,u=[],c=t.length;if(!s)return u;r&&(t=_arrayMap(t,_baseUnary(r))),n?(i=_arrayIncludesWith,o=!1):t.length>=LARGE_ARRAY_SIZE$1&&(i=_cacheHas,o=!1,t=new _SetCache(t));e:for(;++a<s;){var l=e[a],p=null==r?l:r(l);if(l=n||0!==l?l:0,o&&p==p){for(var d=c;d--;)if(t[d]===p)continue e;u.push(l)}else i(t,p,n)||u.push(l)}return u}var _baseDifference=baseDifference,spreadableSymbol=_Symbol?_Symbol.isConcatSpreadable:void 0;function isFlattenable(e){return isArray_1(e)||isArguments_1(e)||!!(spreadableSymbol&&e&&e[spreadableSymbol])}var _isFlattenable=isFlattenable;function baseFlatten(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=_isFlattenable),a||(a=[]);++i<o;){var s=e[i];t>0&&r(s)?t>1?baseFlatten(s,t-1,r,n,a):_arrayPush(a,s):n||(a[a.length]=s)}return a}var _baseFlatten=baseFlatten;function identity$1(e){return e}var identity_1=identity$1;function apply$1(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var _apply$1=apply$1,nativeMax=Math.max;function overRest(e,t,r){return t=nativeMax(void 0===t?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=nativeMax(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),_apply$1(e,this,s)}}var _overRest=overRest;function constant(e){return function(){return e}}var constant_1=constant,defineProperty=function(){try{var e=_getNative(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),_defineProperty$3=defineProperty,baseSetToString=_defineProperty$3?function(e,t){return _defineProperty$3(e,"toString",{configurable:!0,enumerable:!1,value:constant_1(t),writable:!0})}:identity_1,_baseSetToString=baseSetToString,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(e){var t=0,r=0;return function(){var n=nativeNow(),a=HOT_SPAN-(n-r);if(r=n,a>0){if(++t>=HOT_COUNT)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _shortOut=shortOut,setToString=_shortOut(_baseSetToString),_setToString=setToString;function baseRest(e,t){return _setToString(_overRest(e,t,identity_1),e+"")}var _baseRest=baseRest;function isArrayLikeObject(e){return isObjectLike_1(e)&&isArrayLike_1(e)}var isArrayLikeObject_1=isArrayLikeObject,difference=_baseRest((function(e,t){return isArrayLikeObject_1(e)?_baseDifference(e,_baseFlatten(t,1,isArrayLikeObject_1,!0)):[]})),difference_1=difference;function noop(){}var noop_1=noop,INFINITY=1/0,createSet=_Set&&1/_setToArray(new _Set([,-0]))[1]==INFINITY?function(e){return new _Set(e)}:noop_1,_createSet=createSet,LARGE_ARRAY_SIZE$2=200;function baseUniq(e,t,r){var n=-1,a=_arrayIncludes,i=e.length,o=!0,s=[],u=s;if(r)o=!1,a=_arrayIncludesWith;else if(i>=LARGE_ARRAY_SIZE$2){var c=t?null:_createSet(e);if(c)return _setToArray(c);o=!1,a=_cacheHas,u=new _SetCache}else u=t?[]:s;e:for(;++n<i;){var l=e[n],p=t?t(l):l;if(l=r||0!==l?l:0,o&&p==p){for(var d=u.length;d--;)if(u[d]===p)continue e;t&&u.push(p),s.push(l)}else a(u,p,r)||(u!==s&&u.push(p),s.push(l))}return s}var _baseUniq=baseUniq,union=_baseRest((function(e){return _baseUniq(_baseFlatten(e,1,isArrayLikeObject_1,!0))})),union_1=union,CheckboxWidget=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"toggleCheckedClass",{get:function(){return{"widget-checkbox":!0,"widget-checkbox--checked":this.value}},enumerable:!0,configurable:!0}),t.prototype.toggleValue=function(){this.$emit("input",!this.value)},__decorate([Prop({type:String,default:null})],t.prototype,"label",void 0),__decorate([Prop({type:Boolean,default:!0})],t.prototype,"value",void 0),t=__decorate([Component({name:"checkbox-widget"})],t)}(Vue);const __vue_script__$2=CheckboxWidget;var __vue_render__$2=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:this.toggleCheckedClass,on:{click:this.toggleValue}},[t("label",{staticClass:"widget-checkbox__label",attrs:{for:this.label}},[this._v(this._s(this.label))])])},__vue_staticRenderFns__$2=[];__vue_render__$2._withStripped=!0;const __vue_inject_styles__$2=void 0,__vue_scope_id__$2="data-v-0d501dbd",__vue_module_identifier__$2=void 0,__vue_is_functional_template__$2=!1,__vue_component__$2=normalizeComponent({render:__vue_render__$2,staticRenderFns:__vue_staticRenderFns__$2},void 0,__vue_script__$2,"data-v-0d501dbd",!1,void 0,!1,void 0,void 0,void 0);var ListUniqueValues=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.search="",t}return __extends(t,e),t.prototype.isChecked=function(e){return"in"==this.filter.operator?this.filter.value.includes(e.value):!this.filter.value.includes(e.value)},t.prototype.selectAll=function(){""===this.search?this.$emit("input",{column:this.filter.column,operator:"nin",value:[]}):this.$emit("input",{column:this.filter.column,operator:this.filter.operator,value:("in"===this.filter.operator?union_1:difference_1)(this.filter.value,this.searchedOptions.map((function(e){return e.value})))})},t.prototype.clearAll=function(){""===this.search?this.$emit("input",{column:this.filter.column,operator:"in",value:[]}):this.$emit("input",{column:this.filter.column,operator:this.filter.operator,value:("in"===this.filter.operator?difference_1:union_1)(this.filter.value,this.searchedOptions.map((function(e){return e.value})))})},t.prototype.toggleCheck=function(e){var t=__assign({},this.filter);t.value.includes(e.value)?t.value.splice(t.value.indexOf(e.value),1):t.value.push(e.value),this.$emit("input",t)},Object.defineProperty(t.prototype,"searchedOptions",{get:function(){var e=this;return this.options.filter((function(t){return e.searchFunction(t.value,e.search)}))},enumerable:!0,configurable:!0}),t.prototype.stringify=function(e){return JSON.stringify(e).replace(/^"/,"").replace(/"$/,"")},t.prototype.searchFunction=function(e,t){return this.stringify(e).toLowerCase().includes(t.toLowerCase())},t.prototype.loadAllValues=function(){this.$emit("loadAllValues")},__decorate([Prop({type:Array,required:!0})],t.prototype,"options",void 0),__decorate([Prop({type:Object,required:!0})],t.prototype,"filter",void 0),__decorate([Prop({type:Boolean,required:!0})],t.prototype,"loaded",void 0),__decorate([VQBModule.State],t.prototype,"isLoading",void 0),__decorate([VQBModule.Action],t.prototype,"loadColumnUniqueValues",void 0),t=__decorate([Component({name:"list-unique-values",components:{CheckboxWidget:__vue_component__$2}})],t)}(Vue);const __vue_script__$3=ListUniqueValues;var __vue_render__$3=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"list-unique-values"},[r("div",{staticClass:"list-unique-values__title"},[e._v("Filter values")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"list-unique-values__search-box",attrs:{placeholder:"Search 50 items"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),r("div",{staticClass:"list-unique-values__select-clear-all"},[r("span",{staticClass:"list-unique-values__select-all",on:{click:e.selectAll}},[e._v("Select all")]),e._v("  \n    "),r("span",{staticClass:"list-unique-values__clear-all",on:{click:e.clearAll}},[e._v("Clear all")])]),e._v(" "),r("div",{staticClass:"list-unique-values__checkbox-container"},[e._l(e.searchedOptions,(function(t){return r("div",{key:e.stringify(t.value),staticClass:"list-unique-values__checkbox"},[r("CheckboxWidget",{attrs:{label:e.stringify(t.value)+" ("+t.count+")",value:e.isChecked(t)},on:{input:function(r){return e.toggleCheck(t)}}})],1)})),e._v(" "),e.isLoading.uniqueValues?r("div",{staticClass:"list-unique-values__loader-spinner"}):e._e(),e._v(" "),e.loaded||e.isLoading.uniqueValues?e._e():r("div",{staticClass:"list-unique-values__load-all-values"},[r("div",[e._v("List maybe incomplete")]),e._v(" "),r("div",{staticClass:"list-unique-values__load-all-values-button",on:{click:function(t){return e.loadColumnUniqueValues({column:e.filter.column})}}},[e._v("\n        Load all values\n      ")])])],2)])},__vue_staticRenderFns__$3=[];__vue_render__$3._withStripped=!0;const __vue_inject_styles__$3=void 0,__vue_scope_id__$3="data-v-20f88d14",__vue_module_identifier__$3=void 0,__vue_is_functional_template__$3=!1,__vue_component__$3=normalizeComponent({render:__vue_render__$3,staticRenderFns:__vue_staticRenderFns__$3},void 0,__vue_script__$3,"data-v-20f88d14",!1,void 0,!1,void 0,void 0,void 0);function _toPlainObj(e){return{width:e.width||0,height:e.height||0,top:e.top||0,left:e.left||0,bottom:e.bottom||0,right:e.right||0}}function completeClientRect(e){void 0===e&&(e={});return __assign(__assign({},{width:0,height:0,top:0,left:0,bottom:0,right:0}),_toPlainObj(e))}function completeOffset(e){return void 0===e&&(e={}),{offsetWidth:e.offsetWidth||0,offsetHeight:e.offsetHeight||0}}function innerDimensions(e){return __assign(__assign({},{innerWidth:0,innerHeight:0}),e)}function completePositionContext(e){return{body:completeClientRect(e.body),parent:completeClientRect(e.parent),element:completeOffset(e.element),window:innerDimensions(e.window)}}function alignCenter(e){var t=completePositionContext(e),r=t.body,n=t.parent,a=t.element,i=t.window,o=n.left-r.left,s=o+n.width,u=o+(n.width-a.offsetWidth)/2;return u<0?u=o:u+a.offsetWidth>i.innerWidth&&(u=s-a.offsetWidth),{left:u}}function alignJustify(e){var t=completePositionContext(e),r=t.body,n=t.parent;return{left:n.left-r.left,width:n.width}}function alignLeft(e){var t=completePositionContext(e),r=t.body,n=t.parent,a=t.element,i=t.window,o=n.left-r.left,s=o+n.width,u=o;return u+a.offsetWidth>i.innerWidth&&s-a.offsetWidth>=0&&(u=s-a.offsetWidth),{left:u}}function alignRight(e){var t=completePositionContext(e),r=t.body,n=t.parent,a=t.element,i=t.window,o=n.left-r.left,s=o+n.width-a.offsetWidth;return s<0&&o+a.offsetWidth<=i.innerWidth&&(s=o),{left:s}}function align(e,t){switch(e){case Alignment.Center:return alignCenter(t);case Alignment.Justify:return alignJustify(t);case Alignment.Left:return alignLeft(t);case Alignment.Right:return alignRight(t)}}function computeTop(e,t){var r;void 0===e&&(e=!1);var n=completePositionContext(t),a=n.body,i=n.parent,o=n.element,s=n.window,u=i.top-a.top,c=u-POPOVER_SHADOW_GAP-o.offsetHeight,l=u+i.height;return e?(r=l,l+o.offsetHeight>s.innerHeight&&c>=0&&(r=c)):(r=c,c<0&&l+o.offsetHeight<=s.innerHeight&&(r=l)),r}var Popover=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.elementStyle={},t.parent=null,t.element=null,t.parents=[],t.updatePosition=lodash.throttle((function(){if(null!==this.parent){var e={body:document.body.getBoundingClientRect(),parent:this.parent.getBoundingClientRect(),element:this.$el,window:window},t=align(this.align,e);t.top=computeTop(this.bottom,e),this.elementStyle=lodash.fromPairs(Object.entries(t).map((function(e){var t=__read(e,2);return[t[0],t[1]+"px"]})))}}),16),t}return __extends(t,e),t.prototype.onVisibleChange=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return e?this.setupPositioning():this.destroyPositioning(),[2]}))}))},t.prototype.mounted=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,r=this;return __generator(this,(function(n){if(this.parent=this.$el.parentElement,null===this.parent)throw new Error("The popover has no parent!");for(this.parent.removeChild(this.$el),e=[],t=this.parent;t!==document.body&&(e.push(t),t.parentElement);)t=t.parentElement;return this.parents=e,this.updatePositionListener=function(){return r.updatePosition()},this.clickListener=function(){return r.$emit("closed")},this.visible&&this.setupPositioning(),[2]}))}))},t.prototype.beforeDestroy=function(){this.visible&&this.destroyPositioning()},t.prototype.setupPositioning=function(){var e,t;document.body.appendChild(this.$el),this.updatePosition(),window.addEventListener("click",this.clickListener),window.addEventListener("orientationchange",this.updatePositionListener),window.addEventListener("resize",this.updatePositionListener);try{for(var r=__values(this.parents),n=r.next();!n.done;n=r.next()){n.value.addEventListener("scroll",this.updatePositionListener)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},t.prototype.destroyPositioning=function(){var e,t;window.removeEventListener("click",this.clickListener),window.removeEventListener("orientationchange",this.updatePositionListener),window.removeEventListener("resize",this.updatePositionListener);try{for(var r=__values(this.parents),n=r.next();!n.done;n=r.next()){n.value.removeEventListener("scroll",this.updatePositionListener)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}if(null!==this.$el.parentElement)return this.$el.parentElement.removeChild(this.$el)},__decorate([Prop({type:Boolean,required:!0})],t.prototype,"visible",void 0),__decorate([Prop({default:function(){return Alignment.Center},validator:function(e){return Object.values(Alignment).includes(e)}})],t.prototype,"align",void 0),__decorate([Prop({type:Boolean,default:function(){return!1}})],t.prototype,"bottom",void 0),__decorate([Watch("visible")],t.prototype,"onVisibleChange",null),t=__decorate([Component({name:"popover"})],t)}(Vue);const __vue_script__$4=Popover;var __vue_render__$4=function(){var e=this.$createElement;return(this._self._c||e)("span",{staticClass:"popover",style:this.elementStyle,on:{click:function(e){e.stopPropagation()}}},[this._t("default")],2)},__vue_staticRenderFns__$4=[];__vue_render__$4._withStripped=!0;const __vue_inject_styles__$4=void 0,__vue_scope_id__$4="data-v-8cf08cfc",__vue_module_identifier__$4=void 0,__vue_is_functional_template__$4=!1,__vue_component__$4=normalizeComponent({render:__vue_render__$4,staticRenderFns:__vue_staticRenderFns__$4},void 0,__vue_script__$4,"data-v-8cf08cfc",!1,void 0,!1,void 0,void 0,void 0);var VisiblePanel;!function(e){e[e["MAIN OPERATIONS"]=0]="MAIN OPERATIONS",e[e["OTHER OPERATIONS"]=1]="OTHER OPERATIONS"}(VisiblePanel||(VisiblePanel={}));var ActionMenu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.visiblePanel=1,t.alignLeft=POPOVER_ALIGN.LEFT,t.condition={column:t.columnName,value:[],operator:"nin"},t}return __extends(t,e),Object.defineProperty(t.prototype,"currentUnique",{get:function(){var e=this;return this.columnHeaders.find((function(t){return t.name===e.columnName})).uniques},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStepSupported",{get:function(){var e=this;return function(t){return!e.unsupportedSteps.includes(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isApplyFilterVisible",{get:function(){return!isEqual_1(this.condition,{column:this.columnName,value:[],operator:"nin"})},enumerable:!0,configurable:!0}),t.prototype.close=function(){this.visiblePanel=1,this.$emit("closed")},t.prototype.openStep=function(e){this.$emit("actionClicked",e),this.close()},t.prototype.createStep=function(e){var t=__spread(this.pipeline),r=this.computedActiveStepIndex+1;this.isEditingStep&&this.closeStepForm(),t.splice(r,0,e),this.setPipeline({pipeline:t}),this.selectStep({index:r}),this.close()},t.prototype.createDeleteColumnStep=function(){this.createStep({name:"delete",columns:[this.columnName]})},t.prototype.createUniqueGroupsStep=function(){this.createStep({name:"uniquegroups",on:[this.columnName]})},t.prototype.createFilterStep=function(){this.createStep({name:"filter",condition:this.condition})},__decorate([Prop({type:String,default:function(){return""}})],t.prototype,"columnName",void 0),__decorate([Prop({type:Boolean,default:!0})],t.prototype,"visible",void 0),__decorate([VQBModule.Getter],t.prototype,"computedActiveStepIndex",void 0),__decorate([VQBModule.Getter],t.prototype,"isEditingStep",void 0),__decorate([VQBModule.Getter],t.prototype,"pipeline",void 0),__decorate([VQBModule.Getter],t.prototype,"columnHeaders",void 0),__decorate([VQBModule.Getter],t.prototype,"unsupportedSteps",void 0),__decorate([VQBModule.Action],t.prototype,"selectStep",void 0),__decorate([VQBModule.Mutation],t.prototype,"setPipeline",void 0),__decorate([VQBModule.Mutation],t.prototype,"closeStepForm",void 0),t=__decorate([Component({name:"action-menu",components:{Popover:__vue_component__$4,ListUniqueValues:__vue_component__$3}})],t)}(Vue);const __vue_script__$5=ActionMenu;var __vue_render__$5=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("popover",{attrs:{visible:e.visible,align:e.alignLeft,bottom:""},on:{closed:e.close}},[r("div",{staticClass:"action-menu__body"},[r("transition",{attrs:{name:"slide-left",mode:"out-in"}},[1==e.visiblePanel?r("div",[r("div",{staticClass:"action-menu__panel"},[e.isStepSupported("rename")?r("div",{staticClass:"action-menu__option",on:{click:function(t){return e.openStep("rename")}}},[e._v("\n            Rename column\n          ")]):e._e(),e._v(" "),e.isStepSupported("duplicate")?r("div",{staticClass:"action-menu__option",on:{click:function(t){return e.openStep("duplicate")}}},[e._v("\n            Duplicate column\n          ")]):e._e(),e._v(" "),e.isStepSupported("delete")?r("div",{staticClass:"action-menu__option",on:{click:e.createDeleteColumnStep}},[e._v("\n            Delete column\n          ")]):e._e(),e._v(" "),r("div",{staticClass:"action-menu__option action-menu__option--top-bordered",on:{click:function(t){e.visiblePanel=2}}},[e._v("\n            Other operations\n          ")]),e._v(" "),e.isStepSupported("filter")&&e.isStepSupported("uniquegroups")?r("div",{staticClass:"action-menu__option--top-bordered"},[e.currentUnique?r("ListUniqueValues",{attrs:{options:e.currentUnique.values,filter:e.condition,loaded:e.currentUnique.loaded},on:{input:function(t){e.condition=t}}}):e._e(),e._v(" "),e.isApplyFilterVisible?r("div",{staticClass:"action-menu__apply-filter",on:{click:e.createFilterStep}},[e._v("\n              Apply Filter\n            ")]):e._e()],1):e._e()])]):e._e()]),e._v(" "),r("transition",{attrs:{name:"slide-right",mode:"out-in"}},[2==e.visiblePanel?r("div",[r("div",{staticClass:"action-menu__panel"},[r("div",{staticClass:"action-menu__option--back",on:{click:function(t){e.visiblePanel=1}}},[r("i",{staticClass:"fas fa-angle-left",attrs:{"aria-hidden":"true"}}),e._v(" BACK\n          ")]),e._v(" "),e.isStepSupported("filter")?r("div",{staticClass:"action-menu__option action-menu__option--top-bordered",on:{click:function(t){return e.openStep("filter")}}},[e._v("\n            Filter values\n          ")]):e._e(),e._v(" "),e.isStepSupported("fillna")?r("div",{staticClass:"action-menu__option",on:{click:function(t){return e.openStep("fillna")}}},[e._v("\n            Fill null values\n          ")]):e._e(),e._v(" "),e.isStepSupported("replace")?r("div",{staticClass:"action-menu__option",on:{click:function(t){return e.openStep("replace")}}},[e._v("\n            Replace values\n          ")]):e._e(),e._v(" "),e.isStepSupported("sort")?r("div",{staticClass:"action-menu__option",on:{click:function(t){return e.openStep("sort")}}},[e._v("\n            Sort values\n          ")]):e._e(),e._v(" "),e.isStepSupported("uniquegroups")?r("div",{staticClass:"action-menu__option",on:{click:e.createUniqueGroupsStep}},[e._v("\n            Get unique values\n          ")]):e._e(),e._v(" "),e.isStepSupported("statistics")?r("div",{staticClass:"action-menu__option",on:{click:function(t){return e.openStep("statistics")}}},[e._v("\n            Compute Statistics\n          ")]):e._e()])]):e._e()])],1)])},__vue_staticRenderFns__$5=[];__vue_render__$5._withStripped=!0;const __vue_inject_styles__$5=void 0,__vue_scope_id__$5=void 0,__vue_module_identifier__$5=void 0,__vue_is_functional_template__$5=!1,__vue_component__$5=normalizeComponent({render:__vue_render__$5,staticRenderFns:__vue_staticRenderFns__$5},void 0,__vue_script__$5,void 0,!1,void 0,!1,void 0,void 0,void 0);var ActionToolbarButton=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alignLeft=POPOVER_ALIGN.LEFT,t}return __extends(t,e),t.prototype.actionClicked=function(e,t){void 0===t&&(t={});var r=["year","month","day","week"].includes(t.operation);("dateextract"===e&&r||"lowercase"===e||"uppercase"===e)&&this.selectedColumns.length>0?this.createStep(e,t):this.$emit("actionClicked",e,t),this.$emit("closed")},t.prototype.createStep=function(e,t){void 0===t&&(t={});var r=__spread(this.pipeline),n=this.computedActiveStepIndex+1,a=__assign({name:e,column:this.selectedColumns[0]},t);this.isEditingStep&&this.closeStepForm(),r.splice(n,0,a),this.setPipeline({pipeline:r}),this.selectStep({index:n})},Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return ACTION_CATEGORIES[this.category].filter((function(t){return!e.unsupportedSteps.includes(t.name)}))},enumerable:!0,configurable:!0}),__decorate([Prop({type:Boolean,default:function(){return!1}})],t.prototype,"isActive",void 0),__decorate([Prop({type:String})],t.prototype,"category",void 0),__decorate([VQBModule.Getter],t.prototype,"computedActiveStepIndex",void 0),__decorate([VQBModule.Getter],t.prototype,"isEditingStep",void 0),__decorate([VQBModule.Getter],t.prototype,"pipeline",void 0),__decorate([VQBModule.Getter],t.prototype,"selectedColumns",void 0),__decorate([VQBModule.Getter],t.prototype,"unsupportedSteps",void 0),__decorate([VQBModule.Action],t.prototype,"selectStep",void 0),__decorate([VQBModule.Mutation],t.prototype,"setPipeline",void 0),__decorate([VQBModule.Mutation],t.prototype,"closeStepForm",void 0),t=__decorate([Component({name:"action-toolbar-button",components:{Popover:__vue_component__$4},props:{label:String,icon:String}})],t)}(Vue);const __vue_script__$6=ActionToolbarButton;var __vue_render__$6=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"action-toolbar__btn",attrs:{type:"button"}},[r("i",{class:"action-toolbar__btn-icon fas fa-"+e.icon,attrs:{"aria-hidden":"true"}}),e._v(" "),r("span",{staticClass:"action-toolbar__btn-txt"},[e._v(e._s(e.label))]),e._v(" "),r("popover",{attrs:{visible:e.isActive,align:"left",bottom:""},on:{closed:function(t){return e.$emit("closed")}}},[r("div",{staticClass:"action-menu__body"},[r("div",{staticClass:"action-menu__section"},e._l(e.items,(function(t,n){return r("div",{key:n,staticClass:"action-menu__option",on:{click:function(r){return e.actionClicked(t.name,t.defaults)}}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),0)])])],1)},__vue_staticRenderFns__$6=[];__vue_render__$6._withStripped=!0;const __vue_inject_styles__$6=void 0,__vue_scope_id__$6=void 0,__vue_module_identifier__$6=void 0,__vue_is_functional_template__$6=!1,__vue_component__$6=normalizeComponent({render:__vue_render__$6,staticRenderFns:__vue_staticRenderFns__$6},void 0,__vue_script__$6,void 0,!1,void 0,!1,void 0,void 0,void 0);var vueMultiselect_min=createCommonjsModule((function(e,t){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=60)}([function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){var n=r(49)("wks"),a=r(30),i=r(0).Symbol,o="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=o&&i[e]||(o?i:a)("Symbol."+e))}).store=n},function(e,t,r){var n=r(5);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){var n=r(0),a=r(10),i=r(8),o=r(6),s=r(11),u=function(e,t,r){var c,l,p,d,f=e&u.F,m=e&u.G,h=e&u.S,_=e&u.P,v=e&u.B,g=m?n:h?n[t]||(n[t]={}):(n[t]||{}).prototype,y=m?a:a[t]||(a[t]={}),b=y.prototype||(y.prototype={});for(c in m&&(r=t),r)p=((l=!f&&g&&void 0!==g[c])?g:r)[c],d=v&&l?s(p,n):_&&"function"==typeof p?s(Function.call,p):p,g&&o(g,c,p,e&u.U),y[c]!=p&&i(y,c,d),_&&b[c]!=p&&(b[c]=p)};n.core=a,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,r){e.exports=!r(7)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(0),a=r(8),i=r(12),o=r(30)("src"),s=Function.toString,u=(""+s).split("toString");r(10).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var c="function"==typeof r;c&&(i(r,"name")||a(r,"name",t)),e[t]!==r&&(c&&(i(r,o)||a(r,o,e[t]?""+e[t]:u.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:a(e,t,r):(delete e[t],a(e,t,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[o]||s.call(this)}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(13),a=r(25);e.exports=r(4)?function(e,t,r){return n.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){var r=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(14);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(2),a=r(41),i=r(29),o=Object.defineProperty;t.f=r(4)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),a)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports={}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(7);e.exports=function(e,t){return!!e&&n((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,r){var n=r(23),a=r(16);e.exports=function(e){return n(a(e))}},function(e,t,r){var n=r(53),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},function(e,t,r){var n=r(11),a=r(23),i=r(28),o=r(19),s=r(64);e.exports=function(e,t){var r=1==e,u=2==e,c=3==e,l=4==e,p=6==e,d=5==e||p,f=t||s;return function(t,s,m){for(var h,_,v=i(t),g=a(v),y=n(s,m,3),b=o(g.length),$=0,x=r?f(t,b):u?f(t,0):void 0;b>$;$++)if((d||$ in g)&&(_=y(h=g[$],$,v),e))if(r)x[$]=_;else if(_)switch(e){case 3:return!0;case 5:return h;case 6:return $;case 2:x.push(h)}else if(l)return!1;return p?-1:c||l?l:x}}},function(e,t,r){var n=r(5),a=r(0).document,i=n(a)&&n(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(9);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){e.exports=!1},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(13).f,a=r(12),i=r(1)("toStringTag");e.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){var n=r(49)("keys"),a=r(30);e.exports=function(e){return n[e]||(n[e]=a(e))}},function(e,t,r){var n=r(16);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(5);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(0),a=r(12),i=r(9),o=r(67),s=r(29),u=r(7),c=r(77).f,l=r(45).f,p=r(13).f,d=r(51).trim,f=n.Number,m=f,h=f.prototype,_="Number"==i(r(44)(h)),v="trim"in String.prototype,g=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var r,n,a,i=(t=v?t.trim():d(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+t}for(var o,u=t.slice(2),c=0,l=u.length;c<l;c++)if((o=u.charCodeAt(c))<48||o>a)return NaN;return parseInt(u,n)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof f&&(_?u((function(){h.valueOf.call(r)})):"Number"!=i(r))?o(new m(g(t)),r,f):g(t)};for(var y,b=r(4)?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),$=0;b.length>$;$++)a(m,y=b[$])&&!a(f,y)&&p(f,y,l(m,y));f.prototype=h,h.constructor=f,r(6)(n,"Number",f)}},function(e,t,r){function n(e){return!(0===e||(!Array.isArray(e)||0!==e.length)&&e)}function a(e,t,r,n){return e.filter((function(e){return function(e,t){return void 0===e&&(e="undefined"),null===e&&(e="null"),!1===e&&(e="false"),-1!==e.toString().toLowerCase().indexOf(t.trim())}(n(e,r),t)}))}function i(e){return e.filter((function(e){return!e.$isLabel}))}function o(e,t){return function(r){return r.reduce((function(r,n){return n[e]&&n[e].length?(r.push({$groupLabel:n[t],$isLabel:!0}),r.concat(n[e])):r}),[])}}function s(e,t,n,i,o){return function(s){return s.map((function(s){var u;if(!s[n])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];var c=a(s[n],e,t,o);return c.length?(u={},r.i(d.a)(u,i,s[i]),r.i(d.a)(u,n,c),u):[]}))}}var u=r(59),c=r(54),l=(r.n(c),r(95)),p=(r.n(l),r(31)),d=(r.n(p),r(58)),f=r(91),m=(r.n(f),r(98)),h=(r.n(m),r(92)),_=(r.n(h),r(88)),v=(r.n(_),r(97)),g=(r.n(v),r(89)),y=(r.n(g),r(96)),b=(r.n(y),r(93)),$=(r.n(b),r(90)),x=(r.n($),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(e,t){return t(e)}),e)}});t.a={data:function(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},value:{type:null,default:function(){return[]}},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default:function(e,t){return n(e)?"":t?e[t]:e}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default:function(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1}},mounted:function(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0])},computed:{internalValue:function(){return this.value||0===this.value?Array.isArray(this.value)?this.value:[this.value]:[]},filteredOptions:function(){var e=this.search||"",t=e.toLowerCase().trim(),r=this.options.concat();return r=this.internalSearch?this.groupValues?this.filterAndFlat(r,t,this.label):a(r,t,this.label,this.customLabel):this.groupValues?o(this.groupValues,this.groupLabel)(r):r,r=this.hideSelected?r.filter(function(e){return function(){return!e.apply(void 0,arguments)}}(this.isSelected)):r,this.taggable&&t.length&&!this.isExistingOption(t)&&("bottom"===this.tagPosition?r.push({isTag:!0,label:e}):r.unshift({isTag:!0,label:e})),r.slice(0,this.optionsLimit)},valueKeys:function(){var e=this;return this.trackBy?this.internalValue.map((function(t){return t[e.trackBy]})):this.internalValue},optionKeys:function(){var e=this;return(this.groupValues?this.flatAndStrip(this.options):this.options).map((function(t){return e.customLabel(t,e.label).toString().toLowerCase()}))},currentOptionLabel:function(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue:function(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("input",this.multiple?[]:null))},search:function(){this.$emit("search-change",this.search,this.id)}},methods:{getValue:function(){return this.multiple?this.internalValue:0===this.internalValue.length?null:this.internalValue[0]},filterAndFlat:function(e,t,r){return x(s(t,r,this.groupValues,this.groupLabel,this.customLabel),o(this.groupValues,this.groupLabel))(e)},flatAndStrip:function(e){return x(o(this.groupValues,this.groupLabel),i)(e)},updateSearch:function(e){this.search=e},isExistingOption:function(e){return!!this.options&&this.optionKeys.indexOf(e)>-1},isSelected:function(e){var t=this.trackBy?e[this.trackBy]:e;return this.valueKeys.indexOf(t)>-1},isOptionDisabled:function(e){return!!e.$isDisabled},getOptionLabel:function(e){if(n(e))return"";if(e.isTag)return e.label;if(e.$isLabel)return e.$groupLabel;var t=this.customLabel(e,this.label);return n(t)?"":t},select:function(e,t){if(e.$isLabel&&this.groupSelect)this.selectGroup(e);else if(!(-1!==this.blockKeys.indexOf(t)||this.disabled||e.$isDisabled||e.$isLabel)&&(!this.max||!this.multiple||this.internalValue.length!==this.max)&&("Tab"!==t||this.pointerDirty)){if(e.isTag)this.$emit("tag",e.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(e))return void("Tab"!==t&&this.removeElement(e));this.$emit("select",e,this.id),this.multiple?this.$emit("input",this.internalValue.concat([e]),this.id):this.$emit("input",e,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup:function(e){var t=this,r=this.options.find((function(r){return r[t.groupLabel]===e.$groupLabel}));if(r)if(this.wholeGroupSelected(r)){this.$emit("remove",r[this.groupValues],this.id);var n=this.internalValue.filter((function(e){return-1===r[t.groupValues].indexOf(e)}));this.$emit("input",n,this.id)}else{var a=r[this.groupValues].filter((function(e){return!(t.isOptionDisabled(e)||t.isSelected(e))}));this.$emit("select",a,this.id),this.$emit("input",this.internalValue.concat(a),this.id)}},wholeGroupSelected:function(e){var t=this;return e[this.groupValues].every((function(e){return t.isSelected(e)||t.isOptionDisabled(e)}))},wholeGroupDisabled:function(e){return e[this.groupValues].every(this.isOptionDisabled)},removeElement:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.disabled&&!e.$isDisabled){if(!this.allowEmpty&&this.internalValue.length<=1)return void this.deactivate();var n="object"===r.i(u.a)(e)?this.valueKeys.indexOf(e[this.trackBy]):this.valueKeys.indexOf(e);if(this.$emit("remove",e,this.id),this.multiple){var a=this.internalValue.slice(0,n).concat(this.internalValue.slice(n+1));this.$emit("input",a,this.id)}else this.$emit("input",null,this.id);this.closeOnSelect&&t&&this.deactivate()}},removeLastElement:function(){-1===this.blockKeys.indexOf("Delete")&&0===this.search.length&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate:function(){var e=this;this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&0===this.pointer&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.$nextTick((function(){return e.$refs.search.focus()}))):this.$el.focus(),this.$emit("open",this.id))},deactivate:function(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search.blur():this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle:function(){this.isOpen?this.deactivate():this.activate()},adjustPosition:function(){if("undefined"!=typeof window){var e=this.$el.getBoundingClientRect().top,t=window.innerHeight-this.$el.getBoundingClientRect().bottom;t>this.maxHeight||t>e||"below"===this.openDirection||"bottom"===this.openDirection?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(t-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(e-40,this.maxHeight))}}}}},function(e,t,r){var n=r(54),a=(r.n(n),r(31));r.n(a),t.a={data:function(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition:function(){return this.pointer*this.optionHeight},visibleElements:function(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions:function(){this.pointerAdjust()},isOpen:function(){this.pointerDirty=!1}},methods:{optionHighlight:function(e,t){return{"multiselect__option--highlight":e===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(t)}},groupHighlight:function(e,t){var r=this;if(!this.groupSelect)return["multiselect__option--group","multiselect__option--disabled"];var n=this.options.find((function(e){return e[r.groupLabel]===t.$groupLabel}));return n&&!this.wholeGroupDisabled(n)?["multiselect__option--group",{"multiselect__option--highlight":e===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(n)}]:"multiselect__option--disabled"},addPointerElement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Enter",t=e.key;this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],t),this.pointerReset()},pointerForward:function(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward:function(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset:function(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust:function(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet:function(e){this.pointer=e,this.pointerDirty=!0}}}},function(e,t,r){var n=r(36),a=r(74),i=r(15),o=r(18);e.exports=r(72)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t,r){var n=r(31),a=(r.n(n),r(32)),i=r(33);t.a={name:"vue-multiselect",mixins:[a.a,i.a],props:{name:{type:String,default:""},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:function(e){return"and ".concat(e," more")}},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0}},computed:{isSingleLabelVisible:function(){return(this.singleValue||0===this.singleValue)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible:function(){return!(this.internalValue.length||this.searchable&&this.isOpen)},visibleValues:function(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue:function(){return this.internalValue[0]},deselectLabelText:function(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText:function(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText:function(){return this.showLabels?this.selectLabel:""},selectGroupLabelText:function(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText:function(){return this.showLabels?this.selectedLabel:""},inputStyle:function(){if(this.searchable||this.multiple&&this.value&&this.value.length)return this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}},contentStyle:function(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove:function(){return"above"===this.openDirection||"top"===this.openDirection||"below"!==this.openDirection&&"bottom"!==this.openDirection&&"above"===this.preferredOpenDirection},showSearchInput:function(){return this.searchable&&(!this.hasSingleSelectedSlot||!this.visibleSingleValue&&0!==this.visibleSingleValue||this.isOpen)}}}},function(e,t,r){var n=r(1)("unscopables"),a=Array.prototype;null==a[n]&&r(8)(a,n,{}),e.exports=function(e){a[n][e]=!0}},function(e,t,r){var n=r(18),a=r(19),i=r(85);e.exports=function(e){return function(t,r,o){var s,u=n(t),c=a(u.length),l=i(o,c);if(e&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}}},function(e,t,r){var n=r(9),a=r(1)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:i?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,r){var n=r(2);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){var n=r(0).document;e.exports=n&&n.documentElement},function(e,t,r){e.exports=!r(4)&&!r(7)((function(){return 7!=Object.defineProperty(r(21)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(9);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){function n(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=a(t),this.reject=a(r)}var a=r(14);e.exports.f=function(e){return new n(e)}},function(e,t,r){var n=r(2),a=r(76),i=r(22),o=r(27)("IE_PROTO"),s=function(){},u=function(){var e,t=r(21)("iframe"),n=i.length;for(t.style.display="none",r(40).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[i[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[o]=e):r=u(),void 0===t?r:a(r,t)}},function(e,t,r){var n=r(79),a=r(25),i=r(18),o=r(29),s=r(12),u=r(41),c=Object.getOwnPropertyDescriptor;t.f=r(4)?c:function(e,t){if(e=i(e),t=o(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return a(!n.f.call(e,t),e[t])}},function(e,t,r){var n=r(12),a=r(18),i=r(37)(!1),o=r(27)("IE_PROTO");e.exports=function(e,t){var r,s=a(e),u=0,c=[];for(r in s)r!=o&&n(s,r)&&c.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~i(c,r)||c.push(r));return c}},function(e,t,r){var n=r(46),a=r(22);e.exports=Object.keys||function(e){return n(e,a)}},function(e,t,r){var n=r(2),a=r(5),i=r(43);e.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){var n=r(10),a=r(0),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(24)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(2),a=r(14),i=r(1)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[i])?t:a(r)}},function(e,t,r){var n=r(3),a=r(16),i=r(7),o=r(84),s="["+o+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(e,t,r){var a={},s=i((function(){return!!o[e]()||"​"!="​"[e]()})),u=a[e]=s?t(p):o[e];r&&(a[r]=u),n(n.P+n.F*s,"String",a)},p=l.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};e.exports=l},function(e,t,r){var n,a,i,o=r(11),s=r(68),u=r(40),c=r(21),l=r(0),p=l.process,d=l.setImmediate,f=l.clearImmediate,m=l.MessageChannel,h=l.Dispatch,_=0,v={},g=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},y=function(e){g.call(e.data)};d&&f||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return v[++_]=function(){s("function"==typeof e?e:Function(e),t)},n(_),_},f=function(e){delete v[e]},"process"==r(9)(p)?n=function(e){p.nextTick(o(g,e,1))}:h&&h.now?n=function(e){h.now(o(g,e,1))}:m?(i=(a=new m).port2,a.port1.onmessage=y,n=o(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",y,!1)):n="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(o(g,e,1),0)}),e.exports={set:d,clear:f}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(3),a=r(20)(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),n(n.P+n.F*i,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r(36)("find")},function(e,t,r){var n,a,i,o,s=r(24),u=r(0),c=r(11),l=r(38),p=r(3),d=r(5),f=r(14),m=r(61),h=r(66),_=r(50),v=r(52).set,g=r(75)(),y=r(43),b=r(80),$=r(86),x=r(48),w=u.TypeError,S=u.process,N=S&&S.versions,C=N&&N.v8||"",E=u.Promise,A="process"==l(S),M=function(){},T=a=y.f,O=!!function(){try{var e=E.resolve(1),t=(e.constructor={})[r(1)("species")]=function(e){e(M,M)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(M)instanceof t&&0!==C.indexOf("6.6")&&-1===$.indexOf("Chrome/66")}catch(e){}}(),P=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var r=e._c;g((function(){for(var n=e._v,a=1==e._s,i=0;r.length>i;)!function(t){var r,i,o,s=a?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(a||(2==e._h&&k(e),e._h=1),!0===s?r=n:(l&&l.enter(),r=s(n),l&&(l.exit(),o=!0)),r===t.promise?c(w("Promise-chain cycle")):(i=P(r))?i.call(r,u,c):u(r)):c(n)}catch(e){l&&!o&&l.exit(),c(e)}}(r[i++]);e._c=[],e._n=!1,t&&!e._h&&I(e)}))}},I=function(e){v.call(u,(function(){var t,r,n,a=e._v,i=F(e);if(i&&(t=b((function(){A?S.emit("unhandledRejection",a,e):(r=u.onunhandledrejection)?r({promise:e,reason:a}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",a)})),e._h=A||F(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},F=function(e){return 1!==e._h&&0===(e._a||e._c).length},k=function(e){v.call(u,(function(){var t;A?S.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},R=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},j=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw w("Promise can't be resolved itself");(t=P(e))?g((function(){var n={_w:r,_d:!1};try{t.call(e,c(j,n,1),c(R,n,1))}catch(e){R.call(n,e)}})):(r._v=e,r._s=1,D(r,!1))}catch(e){R.call({_w:r,_d:!1},e)}}};O||(E=function(e){m(this,E,"Promise","_h"),f(e),n.call(this);try{e(c(j,this,1),c(R,this,1))}catch(e){R.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(81)(E.prototype,{then:function(e,t){var r=T(_(this,E));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=A?S.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&D(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=c(j,e,1),this.reject=c(R,e,1)},y.f=T=function(e){return e===E||e===o?new i(e):a(e)}),p(p.G+p.W+p.F*!O,{Promise:E}),r(26)(E,"Promise"),r(83)("Promise"),o=r(10).Promise,p(p.S+p.F*!O,"Promise",{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),p(p.S+p.F*(s||!O),"Promise",{resolve:function(e){return x(s&&this===o?E:this,e)}}),p(p.S+p.F*!(O&&r(73)((function(e){E.all(e).catch(M)}))),"Promise",{all:function(e){var t=this,r=T(t),n=r.resolve,a=r.reject,i=b((function(){var r=[],i=0,o=1;h(e,!1,(function(e){var s=i++,u=!1;r.push(void 0),o++,t.resolve(e).then((function(e){u||(u=!0,r[s]=e,--o||n(r))}),a)})),--o||n(r)}));return i.e&&a(i.v),r.promise},race:function(e){var t=this,r=T(t),n=r.reject,a=b((function(){h(e,!1,(function(e){t.resolve(e).then(r.resolve,n)}))}));return a.e&&n(a.v),r.promise}})},function(e,t,r){var n=r(3),a=r(10),i=r(0),o=r(50),s=r(48);n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,a.Promise||i.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then((function(){return r}))}:e,r?function(r){return s(t,e()).then((function(){throw r}))}:e)}})},function(e,t,r){var n=r(35),a=r(101),i=function(e){r(99)},o=r(100)(n.a,a.a,!1,i,null,null);t.a=o.exports},function(e,t,r){t.a=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return(a="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}t.a=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(34),a=(r.n(n),r(55)),i=(r.n(a),r(56)),o=(r.n(i),r(57)),s=r(32),u=r(33);r.d(t,"Multiselect",(function(){return o.a})),r.d(t,"multiselectMixin",(function(){return s.a})),r.d(t,"pointerMixin",(function(){return u.a})),t.default=o.a},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(14),a=r(28),i=r(23),o=r(19);e.exports=function(e,t,r,s,u){n(t);var c=a(e),l=i(c),p=o(c.length),d=u?p-1:0,f=u?-1:1;if(r<2)for(;;){if(d in l){s=l[d],d+=f;break}if(d+=f,u?d<0:p<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:p>d;d+=f)d in l&&(s=t(s,l[d],d,c));return s}},function(e,t,r){var n=r(5),a=r(42),i=r(1)("species");e.exports=function(e){var t;return a(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!a(t.prototype)||(t=void 0),n(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){var n=r(63);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(8),a=r(6),i=r(7),o=r(16),s=r(1);e.exports=function(e,t,r){var u=s(e),c=r(o,u,""[e]),l=c[0],p=c[1];i((function(){var t={};return t[u]=function(){return 7},7!=""[e](t)}))&&(a(String.prototype,e,l),n(RegExp.prototype,u,2==t?function(e,t){return p.call(e,this,t)}:function(e){return p.call(e,this)}))}},function(e,t,r){var n=r(11),a=r(70),i=r(69),o=r(2),s=r(19),u=r(87),c={},l={};(t=e.exports=function(e,t,r,p,d){var f,m,h,_,v=d?function(){return e}:u(e),g=n(r,p,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(f=s(e.length);f>y;y++)if((_=t?g(o(m=e[y])[0],m[1]):g(e[y]))===c||_===l)return _}else for(h=v.call(e);!(m=h.next()).done;)if((_=a(h,g,m.value,t))===c||_===l)return _}).BREAK=c,t.RETURN=l},function(e,t,r){var n=r(5),a=r(82).set;e.exports=function(e,t,r){var i,o=t.constructor;return o!==r&&"function"==typeof o&&(i=o.prototype)!==r.prototype&&n(i)&&a&&a(e,i),e}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(15),a=r(1)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[a]===e)}},function(e,t,r){var n=r(2);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,r){var n=r(44),a=r(25),i=r(26),o={};r(8)(o,r(1)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(o,{next:a(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(24),a=r(3),i=r(6),o=r(8),s=r(15),u=r(71),c=r(26),l=r(78),p=r(1)("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,r,m,h,_,v){u(r,t,m);var g,y,b,$=function(e){if(!d&&e in N)return N[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},x=t+" Iterator",w="values"==h,S=!1,N=e.prototype,C=N[p]||N["@@iterator"]||h&&N[h],E=C||$(h),A=h?w?$("entries"):E:void 0,M="Array"==t&&N.entries||C;if(M&&(b=l(M.call(new e)))!==Object.prototype&&b.next&&(c(b,x,!0),n||"function"==typeof b[p]||o(b,p,f)),w&&C&&"values"!==C.name&&(S=!0,E=function(){return C.call(this)}),n&&!v||!d&&!S&&N[p]||o(N,p,E),s[t]=E,s[x]=f,h)if(g={values:w?E:$("values"),keys:_?E:$("keys"),entries:A},v)for(y in g)y in N||i(N,y,g[y]);else a(a.P+a.F*(d||S),t,g);return g}},function(e,t,r){var n=r(1)("iterator"),a=!1;try{var i=[7][n]();i.return=function(){a=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var i=[7],o=i[n]();o.next=function(){return{done:r=!0}},i[n]=function(){return o},e(i)}catch(e){}return r}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var n=r(0),a=r(52).set,i=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,u="process"==r(9)(o);e.exports=function(){var e,t,r,c=function(){var n,a;for(u&&(n=o.domain)&&n.exit();e;){a=e.fn,e=e.next;try{a()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){o.nextTick(c)};else if(!i||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);r=function(){l.then(c)}}else r=function(){a.call(n,c)};else{var p=!0,d=document.createTextNode("");new i(c).observe(d,{characterData:!0}),r=function(){d.data=p=!p}}return function(n){var a={fn:n,next:void 0};t&&(t.next=a),e||(e=a,r()),t=a}}},function(e,t,r){var n=r(13),a=r(2),i=r(47);e.exports=r(4)?Object.defineProperties:function(e,t){a(e);for(var r,o=i(t),s=o.length,u=0;s>u;)n.f(e,r=o[u++],t[r]);return e}},function(e,t,r){var n=r(46),a=r(22).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},function(e,t,r){var n=r(12),a=r(28),i=r(27)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(6);e.exports=function(e,t,r){for(var a in t)n(e,a,t[a],r);return e}},function(e,t,r){var n=r(5),a=r(2),i=function(e,t){if(a(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(11)(Function.call,r(45).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return i(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:i}},function(e,t,r){var n=r(0),a=r(13),i=r(4),o=r(1)("species");e.exports=function(e){var t=n[e];i&&t&&!t[o]&&a.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,r){var n=r(53),a=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?a(e+t,0):i(e,t)}},function(e,t,r){var n=r(0).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){var n=r(38),a=r(1)("iterator"),i=r(15);e.exports=r(10).getIteratorMethod=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[n(e)]}},function(e,t,r){var n=r(3),a=r(20)(2);n(n.P+n.F*!r(17)([].filter,!0),"Array",{filter:function(e){return a(this,e,arguments[1])}})},function(e,t,r){var n=r(3),a=r(37)(!1),i=[].indexOf,o=!!i&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!r(17)(i)),"Array",{indexOf:function(e){return o?i.apply(this,arguments)||0:a(this,e,arguments[1])}})},function(e,t,r){var n=r(3);n(n.S,"Array",{isArray:r(42)})},function(e,t,r){var n=r(3),a=r(20)(1);n(n.P+n.F*!r(17)([].map,!0),"Array",{map:function(e){return a(this,e,arguments[1])}})},function(e,t,r){var n=r(3),a=r(62);n(n.P+n.F*!r(17)([].reduce,!0),"Array",{reduce:function(e){return a(this,e,arguments.length,arguments[1],!1)}})},function(e,t,r){var n=Date.prototype,a=n.toString,i=n.getTime;new Date(NaN)+""!="Invalid Date"&&r(6)(n,"toString",(function(){var e=i.call(this);return e==e?a.call(this):"Invalid Date"}))},function(e,t,r){r(4)&&"g"!=/./g.flags&&r(13).f(RegExp.prototype,"flags",{configurable:!0,get:r(39)})},function(e,t,r){r(65)("search",1,(function(e,t,r){return[function(r){var n=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,n):new RegExp(r)[t](String(n))},r]}))},function(e,t,r){r(94);var n=r(2),a=r(39),i=r(4),o=/./.toString,s=function(e){r(6)(RegExp.prototype,"toString",e,!0)};r(7)((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?s((function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?a.call(e):void 0)})):"toString"!=o.name&&s((function(){return o.call(this)}))},function(e,t,r){r(51)("trim",(function(e){return function(){return e(this,3)}}))},function(e,t,r){for(var n=r(34),a=r(47),i=r(6),o=r(0),s=r(8),u=r(15),c=r(1),l=c("iterator"),p=c("toStringTag"),d=u.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=a(f),h=0;h<m.length;h++){var _,v=m[h],g=f[v],y=o[v],b=y&&y.prototype;if(b&&(b[l]||s(b,l,d),b[p]||s(b,p,v),u[v]=d,g))for(_ in n)b[_]||i(b,_,n[_],!0)}},function(e,t){},function(e,t){e.exports=function(e,t,r,n,a,i){var o,s=e=e||{},u=typeof e.default;"object"!==u&&"function"!==u||(o=e,s=e.default);var c,l="function"==typeof s?s.options:s;if(t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0),r&&(l.functional=!0),a&&(l._scopeId=a),i?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},l._ssrRegister=c):n&&(c=n),c){var p=l.functional,d=p?l.render:l.beforeCreate;p?(l._injectStyles=c,l.render=function(e,t){return c.call(t),d(e,t)}):l.beforeCreate=d?[].concat(d,c):[c]}return{esModule:o,exports:s,options:l}}},function(e,t,r){var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"multiselect",class:{"multiselect--active":e.isOpen,"multiselect--disabled":e.disabled,"multiselect--above":e.isAbove},attrs:{tabindex:e.searchable?-1:e.tabindex},on:{focus:function(t){e.activate()},blur:function(t){!e.searchable&&e.deactivate()},keydown:[function(t){return"button"in t||!e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?t.target!==t.currentTarget?null:(t.preventDefault(),void e.pointerForward()):null},function(t){return"button"in t||!e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?t.target!==t.currentTarget?null:(t.preventDefault(),void e.pointerBackward()):null}],keypress:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")||!e._k(t.keyCode,"tab",9,t.key,"Tab")?(t.stopPropagation(),t.target!==t.currentTarget?null:void e.addPointerElement(t)):null},keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.deactivate()}}},[e._t("caret",[r("div",{staticClass:"multiselect__select",on:{mousedown:function(t){t.preventDefault(),t.stopPropagation(),e.toggle()}}})],{toggle:e.toggle}),e._v(" "),e._t("clear",null,{search:e.search}),e._v(" "),r("div",{ref:"tags",staticClass:"multiselect__tags"},[e._t("selection",[r("div",{directives:[{name:"show",rawName:"v-show",value:e.visibleValues.length>0,expression:"visibleValues.length > 0"}],staticClass:"multiselect__tags-wrap"},[e._l(e.visibleValues,(function(t,n){return[e._t("tag",[r("span",{key:n,staticClass:"multiselect__tag"},[r("span",{domProps:{textContent:e._s(e.getOptionLabel(t))}}),e._v(" "),r("i",{staticClass:"multiselect__tag-icon",attrs:{"aria-hidden":"true",tabindex:"1"},on:{keypress:function(r){if(!("button"in r)&&e._k(r.keyCode,"enter",13,r.key,"Enter"))return null;r.preventDefault(),e.removeElement(t)},mousedown:function(r){r.preventDefault(),e.removeElement(t)}}})])],{option:t,search:e.search,remove:e.removeElement})]}))],2),e._v(" "),e.internalValue&&e.internalValue.length>e.limit?[e._t("limit",[r("strong",{staticClass:"multiselect__strong",domProps:{textContent:e._s(e.limitText(e.internalValue.length-e.limit))}})])]:e._e()],{search:e.search,remove:e.removeElement,values:e.visibleValues,isOpen:e.isOpen}),e._v(" "),r("transition",{attrs:{name:"multiselect__loading"}},[e._t("loading",[r("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"multiselect__spinner"})])],2),e._v(" "),e.searchable?r("input",{ref:"search",staticClass:"multiselect__input",style:e.inputStyle,attrs:{name:e.name,id:e.id,type:"text",autocomplete:"nope",placeholder:e.placeholder,disabled:e.disabled,tabindex:e.tabindex},domProps:{value:e.search},on:{input:function(t){e.updateSearch(t.target.value)},focus:function(t){t.preventDefault(),e.activate()},blur:function(t){t.preventDefault(),e.deactivate()},keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.deactivate()},keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.preventDefault(),e.pointerForward()},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.preventDefault(),e.pointerBackward()},function(t){if(!("button"in t)&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete"]))return null;t.stopPropagation(),e.removeLastElement()}],keypress:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),t.stopPropagation(),t.target!==t.currentTarget?null:void e.addPointerElement(t)):null}}}):e._e(),e._v(" "),e.isSingleLabelVisible?r("span",{staticClass:"multiselect__single",on:{mousedown:function(t){return t.preventDefault(),e.toggle(t)}}},[e._t("singleLabel",[[e._v(e._s(e.currentOptionLabel))]],{option:e.singleValue})],2):e._e(),e._v(" "),e.isPlaceholderVisible?r("span",{staticClass:"multiselect__placeholder",on:{mousedown:function(t){return t.preventDefault(),e.toggle(t)}}},[e._t("placeholder",[e._v("\n          "+e._s(e.placeholder)+"\n        ")])],2):e._e()],2),e._v(" "),r("transition",{attrs:{name:"multiselect"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],ref:"list",staticClass:"multiselect__content-wrapper",style:{maxHeight:e.optimizedHeight+"px"},attrs:{tabindex:"-1"},on:{focus:e.activate,mousedown:function(e){e.preventDefault()}}},[r("ul",{staticClass:"multiselect__content",style:e.contentStyle},[e._t("beforeList"),e._v(" "),e.multiple&&e.max===e.internalValue.length?r("li",[r("span",{staticClass:"multiselect__option"},[e._t("maxElements",[e._v("Maximum of "+e._s(e.max)+" options selected. First remove a selected option to select another.")])],2)]):e._e(),e._v(" "),!e.max||e.internalValue.length<e.max?e._l(e.filteredOptions,(function(t,n){return r("li",{key:n,staticClass:"multiselect__element"},[t&&(t.$isLabel||t.$isDisabled)?e._e():r("span",{staticClass:"multiselect__option",class:e.optionHighlight(n,t),attrs:{"data-select":t&&t.isTag?e.tagPlaceholder:e.selectLabelText,"data-selected":e.selectedLabelText,"data-deselect":e.deselectLabelText},on:{click:function(r){r.stopPropagation(),e.select(t)},mouseenter:function(t){if(t.target!==t.currentTarget)return null;e.pointerSet(n)}}},[e._t("option",[r("span",[e._v(e._s(e.getOptionLabel(t)))])],{option:t,search:e.search})],2),e._v(" "),t&&(t.$isLabel||t.$isDisabled)?r("span",{staticClass:"multiselect__option",class:e.groupHighlight(n,t),attrs:{"data-select":e.groupSelect&&e.selectGroupLabelText,"data-deselect":e.groupSelect&&e.deselectGroupLabelText},on:{mouseenter:function(t){if(t.target!==t.currentTarget)return null;e.groupSelect&&e.pointerSet(n)},mousedown:function(r){r.preventDefault(),e.selectGroup(t)}}},[e._t("option",[r("span",[e._v(e._s(e.getOptionLabel(t)))])],{option:t,search:e.search})],2):e._e()])})):e._e(),e._v(" "),r("li",{directives:[{name:"show",rawName:"v-show",value:e.showNoResults&&0===e.filteredOptions.length&&e.search&&!e.loading,expression:"showNoResults && (filteredOptions.length === 0 && search && !loading)"}]},[r("span",{staticClass:"multiselect__option"},[e._t("noResult",[e._v("No elements found. Consider changing the search query.")],{search:e.search})],2)]),e._v(" "),r("li",{directives:[{name:"show",rawName:"v-show",value:e.showNoOptions&&0===e.options.length&&!e.search&&!e.loading,expression:"showNoOptions && (options.length === 0 && !search && !loading)"}]},[r("span",{staticClass:"multiselect__option"},[e._t("noOptions",[e._v("List is empty.")])],2)]),e._v(" "),e._t("afterList")],2)])])],2)},staticRenderFns:[]};t.a=n}])})),Multiselect=unwrapExports(vueMultiselect_min),vueMultiselect_min_1=vueMultiselect_min.VueMultiselect,SearchBar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"actionOptions",{get:function(){var e=this;return SEARCH_ACTION.map((function(t){return __assign(__assign({},t),{actions:t.actions.filter((function(t){return!e.unsupportedSteps.includes(t.name)}))})}))},enumerable:!0,configurable:!0}),t.prototype.actionClicked=function(e){this.$emit("actionClicked",e.name)},__decorate([VQBModule.Getter],t.prototype,"translator",void 0),__decorate([VQBModule.Getter],t.prototype,"unsupportedSteps",void 0),t=__decorate([Component({name:"search-bar",components:{Multiselect:Multiselect}})],t)}(Vue);const __vue_script__$7=SearchBar;var __vue_render__$7=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"search-bar"},[t("multiselect",{attrs:{options:this.actionOptions,label:"label","track-by":"label",placeholder:"Search","reset-after":!0,"group-label":"type","group-values":"actions","group-select":!1,"open-direction":"bottom"},on:{select:this.actionClicked}})],1)},__vue_staticRenderFns__$7=[];__vue_render__$7._withStripped=!0;const __vue_inject_styles__$7=void 0,__vue_scope_id__$7=void 0,__vue_module_identifier__$7=void 0,__vue_is_functional_template__$7=!1,__vue_component__$7=normalizeComponent({render:__vue_render__$7,staticRenderFns:__vue_staticRenderFns__$7},void 0,__vue_script__$7,void 0,!1,void 0,!1,void 0,void 0,void 0);var ActionToolbar=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isActiveActionToolbarButton=-1,t}return __extends(t,e),t.prototype.actionClicked=function(e,t){void 0===t&&(t={}),this.$emit("actionClicked",e,t)},t.prototype.openPopover=function(e){this.isActiveActionToolbarButton=e},Object.defineProperty(t.prototype,"supportedButtons",{get:function(){var e=this;return CATEGORY_BUTTONS.filter((function(t){return ACTION_CATEGORIES[t.category].some((function(t){return!e.unsupportedSteps.includes(t.name)}))}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedButtons",{get:function(){var e=this;return this.supportedButtons.map((function(t,r){var n=!1;return r===e.isActiveActionToolbarButton&&(n=!0),__assign(__assign({},t),{class:{"action-toolbar__btn--active":n,"action-toolbar__btn--disable":!t.enable},isActionToolbarMenuOpened:n})}))},enumerable:!0,configurable:!0}),t.prototype.closePopover=function(){this.isActiveActionToolbarButton=-1},__decorate([VQBModule.State],t.prototype,"selectedColumns",void 0),__decorate([VQBModule.Getter],t.prototype,"unsupportedSteps",void 0),t=__decorate([Component({name:"action-toolbar",components:{ActionToolbarButton:__vue_component__$6,SearchBar:__vue_component__$7}})],t)}(Vue);const __vue_script__$8=ActionToolbar;var __vue_render__$8=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"action-toolbar__container"},[r("div",{staticClass:"action-toolbar"},[e._l(e.formattedButtons,(function(t,n){return r("action-toolbar-button",{key:t.icon,class:t.class,attrs:{icon:t.icon,label:t.label,category:t.category,"is-active":t.isActionToolbarMenuOpened},on:{actionClicked:e.actionClicked,closed:function(t){return e.closePopover()}},nativeOn:{click:function(t){return t.stopPropagation(),e.openPopover(n)}}})})),e._v(" "),r("search-bar",{on:{actionClicked:e.actionClicked}})],2)])},__vue_staticRenderFns__$8=[];__vue_render__$8._withStripped=!0;const __vue_inject_styles__$8=void 0,__vue_scope_id__$8=void 0,__vue_module_identifier__$8=void 0,__vue_is_functional_template__$8=!1,__vue_component__$8=normalizeComponent({render:__vue_render__$8,staticRenderFns:__vue_staticRenderFns__$8},void 0,__vue_script__$8,void 0,!1,void 0,!1,void 0,void 0,void 0);var DataTypesMenu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alignLeft=POPOVER_ALIGN.LEFT,t}return __extends(t,e),t.prototype.close=function(){this.$emit("closed")},t.prototype.createConvertStep=function(e){if("date"!==e||"string"===this.columnTypes[this.columnName]){var t=__spread(this.pipeline),r=this.computedActiveStepIndex+1,n={name:"convert",columns:[this.columnName],data_type:e};this.isEditingStep&&this.closeStepForm(),t.splice(r,0,n),this.setPipeline({pipeline:t}),this.selectStep({index:r}),this.close()}},t.prototype.openToDateStep=function(){"string"===this.columnTypes[this.columnName]&&(this.$emit("actionClicked","todate"),this.close())},__decorate([Prop({type:String,default:function(){return""}})],t.prototype,"columnName",void 0),__decorate([Prop({type:Boolean,default:!0})],t.prototype,"visible",void 0),__decorate([VQBModule.Getter],t.prototype,"columnTypes",void 0),__decorate([VQBModule.Getter],t.prototype,"computedActiveStepIndex",void 0),__decorate([VQBModule.Getter],t.prototype,"isEditingStep",void 0),__decorate([VQBModule.Getter],t.prototype,"pipeline",void 0),__decorate([VQBModule.Action],t.prototype,"selectStep",void 0),__decorate([VQBModule.Mutation],t.prototype,"setPipeline",void 0),__decorate([VQBModule.Mutation],t.prototype,"closeStepForm",void 0),t=__decorate([Component({name:"data-types-menu",components:{Popover:__vue_component__$4}})],t)}(Vue);const __vue_script__$9=DataTypesMenu;var __vue_render__$9=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("popover",{attrs:{visible:e.visible,align:e.alignLeft,bottom:""},on:{closed:e.close}},[r("div",{staticClass:"data-types-menu__body"},[r("div",{staticClass:"data-types-menu__section"},[r("div",{staticClass:"data-types-menu__option--active",on:{click:function(t){return e.createConvertStep("integer")}}},[r("span",{staticClass:"data-types-menu__icon"},[e._v("123")]),e._v(" "),r("span",[e._v("Integer")])]),e._v(" "),r("div",{staticClass:"data-types-menu__option--active",on:{click:function(t){return e.createConvertStep("float")}}},[r("span",{staticClass:"data-types-menu__icon"},[e._v("1.2")]),e._v(" "),r("span",[e._v("Float")])]),e._v(" "),r("div",{staticClass:"data-types-menu__option--active",on:{click:function(t){return e.createConvertStep("text")}}},[r("span",{staticClass:"data-types-menu__icon"},[e._v("ABC")]),e._v(" "),r("span",[e._v("Text")])]),e._v(" "),r("div",{class:{"data-types-menu__option--active":"string"===e.columnTypes[e.columnName],"data-types-menu__option--deactivated":!("string"===e.columnTypes[e.columnName])},attrs:{title:"Only string columns can be converted to date"},on:{click:function(t){return e.openToDateStep()}}},[r("span",{staticClass:"data-types-menu__icon"},[r("i",{staticClass:"fas fa-calendar-alt",attrs:{"aria-hidden":"true"}})]),e._v(" "),r("span",[e._v("Date")])]),e._v(" "),r("div",{staticClass:"data-types-menu__option--active",on:{click:function(t){return e.createConvertStep("boolean")}}},[r("span",{staticClass:"data-types-menu__icon"},[r("i",{staticClass:"fas fa-check",attrs:{"aria-hidden":"true"}})]),e._v(" "),r("span",[e._v("Boolean")])])])])])},__vue_staticRenderFns__$9=[];__vue_render__$9._withStripped=!0;const __vue_inject_styles__$9=void 0,__vue_scope_id__$9=void 0,__vue_module_identifier__$9=void 0,__vue_is_functional_template__$9=!1,__vue_component__$9=normalizeComponent({render:__vue_render__$9,staticRenderFns:__vue_staticRenderFns__$9},void 0,__vue_script__$9,void 0,!1,void 0,!1,void 0,void 0,void 0);var script={name:"data-viewer-cell",props:{value:{default:function(){return"-"}},isSelected:{type:Boolean,default:function(){return!1}}},methods:{getValue:function(e){return"object"==typeof e?JSON.stringify(e):e.toString()}}};const __vue_script__$a=script;var __vue_render__$a=function(e,t){return(0,t._c)("td",{class:{"data-viewer-cell":!0,"data-viewer-cell--active":t.props.isSelected}},[t._v("\n  "+t._s(t.$options.methods.getValue(t.props.value))+"\n")])},__vue_staticRenderFns__$a=[];__vue_render__$a._withStripped=!0;const __vue_inject_styles__$a=void 0,__vue_scope_id__$a=void 0,__vue_module_identifier__$a=void 0,__vue_is_functional_template__$a=!0,__vue_component__$a=normalizeComponent({render:__vue_render__$a,staticRenderFns:__vue_staticRenderFns__$a},void 0,__vue_script__$a,void 0,!0,void 0,!1,void 0,void 0,void 0);
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var isBrowser="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,timeoutDuration=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(isBrowser&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();function microtaskDebounce(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}function taskDebounce(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),timeoutDuration))}}var supportsMicroTasks=isBrowser&&window.Promise,debounce=supportsMicroTasks?microtaskDebounce:taskDebounce;function isFunction$2(e){return e&&"[object Function]"==={}.toString.call(e)}function getStyleComputedProperty(e,t){if(1!==e.nodeType)return[];var r=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?r[t]:r}function getParentNode(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function getScrollParent(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=getStyleComputedProperty(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/(auto|scroll|overlay)/.test(r+a+n)?e:getScrollParent(getParentNode(e))}function getReferenceNode(e){return e&&e.referenceNode?e.referenceNode:e}var isIE11=isBrowser&&!(!window.MSInputMethodContext||!document.documentMode),isIE10=isBrowser&&/MSIE 10/.test(navigator.userAgent);function isIE(e){return 11===e?isIE11:10===e?isIE10:isIE11||isIE10}function getOffsetParent(e){if(!e)return document.documentElement;for(var t=isIE(10)?document.body:null,r=e.offsetParent||null;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var n=r&&r.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===getStyleComputedProperty(r,"position")?getOffsetParent(r):r:e?e.ownerDocument.documentElement:document.documentElement}function isOffsetContainer(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||getOffsetParent(e.firstElementChild)===e)}function getRoot(e){return null!==e.parentNode?getRoot(e.parentNode):e}function findCommonOffsetParent(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,a=r?t:e,i=document.createRange();i.setStart(n,0),i.setEnd(a,0);var o=i.commonAncestorContainer;if(e!==o&&t!==o||n.contains(a))return isOffsetContainer(o)?o:getOffsetParent(o);var s=getRoot(e);return s.host?findCommonOffsetParent(s.host,t):findCommonOffsetParent(e,getRoot(t).host)}function getScroll(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var n=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||n)[t]}return e[t]}function includeScroll(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=getScroll(t,"top"),a=getScroll(t,"left"),i=r?-1:1;return e.top+=n*i,e.bottom+=n*i,e.left+=a*i,e.right+=a*i,e}function getBordersSize(e,t){var r="x"===t?"Left":"Top",n="Left"===r?"Right":"Bottom";return parseFloat(e["border"+r+"Width"])+parseFloat(e["border"+n+"Width"])}function getSize(e,t,r,n){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],isIE(10)?parseInt(r["offset"+e])+parseInt(n["margin"+("Height"===e?"Top":"Left")])+parseInt(n["margin"+("Height"===e?"Bottom":"Right")]):0)}function getWindowSizes(e){var t=e.body,r=e.documentElement,n=isIE(10)&&getComputedStyle(r);return{height:getSize("Height",t,r,n),width:getSize("Width",t,r,n)}}var classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),defineProperty$1=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},_extends$7=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function getClientRect(e){return _extends$7({},e,{right:e.left+e.width,bottom:e.top+e.height})}function getBoundingClientRect(e){var t={};try{if(isIE(10)){t=e.getBoundingClientRect();var r=getScroll(e,"top"),n=getScroll(e,"left");t.top+=r,t.left+=n,t.bottom+=r,t.right+=n}else t=e.getBoundingClientRect()}catch(e){}var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?getWindowSizes(e.ownerDocument):{},o=i.width||e.clientWidth||a.width,s=i.height||e.clientHeight||a.height,u=e.offsetWidth-o,c=e.offsetHeight-s;if(u||c){var l=getStyleComputedProperty(e);u-=getBordersSize(l,"x"),c-=getBordersSize(l,"y"),a.width-=u,a.height-=c}return getClientRect(a)}function getOffsetRectRelativeToArbitraryNode(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=isIE(10),a="HTML"===t.nodeName,i=getBoundingClientRect(e),o=getBoundingClientRect(t),s=getScrollParent(e),u=getStyleComputedProperty(t),c=parseFloat(u.borderTopWidth),l=parseFloat(u.borderLeftWidth);r&&a&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var p=getClientRect({top:i.top-o.top-c,left:i.left-o.left-l,width:i.width,height:i.height});if(p.marginTop=0,p.marginLeft=0,!n&&a){var d=parseFloat(u.marginTop),f=parseFloat(u.marginLeft);p.top-=c-d,p.bottom-=c-d,p.left-=l-f,p.right-=l-f,p.marginTop=d,p.marginLeft=f}return(n&&!r?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(p=includeScroll(p,t)),p}function getViewportOffsetRectRelativeToArtbitraryNode(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.ownerDocument.documentElement,n=getOffsetRectRelativeToArbitraryNode(e,r),a=Math.max(r.clientWidth,window.innerWidth||0),i=Math.max(r.clientHeight,window.innerHeight||0),o=t?0:getScroll(r),s=t?0:getScroll(r,"left");return getClientRect({top:o-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:a,height:i})}function isFixed(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===getStyleComputedProperty(e,"position"))return!0;var r=getParentNode(e);return!!r&&isFixed(r)}function getFixedPositionOffsetParent(e){if(!e||!e.parentElement||isIE())return document.documentElement;for(var t=e.parentElement;t&&"none"===getStyleComputedProperty(t,"transform");)t=t.parentElement;return t||document.documentElement}function getBoundaries(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},o=a?getFixedPositionOffsetParent(e):findCommonOffsetParent(e,getReferenceNode(t));if("viewport"===n)i=getViewportOffsetRectRelativeToArtbitraryNode(o,a);else{var s=void 0;"scrollParent"===n?"BODY"===(s=getScrollParent(getParentNode(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===n?e.ownerDocument.documentElement:n;var u=getOffsetRectRelativeToArbitraryNode(s,o,a);if("HTML"!==s.nodeName||isFixed(o))i=u;else{var c=getWindowSizes(e.ownerDocument),l=c.height,p=c.width;i.top+=u.top-u.marginTop,i.bottom=l+u.top,i.left+=u.left-u.marginLeft,i.right=p+u.left}}var d="number"==typeof(r=r||0);return i.left+=d?r:r.left||0,i.top+=d?r:r.top||0,i.right-=d?r:r.right||0,i.bottom-=d?r:r.bottom||0,i}function getArea(e){return e.width*e.height}function computeAutoPlacement(e,t,r,n,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=getBoundaries(r,n,i,a),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},u=Object.keys(s).map((function(e){return _extends$7({key:e},s[e],{area:getArea(s[e])})})).sort((function(e,t){return t.area-e.area})),c=u.filter((function(e){var t=e.width,n=e.height;return t>=r.clientWidth&&n>=r.clientHeight})),l=c.length>0?c[0].key:u[0].key,p=e.split("-")[1];return l+(p?"-"+p:"")}function getReferenceOffsets(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return getOffsetRectRelativeToArbitraryNode(r,n?getFixedPositionOffsetParent(t):findCommonOffsetParent(t,getReferenceNode(r)),n)}function getOuterSizes(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),r=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),n=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+n,height:e.offsetHeight+r}}function getOppositePlacement(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function getPopperOffsets(e,t,r){r=r.split("-")[0];var n=getOuterSizes(e),a={width:n.width,height:n.height},i=-1!==["right","left"].indexOf(r),o=i?"top":"left",s=i?"left":"top",u=i?"height":"width",c=i?"width":"height";return a[o]=t[o]+t[u]/2-n[u]/2,a[s]=r===s?t[s]-n[c]:t[getOppositePlacement(s)],a}function find(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function findIndex(e,t,r){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===r}));var n=find(e,(function(e){return e[t]===r}));return e.indexOf(n)}function runModifiers(e,t,r){return(void 0===r?e:e.slice(0,findIndex(e,"name",r))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&isFunction$2(r)&&(t.offsets.popper=getClientRect(t.offsets.popper),t.offsets.reference=getClientRect(t.offsets.reference),t=r(t,e))})),t}function update(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=getReferenceOffsets(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=computeAutoPlacement(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=getPopperOffsets(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=runModifiers(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function isModifierEnabled(e,t){return e.some((function(e){var r=e.name;return e.enabled&&r===t}))}function getSupportedPropertyName(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var a=t[n],i=a?""+a+r:e;if(void 0!==document.body.style[i])return i}return null}function destroy(){return this.state.isDestroyed=!0,isModifierEnabled(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[getSupportedPropertyName("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function getWindow(e){var t=e.ownerDocument;return t?t.defaultView:window}function attachToScrollParents(e,t,r,n){var a="BODY"===e.nodeName,i=a?e.ownerDocument.defaultView:e;i.addEventListener(t,r,{passive:!0}),a||attachToScrollParents(getScrollParent(i.parentNode),t,r,n),n.push(i)}function setupEventListeners(e,t,r,n){r.updateBound=n,getWindow(e).addEventListener("resize",r.updateBound,{passive:!0});var a=getScrollParent(e);return attachToScrollParents(a,"scroll",r.updateBound,r.scrollParents),r.scrollElement=a,r.eventsEnabled=!0,r}function enableEventListeners(){this.state.eventsEnabled||(this.state=setupEventListeners(this.reference,this.options,this.state,this.scheduleUpdate))}function removeEventListeners(e,t){return getWindow(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function disableEventListeners(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=removeEventListeners(this.reference,this.state))}function isNumeric$1(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function setStyles(e,t){Object.keys(t).forEach((function(r){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&isNumeric$1(t[r])&&(n="px"),e.style[r]=t[r]+n}))}function setAttributes(e,t){Object.keys(t).forEach((function(r){!1!==t[r]?e.setAttribute(r,t[r]):e.removeAttribute(r)}))}function applyStyle(e){return setStyles(e.instance.popper,e.styles),setAttributes(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&setStyles(e.arrowElement,e.arrowStyles),e}function applyStyleOnLoad(e,t,r,n,a){var i=getReferenceOffsets(a,t,e,r.positionFixed),o=computeAutoPlacement(r.placement,i,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",o),setStyles(t,{position:r.positionFixed?"fixed":"absolute"}),r}function getRoundedOffsets(e,t){var r=e.offsets,n=r.popper,a=r.reference,i=Math.round,o=Math.floor,s=function(e){return e},u=i(a.width),c=i(n.width),l=-1!==["left","right"].indexOf(e.placement),p=-1!==e.placement.indexOf("-"),d=t?l||p||u%2==c%2?i:o:s,f=t?i:s;return{left:d(u%2==1&&c%2==1&&!p&&t?n.left-1:n.left),top:f(n.top),bottom:f(n.bottom),right:d(n.right)}}var isFirefox=isBrowser&&/Firefox/i.test(navigator.userAgent);function computeStyle(e,t){var r=t.x,n=t.y,a=e.offsets.popper,i=find(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==i?i:t.gpuAcceleration,s=getOffsetParent(e.instance.popper),u=getBoundingClientRect(s),c={position:a.position},l=getRoundedOffsets(e,window.devicePixelRatio<2||!isFirefox),p="bottom"===r?"top":"bottom",d="right"===n?"left":"right",f=getSupportedPropertyName("transform"),m=void 0,h=void 0;if(h="bottom"===p?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-u.height+l.bottom:l.top,m="right"===d?"HTML"===s.nodeName?-s.clientWidth+l.right:-u.width+l.right:l.left,o&&f)c[f]="translate3d("+m+"px, "+h+"px, 0)",c[p]=0,c[d]=0,c.willChange="transform";else{var _="bottom"===p?-1:1,v="right"===d?-1:1;c[p]=h*_,c[d]=m*v,c.willChange=p+", "+d}var g={"x-placement":e.placement};return e.attributes=_extends$7({},g,e.attributes),e.styles=_extends$7({},c,e.styles),e.arrowStyles=_extends$7({},e.offsets.arrow,e.arrowStyles),e}function isModifierRequired(e,t,r){var n=find(e,(function(e){return e.name===t})),a=!!n&&e.some((function(e){return e.name===r&&e.enabled&&e.order<n.order}));if(!a){var i="`"+t+"`",o="`"+r+"`";console.warn(o+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return a}function arrow(e,t){var r;if(!isModifierRequired(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var a=e.placement.split("-")[0],i=e.offsets,o=i.popper,s=i.reference,u=-1!==["left","right"].indexOf(a),c=u?"height":"width",l=u?"Top":"Left",p=l.toLowerCase(),d=u?"left":"top",f=u?"bottom":"right",m=getOuterSizes(n)[c];s[f]-m<o[p]&&(e.offsets.popper[p]-=o[p]-(s[f]-m)),s[p]+m>o[f]&&(e.offsets.popper[p]+=s[p]+m-o[f]),e.offsets.popper=getClientRect(e.offsets.popper);var h=s[p]+s[c]/2-m/2,_=getStyleComputedProperty(e.instance.popper),v=parseFloat(_["margin"+l]),g=parseFloat(_["border"+l+"Width"]),y=h-e.offsets.popper[p]-v-g;return y=Math.max(Math.min(o[c]-m,y),0),e.arrowElement=n,e.offsets.arrow=(defineProperty$1(r={},p,Math.round(y)),defineProperty$1(r,d,""),r),e}function getOppositeVariation(e){return"end"===e?"start":"start"===e?"end":e}var placements=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],validPlacements=placements.slice(3);function clockwise(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=validPlacements.indexOf(e),n=validPlacements.slice(r+1).concat(validPlacements.slice(0,r));return t?n.reverse():n}var BEHAVIORS={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function flip(e,t){if(isModifierEnabled(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var r=getBoundaries(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],a=getOppositePlacement(n),i=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case BEHAVIORS.FLIP:o=[n,a];break;case BEHAVIORS.CLOCKWISE:o=clockwise(n);break;case BEHAVIORS.COUNTERCLOCKWISE:o=clockwise(n,!0);break;default:o=t.behavior}return o.forEach((function(s,u){if(n!==s||o.length===u+1)return e;n=e.placement.split("-")[0],a=getOppositePlacement(n);var c=e.offsets.popper,l=e.offsets.reference,p=Math.floor,d="left"===n&&p(c.right)>p(l.left)||"right"===n&&p(c.left)<p(l.right)||"top"===n&&p(c.bottom)>p(l.top)||"bottom"===n&&p(c.top)<p(l.bottom),f=p(c.left)<p(r.left),m=p(c.right)>p(r.right),h=p(c.top)<p(r.top),_=p(c.bottom)>p(r.bottom),v="left"===n&&f||"right"===n&&m||"top"===n&&h||"bottom"===n&&_,g=-1!==["top","bottom"].indexOf(n),y=!!t.flipVariations&&(g&&"start"===i&&f||g&&"end"===i&&m||!g&&"start"===i&&h||!g&&"end"===i&&_),b=!!t.flipVariationsByContent&&(g&&"start"===i&&m||g&&"end"===i&&f||!g&&"start"===i&&_||!g&&"end"===i&&h),$=y||b;(d||v||$)&&(e.flipped=!0,(d||v)&&(n=o[u+1]),$&&(i=getOppositeVariation(i)),e.placement=n+(i?"-"+i:""),e.offsets.popper=_extends$7({},e.offsets.popper,getPopperOffsets(e.instance.popper,e.offsets.reference,e.placement)),e=runModifiers(e.instance.modifiers,e,"flip"))})),e}function keepTogether(e){var t=e.offsets,r=t.popper,n=t.reference,a=e.placement.split("-")[0],i=Math.floor,o=-1!==["top","bottom"].indexOf(a),s=o?"right":"bottom",u=o?"left":"top",c=o?"width":"height";return r[s]<i(n[u])&&(e.offsets.popper[u]=i(n[u])-r[c]),r[u]>i(n[s])&&(e.offsets.popper[u]=i(n[s])),e}function toValue(e,t,r,n){var a=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+a[1],o=a[2];if(!i)return e;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=r;break;case"%":case"%r":default:s=n}return getClientRect(s)[t]/100*i}if("vh"===o||"vw"===o){return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i}return i}function parseOffset(e,t,r,n){var a=[0,0],i=-1!==["right","left"].indexOf(n),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(find(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,c=-1!==s?[o.slice(0,s).concat([o[s].split(u)[0]]),[o[s].split(u)[1]].concat(o.slice(s+1))]:[o];return(c=c.map((function(e,n){var a=(1===n?!i:i)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return toValue(e,a,t,r)}))}))).forEach((function(e,t){e.forEach((function(r,n){isNumeric$1(r)&&(a[t]+=r*("-"===e[n-1]?-1:1))}))})),a}function offset(e,t){var r=t.offset,n=e.placement,a=e.offsets,i=a.popper,o=a.reference,s=n.split("-")[0],u=void 0;return u=isNumeric$1(+r)?[+r,0]:parseOffset(r,i,o,s),"left"===s?(i.top+=u[0],i.left-=u[1]):"right"===s?(i.top+=u[0],i.left+=u[1]):"top"===s?(i.left+=u[0],i.top-=u[1]):"bottom"===s&&(i.left+=u[0],i.top+=u[1]),e.popper=i,e}function preventOverflow(e,t){var r=t.boundariesElement||getOffsetParent(e.instance.popper);e.instance.reference===r&&(r=getOffsetParent(r));var n=getSupportedPropertyName("transform"),a=e.instance.popper.style,i=a.top,o=a.left,s=a[n];a.top="",a.left="",a[n]="";var u=getBoundaries(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);a.top=i,a.left=o,a[n]=s,t.boundaries=u;var c=t.priority,l=e.offsets.popper,p={primary:function(e){var r=l[e];return l[e]<u[e]&&!t.escapeWithReference&&(r=Math.max(l[e],u[e])),defineProperty$1({},e,r)},secondary:function(e){var r="right"===e?"left":"top",n=l[r];return l[e]>u[e]&&!t.escapeWithReference&&(n=Math.min(l[r],u[e]-("right"===e?l.width:l.height))),defineProperty$1({},r,n)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=_extends$7({},l,p[t](e))})),e.offsets.popper=l,e}function shift(e){var t=e.placement,r=t.split("-")[0],n=t.split("-")[1];if(n){var a=e.offsets,i=a.reference,o=a.popper,s=-1!==["bottom","top"].indexOf(r),u=s?"left":"top",c=s?"width":"height",l={start:defineProperty$1({},u,i[u]),end:defineProperty$1({},u,i[u]+i[c]-o[c])};e.offsets.popper=_extends$7({},o,l[n])}return e}function hide(e){if(!isModifierRequired(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=find(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function inner(e){var t=e.placement,r=t.split("-")[0],n=e.offsets,a=n.popper,i=n.reference,o=-1!==["left","right"].indexOf(r),s=-1===["top","left"].indexOf(r);return a[o?"left":"top"]=i[r]-(s?a[o?"width":"height"]:0),e.placement=getOppositePlacement(t),e.offsets.popper=getClientRect(a),e}var modifiers={shift:{order:100,enabled:!0,fn:shift},offset:{order:200,enabled:!0,fn:offset,offset:0},preventOverflow:{order:300,enabled:!0,fn:preventOverflow,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:keepTogether},arrow:{order:500,enabled:!0,fn:arrow,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:flip,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:inner},hide:{order:800,enabled:!0,fn:hide},computeStyle:{order:850,enabled:!0,fn:computeStyle,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:applyStyle,onLoad:applyStyleOnLoad,gpuAcceleration:void 0}},Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:modifiers},Popper=function(){function e(t,r){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};classCallCheck(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=debounce(this.update.bind(this)),this.options=_extends$7({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(_extends$7({},e.Defaults.modifiers,a.modifiers)).forEach((function(t){n.options.modifiers[t]=_extends$7({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return _extends$7({name:e},n.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&isFunction$2(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)})),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return createClass(e,[{key:"update",value:function(){return update.call(this)}},{key:"destroy",value:function(){return destroy.call(this)}},{key:"enableEventListeners",value:function(){return enableEventListeners.call(this)}},{key:"disableEventListeners",value:function(){return disableEventListeners.call(this)}}]),e}();function getInternetExplorerVersion(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var n=e.indexOf("Edge/");return n>0?parseInt(e.substring(n+5,e.indexOf(".",n)),10):-1}Popper.Utils=("undefined"!=typeof window?window:global).PopperUtils,Popper.placements=placements,Popper.Defaults=Defaults;var isIE$1=void 0;function initCompat(){initCompat.init||(initCompat.init=!0,isIE$1=-1!==getInternetExplorerVersion())}var ResizeObserver={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},staticRenderFns:[],_scopeId:"data-v-b329ee4c",name:"resize-observer",methods:{compareAndNotify:function(){this._w===this.$el.offsetWidth&&this._h===this.$el.offsetHeight||(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.$emit("notify"))},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!isIE$1&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),delete this._resizeObject.onload)}},mounted:function(){var e=this;initCompat(),this.$nextTick((function(){e._w=e.$el.offsetWidth,e._h=e.$el.offsetHeight}));var t=document.createElement("object");this._resizeObject=t,t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",isIE$1&&this.$el.appendChild(t),t.data="about:blank",isIE$1||this.$el.appendChild(t)},beforeDestroy:function(){this.removeResizeHandlers()}};function install(e){e.component("resize-observer",ResizeObserver),e.component("ResizeObserver",ResizeObserver)}var plugin={version:"0.4.5",install:install},GlobalVue=null;function _typeof$e(e){return(_typeof$e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty$4(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ownKeys$2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys$2(Object(r),!0).forEach((function(t){_defineProperty$4(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$2(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}"undefined"!=typeof window?GlobalVue=window.Vue:"undefined"!=typeof global&&(GlobalVue=global.Vue),GlobalVue&&GlobalVue.use(plugin);var SVGAnimatedString=function(){};function convertToArray(e){return"string"==typeof e&&(e=e.split(" ")),e}function addClasses(e,t){var r,n=convertToArray(t);r=e.className instanceof SVGAnimatedString?convertToArray(e.className.baseVal):convertToArray(e.className),n.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),e instanceof SVGElement?e.setAttribute("class",r.join(" ")):e.className=r.join(" ")}function removeClasses(e,t){var r,n=convertToArray(t);r=e.className instanceof SVGAnimatedString?convertToArray(e.className.baseVal):convertToArray(e.className),n.forEach((function(e){var t=r.indexOf(e);-1!==t&&r.splice(t,1)})),e instanceof SVGElement?e.setAttribute("class",r.join(" ")):e.className=r.join(" ")}"undefined"!=typeof window&&(SVGAnimatedString=window.SVGAnimatedString);var supportsPassive=!1;if("undefined"!=typeof window){supportsPassive=!1;try{var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}});window.addEventListener("test",null,opts)}catch(e){}}function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear$1=listCacheClear$1;function eq$1(e,t){return e===t||e!=e&&t!=t}var eq_1$1=eq$1;function assocIndexOf$1(e,t){for(var r=e.length;r--;)if(eq_1$1(e[r][0],t))return r;return-1}var _assocIndexOf$1=assocIndexOf$1,arrayProto$1=Array.prototype,splice$1=arrayProto$1.splice;function listCacheDelete$1(e){var t=this.__data__,r=_assocIndexOf$1(t,e);return!(r<0)&&(r==t.length-1?t.pop():splice$1.call(t,r,1),--this.size,!0)}var _listCacheDelete$1=listCacheDelete$1;function listCacheGet$1(e){var t=this.__data__,r=_assocIndexOf$1(t,e);return r<0?void 0:t[r][1]}var _listCacheGet$1=listCacheGet$1;function listCacheHas$1(e){return _assocIndexOf$1(this.__data__,e)>-1}var _listCacheHas$1=listCacheHas$1;function listCacheSet$1(e,t){var r=this.__data__,n=_assocIndexOf$1(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var _listCacheSet$1=listCacheSet$1;function ListCache$1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ListCache$1.prototype.clear=_listCacheClear$1,ListCache$1.prototype.delete=_listCacheDelete$1,ListCache$1.prototype.get=_listCacheGet$1,ListCache$1.prototype.has=_listCacheHas$1,ListCache$1.prototype.set=_listCacheSet$1;var _ListCache$1=ListCache$1;function stackClear$1(){this.__data__=new _ListCache$1,this.size=0}var _stackClear$1=stackClear$1;function stackDelete$1(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var _stackDelete$1=stackDelete$1;function stackGet$1(e){return this.__data__.get(e)}var _stackGet$1=stackGet$1;function stackHas$1(e){return this.__data__.has(e)}var _stackHas$1=stackHas$1,commonjsGlobal$1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule$1(e,t){return e(t={exports:{}},t.exports),t.exports}var freeGlobal$1="object"==typeof commonjsGlobal$1&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,_freeGlobal$1=freeGlobal$1,freeSelf$1="object"==typeof self&&self&&self.Object===Object&&self,root$1=_freeGlobal$1||freeSelf$1||Function("return this")(),_root$1=root$1,Symbol$1$1=_root$1.Symbol,_Symbol$1=Symbol$1$1,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$2=objectProto$c.toString,symToStringTag$2=_Symbol$1?_Symbol$1.toStringTag:void 0;function getRawTag$1(e){var t=hasOwnProperty$a.call(e,symToStringTag$2),r=e[symToStringTag$2];try{e[symToStringTag$2]=void 0;var n=!0}catch(e){}var a=nativeObjectToString$2.call(e);return n&&(t?e[symToStringTag$2]=r:delete e[symToStringTag$2]),a}var _getRawTag$1=getRawTag$1,objectProto$1$1=Object.prototype,nativeObjectToString$1$1=objectProto$1$1.toString;function objectToString$1(e){return nativeObjectToString$1$1.call(e)}var _objectToString$1=objectToString$1,nullTag$1="[object Null]",undefinedTag$1="[object Undefined]",symToStringTag$1$1=_Symbol$1?_Symbol$1.toStringTag:void 0;function baseGetTag$1(e){return null==e?void 0===e?undefinedTag$1:nullTag$1:symToStringTag$1$1&&symToStringTag$1$1 in Object(e)?_getRawTag$1(e):_objectToString$1(e)}var _baseGetTag$1=baseGetTag$1;function isObject$2(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var isObject_1$1=isObject$2,asyncTag$1="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag$1="[object Proxy]";function isFunction$3(e){if(!isObject_1$1(e))return!1;var t=_baseGetTag$1(e);return t==funcTag$2||t==genTag$1||t==asyncTag$1||t==proxyTag$1}var isFunction_1$1=isFunction$3,coreJsData$1=_root$1["__core-js_shared__"],_coreJsData$1=coreJsData$1,maskSrcKey$1=function(){var e=/[^.]+$/.exec(_coreJsData$1&&_coreJsData$1.keys&&_coreJsData$1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked$1(e){return!!maskSrcKey$1&&maskSrcKey$1 in e}var _isMasked$1=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$1(e){if(null!=e){try{return funcToString$2.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var _toSource$1=toSource$1,reRegExpChar$1=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor$1=/^\[object .+?Constructor\]$/,funcProto$1$1=Function.prototype,objectProto$2$1=Object.prototype,funcToString$1$1=funcProto$1$1.toString,hasOwnProperty$1$1=objectProto$2$1.hasOwnProperty,reIsNative$1=RegExp("^"+funcToString$1$1.call(hasOwnProperty$1$1).replace(reRegExpChar$1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(e){return!(!isObject_1$1(e)||_isMasked$1(e))&&(isFunction_1$1(e)?reIsNative$1:reIsHostCtor$1).test(_toSource$1(e))}var _baseIsNative$1=baseIsNative$1;function getValue$1(e,t){return null==e?void 0:e[t]}var _getValue$1=getValue$1;function getNative$1(e,t){var r=_getValue$1(e,t);return _baseIsNative$1(r)?r:void 0}var _getNative$1=getNative$1,Map$2=_getNative$1(_root$1,"Map"),_Map$1=Map$2,nativeCreate$1=_getNative$1(Object,"create"),_nativeCreate$1=nativeCreate$1;function hashClear$1(){this.__data__=_nativeCreate$1?_nativeCreate$1(null):{},this.size=0}var _hashClear$1=hashClear$1;function hashDelete$1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _hashDelete$1=hashDelete$1,HASH_UNDEFINED$3="__lodash_hash_undefined__",objectProto$3$1=Object.prototype,hasOwnProperty$2$1=objectProto$3$1.hasOwnProperty;function hashGet$1(e){var t=this.__data__;if(_nativeCreate$1){var r=t[e];return r===HASH_UNDEFINED$3?void 0:r}return hasOwnProperty$2$1.call(t,e)?t[e]:void 0}var _hashGet$1=hashGet$1,objectProto$4$1=Object.prototype,hasOwnProperty$3$1=objectProto$4$1.hasOwnProperty;function hashHas$1(e){var t=this.__data__;return _nativeCreate$1?void 0!==t[e]:hasOwnProperty$3$1.call(t,e)}var _hashHas$1=hashHas$1,HASH_UNDEFINED$1$1="__lodash_hash_undefined__";function hashSet$1(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_nativeCreate$1&&void 0===t?HASH_UNDEFINED$1$1:t,this}var _hashSet$1=hashSet$1;function Hash$1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hash$1.prototype.clear=_hashClear$1,Hash$1.prototype.delete=_hashDelete$1,Hash$1.prototype.get=_hashGet$1,Hash$1.prototype.has=_hashHas$1,Hash$1.prototype.set=_hashSet$1;var _Hash$1=Hash$1;function mapCacheClear$1(){this.size=0,this.__data__={hash:new _Hash$1,map:new(_Map$1||_ListCache$1),string:new _Hash$1}}var _mapCacheClear$1=mapCacheClear$1;function isKeyable$1(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var _isKeyable$1=isKeyable$1;function getMapData$1(e,t){var r=e.__data__;return _isKeyable$1(t)?r["string"==typeof t?"string":"hash"]:r.map}var _getMapData$1=getMapData$1;function mapCacheDelete$1(e){var t=_getMapData$1(this,e).delete(e);return this.size-=t?1:0,t}var _mapCacheDelete$1=mapCacheDelete$1;function mapCacheGet$1(e){return _getMapData$1(this,e).get(e)}var _mapCacheGet$1=mapCacheGet$1;function mapCacheHas$1(e){return _getMapData$1(this,e).has(e)}var _mapCacheHas$1=mapCacheHas$1;function mapCacheSet$1(e,t){var r=_getMapData$1(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var _mapCacheSet$1=mapCacheSet$1;function MapCache$1(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}MapCache$1.prototype.clear=_mapCacheClear$1,MapCache$1.prototype.delete=_mapCacheDelete$1,MapCache$1.prototype.get=_mapCacheGet$1,MapCache$1.prototype.has=_mapCacheHas$1,MapCache$1.prototype.set=_mapCacheSet$1;var _MapCache$1=MapCache$1,LARGE_ARRAY_SIZE$3=200;function stackSet$1(e,t){var r=this.__data__;if(r instanceof _ListCache$1){var n=r.__data__;if(!_Map$1||n.length<LARGE_ARRAY_SIZE$3-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new _MapCache$1(n)}return r.set(e,t),this.size=r.size,this}var _stackSet$1=stackSet$1;function Stack$1(e){var t=this.__data__=new _ListCache$1(e);this.size=t.size}Stack$1.prototype.clear=_stackClear$1,Stack$1.prototype.delete=_stackDelete$1,Stack$1.prototype.get=_stackGet$1,Stack$1.prototype.has=_stackHas$1,Stack$1.prototype.set=_stackSet$1;var _Stack$1=Stack$1,HASH_UNDEFINED$2$1="__lodash_hash_undefined__";function setCacheAdd$1(e){return this.__data__.set(e,HASH_UNDEFINED$2$1),this}var _setCacheAdd$1=setCacheAdd$1;function setCacheHas$1(e){return this.__data__.has(e)}var _setCacheHas$1=setCacheHas$1;function SetCache$1(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new _MapCache$1;++t<r;)this.add(e[t])}SetCache$1.prototype.add=SetCache$1.prototype.push=_setCacheAdd$1,SetCache$1.prototype.has=_setCacheHas$1;var _SetCache$1=SetCache$1;function arraySome$1(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var _arraySome$1=arraySome$1;function cacheHas$1(e,t){return e.has(t)}var _cacheHas$1=cacheHas$1,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2;function equalArrays$1(e,t,r,n,a,i){var o=r&COMPARE_PARTIAL_FLAG$4,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var l=-1,p=!0,d=r&COMPARE_UNORDERED_FLAG$2?new _SetCache$1:void 0;for(i.set(e,t),i.set(t,e);++l<s;){var f=e[l],m=t[l];if(n)var h=o?n(m,f,l,t,e,i):n(f,m,l,e,t,i);if(void 0!==h){if(h)continue;p=!1;break}if(d){if(!_arraySome$1(t,(function(e,t){if(!_cacheHas$1(d,t)&&(f===e||a(f,e,r,n,i)))return d.push(t)}))){p=!1;break}}else if(f!==m&&!a(f,m,r,n,i)){p=!1;break}}return i.delete(e),i.delete(t),p}var _equalArrays$1=equalArrays$1,Uint8Array$2=_root$1.Uint8Array,_Uint8Array$1=Uint8Array$2;function mapToArray$1(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}var _mapToArray$1=mapToArray$1;function setToArray$1(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var _setToArray$1=setToArray$1,COMPARE_PARTIAL_FLAG$1$1=1,COMPARE_UNORDERED_FLAG$1$1=2,boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$2="[object Error]",mapTag$3="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",symbolProto$1=_Symbol$1?_Symbol$1.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function equalByTag$1(e,t,r,n,a,i,o){switch(r){case dataViewTag$3:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case arrayBufferTag$2:return!(e.byteLength!=t.byteLength||!i(new _Uint8Array$1(e),new _Uint8Array$1(t)));case boolTag$2:case dateTag$2:case numberTag$2:return eq_1$1(+e,+t);case errorTag$2:return e.name==t.name&&e.message==t.message;case regexpTag$2:case stringTag$2:return e==t+"";case mapTag$3:var s=_mapToArray$1;case setTag$3:var u=n&COMPARE_PARTIAL_FLAG$1$1;if(s||(s=_setToArray$1),e.size!=t.size&&!u)return!1;var c=o.get(e);if(c)return c==t;n|=COMPARE_UNORDERED_FLAG$1$1,o.set(e,t);var l=_equalArrays$1(s(e),s(t),n,a,i,o);return o.delete(e),l;case symbolTag$1:if(symbolValueOf$1)return symbolValueOf$1.call(e)==symbolValueOf$1.call(t)}return!1}var _equalByTag$1=equalByTag$1;function arrayPush$1(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var _arrayPush$1=arrayPush$1,isArray$2=Array.isArray,isArray_1$1=isArray$2;function baseGetAllKeys$1(e,t,r){var n=t(e);return isArray_1$1(e)?n:_arrayPush$1(n,r(e))}var _baseGetAllKeys$1=baseGetAllKeys$1;function arrayFilter$1(e,t){for(var r=-1,n=null==e?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var _arrayFilter$1=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1$1=stubArray$1,objectProto$5$1=Object.prototype,propertyIsEnumerable$2=objectProto$5$1.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols$1?function(e){return null==e?[]:(e=Object(e),_arrayFilter$1(nativeGetSymbols$1(e),(function(t){return propertyIsEnumerable$2.call(e,t)})))}:stubArray_1$1,_getSymbols$1=getSymbols$1;function baseTimes$1(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _baseTimes$1=baseTimes$1;function isObjectLike$1(e){return null!=e&&"object"==typeof e}var isObjectLike_1$1=isObjectLike$1,argsTag$3="[object Arguments]";function baseIsArguments$1(e){return isObjectLike_1$1(e)&&_baseGetTag$1(e)==argsTag$3}var _baseIsArguments$1=baseIsArguments$1,objectProto$6$1=Object.prototype,hasOwnProperty$4$1=objectProto$6$1.hasOwnProperty,propertyIsEnumerable$1$1=objectProto$6$1.propertyIsEnumerable,isArguments$1=_baseIsArguments$1(function(){return arguments}())?_baseIsArguments$1:function(e){return isObjectLike_1$1(e)&&hasOwnProperty$4$1.call(e,"callee")&&!propertyIsEnumerable$1$1.call(e,"callee")},isArguments_1$1=isArguments$1;function stubFalse$1(){return!1}var stubFalse_1$1=stubFalse$1,isBuffer_1$1=createCommonjsModule$1((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,a=n&&n.exports===r?_root$1.Buffer:void 0,i=(a?a.isBuffer:void 0)||stubFalse_1$1;e.exports=i})),MAX_SAFE_INTEGER$3=9007199254740991,reIsUint$1=/^(?:0|[1-9]\d*)$/;function isIndex$2(e,t){var r=typeof e;return!!(t=null==t?MAX_SAFE_INTEGER$3:t)&&("number"==r||"symbol"!=r&&reIsUint$1.test(e))&&e>-1&&e%1==0&&e<t}var _isIndex$1=isIndex$2,MAX_SAFE_INTEGER$1$1=9007199254740991;function isLength$1(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER$1$1}var isLength_1$1=isLength$1,argsTag$1$1="[object Arguments]",arrayTag$2="[object Array]",boolTag$1$1="[object Boolean]",dateTag$1$1="[object Date]",errorTag$1$1="[object Error]",funcTag$1$1="[object Function]",mapTag$1$1="[object Map]",numberTag$1$1="[object Number]",objectTag$3="[object Object]",regexpTag$1$1="[object RegExp]",setTag$1$1="[object Set]",stringTag$1$1="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$1$1="[object ArrayBuffer]",dataViewTag$1$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]",typedArrayTags$1={};function baseIsTypedArray$1(e){return isObjectLike_1$1(e)&&isLength_1$1(e.length)&&!!typedArrayTags$1[_baseGetTag$1(e)]}typedArrayTags$1[float32Tag$1]=typedArrayTags$1[float64Tag$1]=typedArrayTags$1[int8Tag$1]=typedArrayTags$1[int16Tag$1]=typedArrayTags$1[int32Tag$1]=typedArrayTags$1[uint8Tag$1]=typedArrayTags$1[uint8ClampedTag$1]=typedArrayTags$1[uint16Tag$1]=typedArrayTags$1[uint32Tag$1]=!0,typedArrayTags$1[argsTag$1$1]=typedArrayTags$1[arrayTag$2]=typedArrayTags$1[arrayBufferTag$1$1]=typedArrayTags$1[boolTag$1$1]=typedArrayTags$1[dataViewTag$1$1]=typedArrayTags$1[dateTag$1$1]=typedArrayTags$1[errorTag$1$1]=typedArrayTags$1[funcTag$1$1]=typedArrayTags$1[mapTag$1$1]=typedArrayTags$1[numberTag$1$1]=typedArrayTags$1[objectTag$3]=typedArrayTags$1[regexpTag$1$1]=typedArrayTags$1[setTag$1$1]=typedArrayTags$1[stringTag$1$1]=typedArrayTags$1[weakMapTag$2]=!1;var _baseIsTypedArray$1=baseIsTypedArray$1;function baseUnary$1(e){return function(t){return e(t)}}var _baseUnary$1=baseUnary$1,_nodeUtil$1=createCommonjsModule$1((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,a=n&&n.exports===r&&_freeGlobal$1.process,i=function(){try{var e=n&&n.require&&n.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=i})),nodeIsTypedArray$1=_nodeUtil$1&&_nodeUtil$1.isTypedArray,isTypedArray$1=nodeIsTypedArray$1?_baseUnary$1(nodeIsTypedArray$1):_baseIsTypedArray$1,isTypedArray_1$1=isTypedArray$1,objectProto$7$1=Object.prototype,hasOwnProperty$5$1=objectProto$7$1.hasOwnProperty;function arrayLikeKeys$1(e,t){var r=isArray_1$1(e),n=!r&&isArguments_1$1(e),a=!r&&!n&&isBuffer_1$1(e),i=!r&&!n&&!a&&isTypedArray_1$1(e),o=r||n||a||i,s=o?_baseTimes$1(e.length,String):[],u=s.length;for(var c in e)!t&&!hasOwnProperty$5$1.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_isIndex$1(c,u))||s.push(c);return s}var _arrayLikeKeys$1=arrayLikeKeys$1,objectProto$8$1=Object.prototype;function isPrototype$1(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||objectProto$8$1)}var _isPrototype$1=isPrototype$1;function overArg$1(e,t){return function(r){return e(t(r))}}var _overArg$1=overArg$1,nativeKeys$1=_overArg$1(Object.keys,Object),_nativeKeys$1=nativeKeys$1,objectProto$9$1=Object.prototype,hasOwnProperty$6$1=objectProto$9$1.hasOwnProperty;function baseKeys$1(e){if(!_isPrototype$1(e))return _nativeKeys$1(e);var t=[];for(var r in Object(e))hasOwnProperty$6$1.call(e,r)&&"constructor"!=r&&t.push(r);return t}var _baseKeys$1=baseKeys$1;function isArrayLike$1(e){return null!=e&&isLength_1$1(e.length)&&!isFunction_1$1(e)}var isArrayLike_1$1=isArrayLike$1;function keys$1(e){return isArrayLike_1$1(e)?_arrayLikeKeys$1(e):_baseKeys$1(e)}var keys_1$1=keys$1;function getAllKeys$1(e){return _baseGetAllKeys$1(e,keys_1$1,_getSymbols$1)}var _getAllKeys$1=getAllKeys$1,COMPARE_PARTIAL_FLAG$2$1=1,objectProto$a$1=Object.prototype,hasOwnProperty$7$1=objectProto$a$1.hasOwnProperty;function equalObjects$1(e,t,r,n,a,i){var o=r&COMPARE_PARTIAL_FLAG$2$1,s=_getAllKeys$1(e),u=s.length;if(u!=_getAllKeys$1(t).length&&!o)return!1;for(var c=u;c--;){var l=s[c];if(!(o?l in t:hasOwnProperty$7$1.call(t,l)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var d=!0;i.set(e,t),i.set(t,e);for(var f=o;++c<u;){var m=e[l=s[c]],h=t[l];if(n)var _=o?n(h,m,l,t,e,i):n(m,h,l,e,t,i);if(!(void 0===_?m===h||a(m,h,r,n,i):_)){d=!1;break}f||(f="constructor"==l)}if(d&&!f){var v=e.constructor,g=t.constructor;v!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof g&&g instanceof g)&&(d=!1)}return i.delete(e),i.delete(t),d}var _equalObjects$1=equalObjects$1,DataView$1=_getNative$1(_root$1,"DataView"),_DataView$1=DataView$1,Promise$1$1=_getNative$1(_root$1,"Promise"),_Promise$1=Promise$1$1,Set$2=_getNative$1(_root$1,"Set"),_Set$1=Set$2,WeakMap$1=_getNative$1(_root$1,"WeakMap"),_WeakMap$1=WeakMap$1,mapTag$2$1="[object Map]",objectTag$1$1="[object Object]",promiseTag$1="[object Promise]",setTag$2$1="[object Set]",weakMapTag$1$1="[object WeakMap]",dataViewTag$2$1="[object DataView]",dataViewCtorString$1=_toSource$1(_DataView$1),mapCtorString$1=_toSource$1(_Map$1),promiseCtorString$1=_toSource$1(_Promise$1),setCtorString$1=_toSource$1(_Set$1),weakMapCtorString$1=_toSource$1(_WeakMap$1),getTag$1=_baseGetTag$1;(_DataView$1&&getTag$1(new _DataView$1(new ArrayBuffer(1)))!=dataViewTag$2$1||_Map$1&&getTag$1(new _Map$1)!=mapTag$2$1||_Promise$1&&getTag$1(_Promise$1.resolve())!=promiseTag$1||_Set$1&&getTag$1(new _Set$1)!=setTag$2$1||_WeakMap$1&&getTag$1(new _WeakMap$1)!=weakMapTag$1$1)&&(getTag$1=function(e){var t=_baseGetTag$1(e),r=t==objectTag$1$1?e.constructor:void 0,n=r?_toSource$1(r):"";if(n)switch(n){case dataViewCtorString$1:return dataViewTag$2$1;case mapCtorString$1:return mapTag$2$1;case promiseCtorString$1:return promiseTag$1;case setCtorString$1:return setTag$2$1;case weakMapCtorString$1:return weakMapTag$1$1}return t});var _getTag$1=getTag$1,COMPARE_PARTIAL_FLAG$3$1=1,argsTag$2$1="[object Arguments]",arrayTag$1$1="[object Array]",objectTag$2$1="[object Object]",objectProto$b$1=Object.prototype,hasOwnProperty$8$1=objectProto$b$1.hasOwnProperty;function baseIsEqualDeep$1(e,t,r,n,a,i){var o=isArray_1$1(e),s=isArray_1$1(t),u=o?arrayTag$1$1:_getTag$1(e),c=s?arrayTag$1$1:_getTag$1(t),l=(u=u==argsTag$2$1?objectTag$2$1:u)==objectTag$2$1,p=(c=c==argsTag$2$1?objectTag$2$1:c)==objectTag$2$1,d=u==c;if(d&&isBuffer_1$1(e)){if(!isBuffer_1$1(t))return!1;o=!0,l=!1}if(d&&!l)return i||(i=new _Stack$1),o||isTypedArray_1$1(e)?_equalArrays$1(e,t,r,n,a,i):_equalByTag$1(e,t,u,r,n,a,i);if(!(r&COMPARE_PARTIAL_FLAG$3$1)){var f=l&&hasOwnProperty$8$1.call(e,"__wrapped__"),m=p&&hasOwnProperty$8$1.call(t,"__wrapped__");if(f||m){var h=f?e.value():e,_=m?t.value():t;return i||(i=new _Stack$1),a(h,_,r,n,i)}}return!!d&&(i||(i=new _Stack$1),_equalObjects$1(e,t,r,n,a,i))}var _baseIsEqualDeep$1=baseIsEqualDeep$1;function baseIsEqual$1(e,t,r,n,a){return e===t||(null==e||null==t||!isObjectLike_1$1(e)&&!isObjectLike_1$1(t)?e!=e&&t!=t:_baseIsEqualDeep$1(e,t,r,n,baseIsEqual$1,a))}var _baseIsEqual$1=baseIsEqual$1;function isEqual$1(e,t){return _baseIsEqual$1(e,t)}var isEqual_1$1=isEqual$1,DEFAULT_OPTIONS$1={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0},openTooltips=[],Tooltip=function(){function e(t,r){var n=this;_classCallCheck(this,e),_defineProperty$4(this,"_events",[]),_defineProperty$4(this,"_setTooltipNodeEvent",(function(e,t,r,a){var i=e.relatedreference||e.toElement||e.relatedTarget;return!!n._tooltipNode.contains(i)&&(n._tooltipNode.addEventListener(e.type,(function r(i){var o=i.relatedreference||i.toElement||i.relatedTarget;n._tooltipNode.removeEventListener(e.type,r),t.contains(o)||n._scheduleHide(t,a.delay,a,i)})),!0)})),r=_objectSpread2({},DEFAULT_OPTIONS$1,{},r),t.jquery&&(t=t[0]),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.reference=t,this.options=r,this._isOpen=!1,this._init()}return _createClass(e,[{key:"show",value:function(){this._show(this.reference,this.options)}},{key:"hide",value:function(){this._hide()}},{key:"dispose",value:function(){this._dispose()}},{key:"toggle",value:function(){return this._isOpen?this.hide():this.show()}},{key:"setClasses",value:function(e){this._classes=e}},{key:"setContent",value:function(e){this.options.title=e,this._tooltipNode&&this._setContent(e,this.options)}},{key:"setOptions",value:function(e){var t=!1,r=e&&e.classes||directive.options.defaultClass;isEqual_1$1(this._classes,r)||(this.setClasses(r),t=!0),e=getOptions(e);var n=!1,a=!1;for(var i in this.options.offset===e.offset&&this.options.placement===e.placement||(n=!0),(this.options.template!==e.template||this.options.trigger!==e.trigger||this.options.container!==e.container||t)&&(a=!0),e)this.options[i]=e[i];if(this._tooltipNode)if(a){var o=this._isOpen;this.dispose(),this._init(),o&&this.show()}else n&&this.popperInstance.update()}},{key:"_init",value:function(){var e="string"==typeof this.options.trigger?this.options.trigger.split(" "):[];this._isDisposed=!1,this._enableDocumentTouch=-1===e.indexOf("manual"),e=e.filter((function(e){return-1!==["click","hover","focus"].indexOf(e)})),this._setEventListeners(this.reference,e,this.options),this.$_originalTitle=this.reference.getAttribute("title"),this.reference.removeAttribute("title"),this.reference.setAttribute("data-original-title",this.$_originalTitle)}},{key:"_create",value:function(e,t){var r=window.document.createElement("div");r.innerHTML=t.trim();var n=r.childNodes[0];return n.id="tooltip_".concat(Math.random().toString(36).substr(2,10)),n.setAttribute("aria-hidden","true"),this.options.autoHide&&-1!==this.options.trigger.indexOf("hover")&&(n.addEventListener("mouseenter",this.hide),n.addEventListener("click",this.hide)),n}},{key:"_setContent",value:function(e,t){var r=this;this.asyncContent=!1,this._applyContent(e,t).then((function(){r.popperInstance.update()}))}},{key:"_applyContent",value:function(e,t){var r=this;return new Promise((function(n,a){var i=t.html,o=r._tooltipNode;if(o){var s=o.querySelector(r.options.innerSelector);if(1===e.nodeType){if(i){for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(e)}}else{if("function"==typeof e){var u=e();return void(u&&"function"==typeof u.then?(r.asyncContent=!0,t.loadingClass&&addClasses(o,t.loadingClass),t.loadingContent&&r._applyContent(t.loadingContent,t),u.then((function(e){return t.loadingClass&&removeClasses(o,t.loadingClass),r._applyContent(e,t)})).then(n).catch(a)):r._applyContent(u,t).then(n).catch(a))}i?s.innerHTML=e:s.innerText=e}n()}}))}},{key:"_show",value:function(e,t){if(t&&"string"==typeof t.container&&!document.querySelector(t.container))return;clearTimeout(this._disposeTimer),delete(t=Object.assign({},t)).offset;var r=!0;this._tooltipNode&&(addClasses(this._tooltipNode,this._classes),r=!1);var n=this._ensureShown(e,t);return r&&this._tooltipNode&&addClasses(this._tooltipNode,this._classes),addClasses(e,["v-tooltip-open"]),n}},{key:"_ensureShown",value:function(e,t){var r=this;if(this._isOpen)return this;if(this._isOpen=!0,openTooltips.push(this),this._tooltipNode)return this._tooltipNode.style.display="",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.enableEventListeners(),this.popperInstance.update(),this.asyncContent&&this._setContent(t.title,t),this;var n=e.getAttribute("title")||t.title;if(!n)return this;var a=this._create(e,t.template);this._tooltipNode=a,e.setAttribute("aria-describedby",a.id);var i=this._findContainer(t.container,e);this._append(a,i);var o=_objectSpread2({},t.popperOptions,{placement:t.placement});return o.modifiers=_objectSpread2({},o.modifiers,{arrow:{element:this.options.arrowSelector}}),t.boundariesElement&&(o.modifiers.preventOverflow={boundariesElement:t.boundariesElement}),this.popperInstance=new Popper(e,a,o),this._setContent(n,t),requestAnimationFrame((function(){!r._isDisposed&&r.popperInstance?(r.popperInstance.update(),requestAnimationFrame((function(){r._isDisposed?r.dispose():r._isOpen&&a.setAttribute("aria-hidden","false")}))):r.dispose()})),this}},{key:"_noLongerOpen",value:function(){var e=openTooltips.indexOf(this);-1!==e&&openTooltips.splice(e,1)}},{key:"_hide",value:function(){var e=this;if(!this._isOpen)return this;this._isOpen=!1,this._noLongerOpen(),this._tooltipNode.style.display="none",this._tooltipNode.setAttribute("aria-hidden","true"),this.popperInstance.disableEventListeners(),clearTimeout(this._disposeTimer);var t=directive.options.disposeTimeout;return null!==t&&(this._disposeTimer=setTimeout((function(){e._tooltipNode&&(e._tooltipNode.removeEventListener("mouseenter",e.hide),e._tooltipNode.removeEventListener("click",e.hide),e._removeTooltipNode())}),t)),removeClasses(this.reference,["v-tooltip-open"]),this}},{key:"_removeTooltipNode",value:function(){if(this._tooltipNode){var e=this._tooltipNode.parentNode;e&&(e.removeChild(this._tooltipNode),this.reference.removeAttribute("aria-describedby")),this._tooltipNode=null}}},{key:"_dispose",value:function(){var e=this;return this._isDisposed=!0,this.reference.removeAttribute("data-original-title"),this.$_originalTitle&&this.reference.setAttribute("title",this.$_originalTitle),this._events.forEach((function(t){var r=t.func,n=t.event;e.reference.removeEventListener(n,r)})),this._events=[],this._tooltipNode?(this._hide(),this._tooltipNode.removeEventListener("mouseenter",this.hide),this._tooltipNode.removeEventListener("click",this.hide),this.popperInstance.destroy(),this.popperInstance.options.removeOnDestroy||this._removeTooltipNode()):this._noLongerOpen(),this}},{key:"_findContainer",value:function(e,t){return"string"==typeof e?e=window.document.querySelector(e):!1===e&&(e=t.parentNode),e}},{key:"_append",value:function(e,t){t.appendChild(e)}},{key:"_setEventListeners",value:function(e,t,r){var n=this,a=[],i=[];t.forEach((function(e){switch(e){case"hover":a.push("mouseenter"),i.push("mouseleave"),n.options.hideOnTargetClick&&i.push("click");break;case"focus":a.push("focus"),i.push("blur"),n.options.hideOnTargetClick&&i.push("click");break;case"click":a.push("click"),i.push("click")}})),a.forEach((function(t){var a=function(t){!0!==n._isOpen&&(t.usedByTooltip=!0,n._scheduleShow(e,r.delay,r,t))};n._events.push({event:t,func:a}),e.addEventListener(t,a)})),i.forEach((function(t){var a=function(t){!0!==t.usedByTooltip&&n._scheduleHide(e,r.delay,r,t)};n._events.push({event:t,func:a}),e.addEventListener(t,a)}))}},{key:"_onDocumentTouch",value:function(e){this._enableDocumentTouch&&this._scheduleHide(this.reference,this.options.delay,this.options,e)}},{key:"_scheduleShow",value:function(e,t,r){var n=this,a=t&&t.show||t||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout((function(){return n._show(e,r)}),a)}},{key:"_scheduleHide",value:function(e,t,r,n){var a=this,i=t&&t.hide||t||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout((function(){if(!1!==a._isOpen&&a._tooltipNode.ownerDocument.body.contains(a._tooltipNode)){if("mouseleave"===n.type)if(a._setTooltipNodeEvent(n,e,t,r))return;a._hide(e,r)}}),i)}}]),e}();"undefined"!=typeof document&&document.addEventListener("touchstart",(function(e){for(var t=0;t<openTooltips.length;t++)openTooltips[t]._onDocumentTouch(e)}),!supportsPassive||{passive:!0,capture:!0});var state={enabled:!0},positions=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"],defaultOptions={defaultPlacement:"top",defaultClass:"vue-tooltip-theme",defaultTargetClass:"has-tooltip",defaultHtml:!0,defaultTemplate:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',defaultArrowSelector:".tooltip-arrow, .tooltip__arrow",defaultInnerSelector:".tooltip-inner, .tooltip__inner",defaultDelay:0,defaultTrigger:"hover focus",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultLoadingClass:"tooltip-loading",defaultLoadingContent:"...",autoHide:!0,defaultHideOnTargetClick:!0,disposeTimeout:5e3,popover:{defaultPlacement:"bottom",defaultClass:"vue-popover-theme",defaultBaseClass:"tooltip popover",defaultWrapperClass:"wrapper",defaultInnerClass:"tooltip-inner popover-inner",defaultArrowClass:"tooltip-arrow popover-arrow",defaultOpenClass:"open",defaultDelay:0,defaultTrigger:"click",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultAutoHide:!0,defaultHandleResize:!0}};function getOptions(e){var t={placement:void 0!==e.placement?e.placement:directive.options.defaultPlacement,delay:void 0!==e.delay?e.delay:directive.options.defaultDelay,html:void 0!==e.html?e.html:directive.options.defaultHtml,template:void 0!==e.template?e.template:directive.options.defaultTemplate,arrowSelector:void 0!==e.arrowSelector?e.arrowSelector:directive.options.defaultArrowSelector,innerSelector:void 0!==e.innerSelector?e.innerSelector:directive.options.defaultInnerSelector,trigger:void 0!==e.trigger?e.trigger:directive.options.defaultTrigger,offset:void 0!==e.offset?e.offset:directive.options.defaultOffset,container:void 0!==e.container?e.container:directive.options.defaultContainer,boundariesElement:void 0!==e.boundariesElement?e.boundariesElement:directive.options.defaultBoundariesElement,autoHide:void 0!==e.autoHide?e.autoHide:directive.options.autoHide,hideOnTargetClick:void 0!==e.hideOnTargetClick?e.hideOnTargetClick:directive.options.defaultHideOnTargetClick,loadingClass:void 0!==e.loadingClass?e.loadingClass:directive.options.defaultLoadingClass,loadingContent:void 0!==e.loadingContent?e.loadingContent:directive.options.defaultLoadingContent,popperOptions:_objectSpread2({},void 0!==e.popperOptions?e.popperOptions:directive.options.defaultPopperOptions)};if(t.offset){var r=_typeof$e(t.offset),n=t.offset;("number"===r||"string"===r&&-1===n.indexOf(","))&&(n="0, ".concat(n)),t.popperOptions.modifiers||(t.popperOptions.modifiers={}),t.popperOptions.modifiers.offset={offset:n}}return t.trigger&&-1!==t.trigger.indexOf("click")&&(t.hideOnTargetClick=!1),t}function getPlacement(e,t){for(var r=e.placement,n=0;n<positions.length;n++){var a=positions[n];t[a]&&(r=a)}return r}function getContent(e){var t=_typeof$e(e);return"string"===t?e:!(!e||"object"!==t)&&e.content}function createTooltip(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=getContent(t),a=void 0!==t.classes?t.classes:directive.options.defaultClass,i=_objectSpread2({title:n},getOptions(_objectSpread2({},t,{placement:getPlacement(t,r)}))),o=e._tooltip=new Tooltip(e,i);o.setClasses(a),o._vueEl=e;var s=void 0!==t.targetClasses?t.targetClasses:directive.options.defaultTargetClass;return e._tooltipTargetClasses=s,addClasses(e,s),o}function destroyTooltip(e){e._tooltip&&(e._tooltip.dispose(),delete e._tooltip,delete e._tooltipOldShow),e._tooltipTargetClasses&&(removeClasses(e,e._tooltipTargetClasses),delete e._tooltipTargetClasses)}function bind(e,t){var r,n=t.value,a=(t.oldValue,t.modifiers),i=getContent(n);i&&state.enabled?(e._tooltip?((r=e._tooltip).setContent(i),r.setOptions(_objectSpread2({},n,{placement:getPlacement(n,a)}))):r=createTooltip(e,n,a),void 0!==n.show&&n.show!==e._tooltipOldShow&&(e._tooltipOldShow=n.show,n.show?r.show():r.hide())):destroyTooltip(e)}var directive={options:defaultOptions,bind:bind,update:bind,unbind:function(e){destroyTooltip(e)}};function addListeners(e){e.addEventListener("click",onClick),e.addEventListener("touchstart",onTouchStart,!!supportsPassive&&{passive:!0})}function removeListeners(e){e.removeEventListener("click",onClick),e.removeEventListener("touchstart",onTouchStart),e.removeEventListener("touchend",onTouchEnd),e.removeEventListener("touchcancel",onTouchCancel)}function onClick(e){var t=e.currentTarget;e.closePopover=!t.$_vclosepopover_touch,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}function onTouchStart(e){if(1===e.changedTouches.length){var t=e.currentTarget;t.$_vclosepopover_touch=!0;var r=e.changedTouches[0];t.$_vclosepopover_touchPoint=r,t.addEventListener("touchend",onTouchEnd),t.addEventListener("touchcancel",onTouchCancel)}}function onTouchEnd(e){var t=e.currentTarget;if(t.$_vclosepopover_touch=!1,1===e.changedTouches.length){var r=e.changedTouches[0],n=t.$_vclosepopover_touchPoint;e.closePopover=Math.abs(r.screenY-n.screenY)<20&&Math.abs(r.screenX-n.screenX)<20,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}}function onTouchCancel(e){e.currentTarget.$_vclosepopover_touch=!1}var vclosepopover={bind:function(e,t){var r=t.value,n=t.modifiers;e.$_closePopoverModifiers=n,(void 0===r||r)&&addListeners(e)},update:function(e,t){var r=t.value,n=t.oldValue,a=t.modifiers;e.$_closePopoverModifiers=a,r!==n&&(void 0===r||r?addListeners(e):removeListeners(e))},unbind:function(e){removeListeners(e)}};function getDefault(e){var t=directive.options.popover[e];return void 0===t?directive.options[e]:t}var isIOS=!1;"undefined"!=typeof window&&"undefined"!=typeof navigator&&(isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);var openPopovers=[],Element=function(){};"undefined"!=typeof window&&(Element=window.Element);var script$1={name:"VPopover",components:{ResizeObserver:ResizeObserver},props:{open:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placement:{type:String,default:function(){return getDefault("defaultPlacement")}},delay:{type:[String,Number,Object],default:function(){return getDefault("defaultDelay")}},offset:{type:[String,Number],default:function(){return getDefault("defaultOffset")}},trigger:{type:String,default:function(){return getDefault("defaultTrigger")}},container:{type:[String,Object,Element,Boolean],default:function(){return getDefault("defaultContainer")}},boundariesElement:{type:[String,Element],default:function(){return getDefault("defaultBoundariesElement")}},popperOptions:{type:Object,default:function(){return getDefault("defaultPopperOptions")}},popoverClass:{type:[String,Array],default:function(){return getDefault("defaultClass")}},popoverBaseClass:{type:[String,Array],default:function(){return directive.options.popover.defaultBaseClass}},popoverInnerClass:{type:[String,Array],default:function(){return directive.options.popover.defaultInnerClass}},popoverWrapperClass:{type:[String,Array],default:function(){return directive.options.popover.defaultWrapperClass}},popoverArrowClass:{type:[String,Array],default:function(){return directive.options.popover.defaultArrowClass}},autoHide:{type:Boolean,default:function(){return directive.options.popover.defaultAutoHide}},handleResize:{type:Boolean,default:function(){return directive.options.popover.defaultHandleResize}},openGroup:{type:String,default:null},openClass:{type:[String,Array],default:function(){return directive.options.popover.defaultOpenClass}}},data:function(){return{isOpen:!1,id:Math.random().toString(36).substr(2,10)}},computed:{cssClass:function(){return _defineProperty$4({},this.openClass,this.isOpen)},popoverId:function(){return"popover_".concat(this.id)}},watch:{open:function(e){e?this.show():this.hide()},disabled:function(e,t){e!==t&&(e?this.hide():this.open&&this.show())},container:function(e){if(this.isOpen&&this.popperInstance){var t=this.$refs.popover,r=this.$refs.trigger,n=this.$_findContainer(this.container,r);if(!n)return void console.warn("No container for popover",this);n.appendChild(t),this.popperInstance.scheduleUpdate()}},trigger:function(e){this.$_removeEventListeners(),this.$_addEventListeners()},placement:function(e){var t=this;this.$_updatePopper((function(){t.popperInstance.options.placement=e}))},offset:"$_restartPopper",boundariesElement:"$_restartPopper",popperOptions:{handler:"$_restartPopper",deep:!0}},created:function(){this.$_isDisposed=!1,this.$_mounted=!1,this.$_events=[],this.$_preventOpen=!1},mounted:function(){var e=this.$refs.popover;e.parentNode&&e.parentNode.removeChild(e),this.$_init(),this.open&&this.show()},deactivated:function(){this.hide()},beforeDestroy:function(){this.dispose()},methods:{show:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.event,n=(t.skipDelay,t.force),a=void 0!==n&&n;!a&&this.disabled||(this.$_scheduleShow(r),this.$emit("show")),this.$emit("update:open",!0),this.$_beingShowed=!0,requestAnimationFrame((function(){e.$_beingShowed=!1}))},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.event;e.skipDelay;this.$_scheduleHide(t),this.$emit("hide"),this.$emit("update:open",!1)},dispose:function(){if(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.popperInstance&&(this.popperInstance.destroy(),!this.popperInstance.options.removeOnDestroy)){var e=this.$refs.popover;e.parentNode&&e.parentNode.removeChild(e)}this.$_mounted=!1,this.popperInstance=null,this.isOpen=!1,this.$emit("dispose")},$_init:function(){-1===this.trigger.indexOf("manual")&&this.$_addEventListeners()},$_show:function(){var e=this,t=this.$refs.trigger,r=this.$refs.popover;if(clearTimeout(this.$_disposeTimer),!this.isOpen){if(this.popperInstance&&(this.isOpen=!0,this.popperInstance.enableEventListeners(),this.popperInstance.scheduleUpdate()),!this.$_mounted){var n=this.$_findContainer(this.container,t);if(!n)return void console.warn("No container for popover",this);n.appendChild(r),this.$_mounted=!0}if(!this.popperInstance){var a=_objectSpread2({},this.popperOptions,{placement:this.placement});if(a.modifiers=_objectSpread2({},a.modifiers,{arrow:_objectSpread2({},a.modifiers&&a.modifiers.arrow,{element:this.$refs.arrow})}),this.offset){var i=this.$_getOffset();a.modifiers.offset=_objectSpread2({},a.modifiers&&a.modifiers.offset,{offset:i})}this.boundariesElement&&(a.modifiers.preventOverflow=_objectSpread2({},a.modifiers&&a.modifiers.preventOverflow,{boundariesElement:this.boundariesElement})),this.popperInstance=new Popper(t,r,a),requestAnimationFrame((function(){if(e.hidden)return e.hidden=!1,void e.$_hide();!e.$_isDisposed&&e.popperInstance?(e.popperInstance.scheduleUpdate(),requestAnimationFrame((function(){if(e.hidden)return e.hidden=!1,void e.$_hide();e.$_isDisposed?e.dispose():e.isOpen=!0}))):e.dispose()}))}var o=this.openGroup;if(o)for(var s,u=0;u<openPopovers.length;u++)(s=openPopovers[u]).openGroup!==o&&(s.hide(),s.$emit("close-group"));openPopovers.push(this),this.$emit("apply-show")}},$_hide:function(){var e=this;if(this.isOpen){var t=openPopovers.indexOf(this);-1!==t&&openPopovers.splice(t,1),this.isOpen=!1,this.popperInstance&&this.popperInstance.disableEventListeners(),clearTimeout(this.$_disposeTimer);var r=directive.options.popover.disposeTimeout||directive.options.disposeTimeout;null!==r&&(this.$_disposeTimer=setTimeout((function(){var t=e.$refs.popover;t&&(t.parentNode&&t.parentNode.removeChild(t),e.$_mounted=!1)}),r)),this.$emit("apply-hide")}},$_findContainer:function(e,t){return"string"==typeof e?e=window.document.querySelector(e):!1===e&&(e=t.parentNode),e},$_getOffset:function(){var e=_typeof$e(this.offset),t=this.offset;return("number"===e||"string"===e&&-1===t.indexOf(","))&&(t="0, ".concat(t)),t},$_addEventListeners:function(){var e=this,t=this.$refs.trigger,r=[],n=[];("string"==typeof this.trigger?this.trigger.split(" ").filter((function(e){return-1!==["click","hover","focus"].indexOf(e)})):[]).forEach((function(e){switch(e){case"hover":r.push("mouseenter"),n.push("mouseleave");break;case"focus":r.push("focus"),n.push("blur");break;case"click":r.push("click"),n.push("click")}})),r.forEach((function(r){var n=function(t){e.isOpen||(t.usedByTooltip=!0,!e.$_preventOpen&&e.show({event:t}),e.hidden=!1)};e.$_events.push({event:r,func:n}),t.addEventListener(r,n)})),n.forEach((function(r){var n=function(t){t.usedByTooltip||(e.hide({event:t}),e.hidden=!0)};e.$_events.push({event:r,func:n}),t.addEventListener(r,n)}))},$_scheduleShow:function(){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(clearTimeout(this.$_scheduleTimer),e)this.$_show();else{var t=parseInt(this.delay&&this.delay.show||this.delay||0);this.$_scheduleTimer=setTimeout(this.$_show.bind(this),t)}},$_scheduleHide:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(clearTimeout(this.$_scheduleTimer),r)this.$_hide();else{var n=parseInt(this.delay&&this.delay.hide||this.delay||0);this.$_scheduleTimer=setTimeout((function(){if(e.isOpen){if(t&&"mouseleave"===t.type)if(e.$_setTooltipNodeEvent(t))return;e.$_hide()}}),n)}},$_setTooltipNodeEvent:function(e){var t=this,r=this.$refs.trigger,n=this.$refs.popover,a=e.relatedreference||e.toElement||e.relatedTarget;return!!n.contains(a)&&(n.addEventListener(e.type,(function a(i){var o=i.relatedreference||i.toElement||i.relatedTarget;n.removeEventListener(e.type,a),r.contains(o)||t.hide({event:i})})),!0)},$_removeEventListeners:function(){var e=this.$refs.trigger;this.$_events.forEach((function(t){var r=t.func,n=t.event;e.removeEventListener(n,r)})),this.$_events=[]},$_updatePopper:function(e){this.popperInstance&&(e(),this.isOpen&&this.popperInstance.scheduleUpdate())},$_restartPopper:function(){if(this.popperInstance){var e=this.isOpen;this.dispose(),this.$_isDisposed=!1,this.$_init(),e&&this.show({skipDelay:!0,force:!0})}},$_handleGlobalClose:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$_beingShowed||(this.hide({event:e}),e.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),r&&(this.$_preventOpen=!0,setTimeout((function(){t.$_preventOpen=!1}),300)))},$_handleResize:function(){this.isOpen&&this.popperInstance&&(this.popperInstance.scheduleUpdate(),this.$emit("resize"))}}};function handleGlobalClick(e){handleGlobalClose(e)}function handleGlobalTouchend(e){handleGlobalClose(e,!0)}function handleGlobalClose(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(r){var n=openPopovers[r];if(n.$refs.popover){var a=n.$refs.popover.contains(e.target);requestAnimationFrame((function(){(e.closeAllPopover||e.closePopover&&a||n.autoHide&&!a)&&n.$_handleGlobalClose(e,t)}))}},n=0;n<openPopovers.length;n++)r(n)}function normalizeComponent$1(e,t,r,n,a,i,o,s,u,c){"boolean"!=typeof o&&(u=s,s=o,o=!1);const l="function"==typeof r?r.options:r;let p;if(e&&e.render&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,a&&(l.functional=!0)),n&&(l._scopeId=n),i?(p=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,u(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},l._ssrRegister=p):t&&(p=o?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),p)if(l.functional){const e=l.render;l.render=function(t,r){return p.call(r),e(t,r)}}else{const e=l.beforeCreate;l.beforeCreate=e?[].concat(e,p):[p]}return r}"undefined"!=typeof document&&"undefined"!=typeof window&&(isIOS?document.addEventListener("touchend",handleGlobalTouchend,!supportsPassive||{passive:!0,capture:!0}):window.addEventListener("click",handleGlobalClick,!0));var __vue_script__$b=script$1,__vue_render__$b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"v-popover",class:e.cssClass},[r("div",{ref:"trigger",staticClass:"trigger",staticStyle:{display:"inline-block"},attrs:{"aria-describedby":e.popoverId,tabindex:-1!==e.trigger.indexOf("focus")?0:void 0}},[e._t("default")],2),e._v(" "),r("div",{ref:"popover",class:[e.popoverBaseClass,e.popoverClass,e.cssClass],style:{visibility:e.isOpen?"visible":"hidden"},attrs:{id:e.popoverId,"aria-hidden":e.isOpen?"false":"true",tabindex:e.autoHide?0:void 0},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;e.autoHide&&e.hide()}}},[r("div",{class:e.popoverWrapperClass},[r("div",{ref:"inner",class:e.popoverInnerClass,staticStyle:{position:"relative"}},[r("div",[e._t("popover")],2),e._v(" "),e.handleResize?r("ResizeObserver",{on:{notify:e.$_handleResize}}):e._e()],1),e._v(" "),r("div",{ref:"arrow",class:e.popoverArrowClass})])])])},__vue_staticRenderFns__$b=[];__vue_render__$b._withStripped=!0;var __vue_inject_styles__$b=void 0,__vue_scope_id__$b=void 0,__vue_module_identifier__$b=void 0,__vue_is_functional_template__$b=!1,__vue_component__$b=normalizeComponent$1({render:__vue_render__$b,staticRenderFns:__vue_staticRenderFns__$b},__vue_inject_styles__$b,__vue_script__$b,__vue_scope_id__$b,__vue_is_functional_template__$b,__vue_module_identifier__$b,!1,void 0,void 0,void 0),defineProperty$2=function(){try{var e=_getNative$1(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),_defineProperty$1$1=defineProperty$2;function baseAssignValue(e,t,r){"__proto__"==t&&_defineProperty$1$1?_defineProperty$1$1(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var _baseAssignValue=baseAssignValue;function assignMergeValue(e,t,r){(void 0===r||eq_1$1(e[t],r))&&(void 0!==r||t in e)||_baseAssignValue(e,t,r)}var _assignMergeValue=assignMergeValue;function createBaseFor(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var u=o[e?s:++a];if(!1===r(i[u],u,i))break}return t}}var _createBaseFor=createBaseFor,baseFor=_createBaseFor(),_baseFor=baseFor,_cloneBuffer=createCommonjsModule$1((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,a=n&&n.exports===r?_root$1.Buffer:void 0,i=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=i?i(r):new e.constructor(r);return e.copy(n),n}}));function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new _Uint8Array$1(t).set(new _Uint8Array$1(e)),t}var _cloneArrayBuffer=cloneArrayBuffer;function cloneTypedArray(e,t){var r=t?_cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var _cloneTypedArray=cloneTypedArray;function copyArray(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var _copyArray=copyArray,objectCreate=Object.create,baseCreate=function(){function e(){}return function(t){if(!isObject_1$1(t))return{};if(objectCreate)return objectCreate(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),_baseCreate=baseCreate,getPrototype=_overArg$1(Object.getPrototypeOf,Object),_getPrototype=getPrototype;function initCloneObject(e){return"function"!=typeof e.constructor||_isPrototype$1(e)?{}:_baseCreate(_getPrototype(e))}var _initCloneObject=initCloneObject;function isArrayLikeObject$1(e){return isObjectLike_1$1(e)&&isArrayLike_1$1(e)}var isArrayLikeObject_1$1=isArrayLikeObject$1,objectTag$3$1="[object Object]",funcProto$2$1=Function.prototype,objectProto$c$1=Object.prototype,funcToString$2$1=funcProto$2$1.toString,hasOwnProperty$9$1=objectProto$c$1.hasOwnProperty,objectCtorString=funcToString$2$1.call(Object);function isPlainObject$1(e){if(!isObjectLike_1$1(e)||_baseGetTag$1(e)!=objectTag$3$1)return!1;var t=_getPrototype(e);if(null===t)return!0;var r=hasOwnProperty$9$1.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&funcToString$2$1.call(r)==objectCtorString}var isPlainObject_1=isPlainObject$1;function safeGet(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var _safeGet=safeGet,objectProto$d=Object.prototype,hasOwnProperty$a$1=objectProto$d.hasOwnProperty;function assignValue(e,t,r){var n=e[t];hasOwnProperty$a$1.call(e,t)&&eq_1$1(n,r)&&(void 0!==r||t in e)||_baseAssignValue(e,t,r)}var _assignValue=assignValue;function copyObject(e,t,r,n){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],u=n?n(r[s],e[s],s,r,e):void 0;void 0===u&&(u=e[s]),a?_baseAssignValue(r,s,u):_assignValue(r,s,u)}return r}var _copyObject=copyObject;function nativeKeysIn(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}var _nativeKeysIn=nativeKeysIn,objectProto$e=Object.prototype,hasOwnProperty$b=objectProto$e.hasOwnProperty;function baseKeysIn(e){if(!isObject_1$1(e))return _nativeKeysIn(e);var t=_isPrototype$1(e),r=[];for(var n in e)("constructor"!=n||!t&&hasOwnProperty$b.call(e,n))&&r.push(n);return r}var _baseKeysIn=baseKeysIn;function keysIn$1(e){return isArrayLike_1$1(e)?_arrayLikeKeys$1(e,!0):_baseKeysIn(e)}var keysIn_1=keysIn$1;function toPlainObject(e){return _copyObject(e,keysIn_1(e))}var toPlainObject_1=toPlainObject;function baseMergeDeep(e,t,r,n,a,i,o){var s=_safeGet(e,r),u=_safeGet(t,r),c=o.get(u);if(c)_assignMergeValue(e,r,c);else{var l=i?i(s,u,r+"",e,t,o):void 0,p=void 0===l;if(p){var d=isArray_1$1(u),f=!d&&isBuffer_1$1(u),m=!d&&!f&&isTypedArray_1$1(u);l=u,d||f||m?isArray_1$1(s)?l=s:isArrayLikeObject_1$1(s)?l=_copyArray(s):f?(p=!1,l=_cloneBuffer(u,!0)):m?(p=!1,l=_cloneTypedArray(u,!0)):l=[]:isPlainObject_1(u)||isArguments_1$1(u)?(l=s,isArguments_1$1(s)?l=toPlainObject_1(s):isObject_1$1(s)&&!isFunction_1$1(s)||(l=_initCloneObject(u))):p=!1}p&&(o.set(u,l),a(l,u,n,i,o),o.delete(u)),_assignMergeValue(e,r,l)}}var _baseMergeDeep=baseMergeDeep;function baseMerge(e,t,r,n,a){e!==t&&_baseFor(t,(function(i,o){if(a||(a=new _Stack$1),isObject_1$1(i))_baseMergeDeep(e,t,o,r,baseMerge,n,a);else{var s=n?n(_safeGet(e,o),i,o+"",e,t,a):void 0;void 0===s&&(s=i),_assignMergeValue(e,o,s)}}),keysIn_1)}var _baseMerge=baseMerge;function identity$2(e){return e}var identity_1$1=identity$2;function apply$2(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var _apply$2=apply$2,nativeMax$1=Math.max;function overRest$1(e,t,r){return t=nativeMax$1(void 0===t?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=nativeMax$1(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),_apply$2(e,this,s)}}var _overRest$1=overRest$1;function constant$1(e){return function(){return e}}var constant_1$1=constant$1,baseSetToString$1=_defineProperty$1$1?function(e,t){return _defineProperty$1$1(e,"toString",{configurable:!0,enumerable:!1,value:constant_1$1(t),writable:!0})}:identity_1$1,_baseSetToString$1=baseSetToString$1,HOT_COUNT$1=800,HOT_SPAN$1=16,nativeNow$1=Date.now;function shortOut$1(e){var t=0,r=0;return function(){var n=nativeNow$1(),a=HOT_SPAN$1-(n-r);if(r=n,a>0){if(++t>=HOT_COUNT$1)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _shortOut$1=shortOut$1,setToString$1=_shortOut$1(_baseSetToString$1),_setToString$1=setToString$1;function baseRest$1(e,t){return _setToString$1(_overRest$1(e,t,identity_1$1),e+"")}var _baseRest$1=baseRest$1;function isIterateeCall(e,t,r){if(!isObject_1$1(r))return!1;var n=typeof t;return!!("number"==n?isArrayLike_1$1(r)&&_isIndex$1(t,r.length):"string"==n&&t in r)&&eq_1$1(r[t],e)}var _isIterateeCall=isIterateeCall;function createAssigner(e){return _baseRest$1((function(t,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(i=e.length>3&&"function"==typeof i?(a--,i):void 0,o&&_isIterateeCall(r[0],r[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++n<a;){var s=r[n];s&&e(t,s,n,i)}return t}))}var _createAssigner=createAssigner,merge$1=_createAssigner((function(e,t,r){_baseMerge(e,t,r)})),merge_1=merge$1;function styleInject(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===r&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var css=".resize-observer[data-v-b329ee4c]{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;border:none;background-color:transparent;pointer-events:none;display:block;overflow:hidden;opacity:0}.resize-observer[data-v-b329ee4c] object{display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1}";function install$1(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!install$1.installed){install$1.installed=!0;var r={};merge_1(r,defaultOptions,t),plugin$1.options=r,directive.options=r,e.directive("tooltip",directive),e.directive("close-popover",vclosepopover),e.component("v-popover",__vue_component__$b)}}styleInject(css);var plugin$1={install:install$1,get enabled(){return state.enabled},set enabled(e){state.enabled=e}},GlobalVue$1=null;"undefined"!=typeof window?GlobalVue$1=window.Vue:"undefined"!=typeof global&&(GlobalVue$1=global.Vue),GlobalVue$1&&GlobalVue$1.use(plugin$1),Vue.use(plugin$1);var VariableChooser=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alignLeft=POPOVER_ALIGN.LEFT,t}return __extends(t,e),Object.defineProperty(t.prototype,"variablesByCategory",{get:function(){var e=this;return this.availableVariables.reduce((function(t,r){var n=r.category,a=t.find((function(e){return e.label===n})),i=__assign(__assign({},r),{selected:e.isVariableSelected(r.identifier)});return void 0!==a?a.variables.push(i):t.push({label:n,variables:[i]}),t}),[])},enumerable:!0,configurable:!0}),t.prototype.makeValueReadable=function(e){return JSON.stringify(e)},t.prototype.isVariableSelected=function(e){return this.isMultiple&&-1!=this.selectedVariables.indexOf(e)},t.prototype.close=function(){this.$emit("closed")},t.prototype.chooseVariable=function(e){this.$emit("input",e)},t.prototype.addAdvancedVariable=function(){this.$emit("addAdvancedVariable")},__decorate([Prop({default:!1})],t.prototype,"isMultiple",void 0),__decorate([Prop({default:function(){return[]}})],t.prototype,"selectedVariables",void 0),__decorate([Prop({default:function(){return[]}})],t.prototype,"availableVariables",void 0),__decorate([Prop({default:!1})],t.prototype,"isOpened",void 0),t=__decorate([Component({name:"variable-chooser",components:{Popover:__vue_component__$4}})],t)}(Vue);const __vue_script__$c=VariableChooser;var __vue_render__$c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("popover",{staticClass:"widget-variable-chooser",attrs:{visible:e.isOpened,align:e.alignLeft,bottom:""},on:{closed:e.close}},[r("div",{staticClass:"widget-variable-chooser__options-container"},[e._l(e.variablesByCategory,(function(t){return r("div",{key:t.label,staticClass:"widget-variable-chooser__options-section"},[t.label?r("div",{staticClass:"widget-variable-chooser__option-section-title"},[e._v("\n        "+e._s(t.label)+"\n      ")]):e._e(),e._v(" "),e._l(t.variables,(function(t){return r("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{targetClasses:"has-weaverbird__tooltip",classes:"weaverbird__tooltip",content:e.makeValueReadable(t.value),placement:"bottom-center"},expression:"{\n          targetClasses: 'has-weaverbird__tooltip',\n          classes: 'weaverbird__tooltip',\n          content: makeValueReadable(availableVariable.value),\n          placement: 'bottom-center',\n        }"}],key:t.identifier,staticClass:"widget-variable-chooser__option",class:{"widget-variable-chooser__option--selected":t.selected},on:{click:function(r){return e.chooseVariable(t.identifier)}}},[r("div",{staticClass:"widget-variable-chooser__option-container"},[e.isMultiple?r("span",{staticClass:"widget-variable-chooser__option-toggle"}):e._e(),e._v(" "),r("span",{staticClass:"widget-variable-chooser__option-name"},[e._v(e._s(t.label))])]),e._v(" "),r("span",{staticClass:"widget-variable-chooser__option-value"},[e._v(e._s(t.value))])])}))],2)})),e._v(" "),r("div",{staticClass:"widget-advanced-variable",on:{click:e.addAdvancedVariable}},[e._v("\n      Advanced variable\n    ")])],2)])},__vue_staticRenderFns__$c=[];__vue_render__$c._withStripped=!0;const __vue_inject_styles__$c=void 0,__vue_scope_id__$c="data-v-f689255a",__vue_module_identifier__$c=void 0,__vue_is_functional_template__$c=!1,__vue_component__$c=normalizeComponent({render:__vue_render__$c,staticRenderFns:__vue_staticRenderFns__$c},void 0,__vue_script__$c,"data-v-f689255a",!1,void 0,!1,void 0,void 0,void 0);var DataViewer=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeActionMenuColumnName="",t.activeDataTypeMenuColumnName="",t.activeVariablesMenuColumnName="",t.filterValue="",t}return __extends(t,e),Object.defineProperty(t.prototype,"formattedColumns",{get:function(){var e=this;return this.columnHeaders.map((function(t){return{name:t.name,type:t.type||"undefined",isActionMenuOpened:e.activeActionMenuColumnName===t.name,isDataTypeMenuOpened:e.activeDataTypeMenuColumnName===t.name,class:{"data-viewer__header-cell":!0,"data-viewer__header-cell--active":e.isSelected(t.name)}}}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnNames",{get:function(){return this.formattedColumns.map((function(e){return e.name}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconClass",{get:function(){return this.isSupported("convert")?{"data-viewer__header-icon":!0,"data-viewer__header-icon--active":!0}:{"data-viewer__header-icon":!0,"data-viewer__header-icon--active":!1}},enumerable:!0,configurable:!0}),t.prototype.setFilterWithVariable=function(e,t){var r={name:"filter",condition:{column:t,operator:"eq",value:this.variableDelimiters.start+" "+e+" "+this.variableDelimiters.end}};if(this.pipeline){var n=__spread(this.pipeline),a=this.computedActiveStepIndex+1;n.splice(a,0,r),this.setPipeline({pipeline:n}),this.selectStep({index:a})}},t.prototype.openStepForm=function(e,t){void 0===t&&(t={}),this.createStepForm({stepName:e,stepFormDefaults:t})},t.prototype.isSelected=function(e){return this.selectedColumns.includes(e)},t.prototype.isSupported=function(e){return getTranslator(this.translator).supports(e)},t.prototype.getIconType=function(e){switch(e){case"string":return"ABC";case"integer":case"long":return"123";case"float":return"1.2";case"date":return'<i class="fas fa-calendar-alt" aria-hidden="true"></i>';case"boolean":return'<i class="fas fa-check" aria-hidden="true"></i>';case"object":return"{ }";default:return"???"}},t.prototype.openDataTypeMenu=function(e){this.activeDataTypeMenuColumnName=e,this.setSelectedColumns({column:e})},t.prototype.closeDataTypeMenu=function(){this.activeDataTypeMenuColumnName=""},t.prototype.openMenu=function(e){this.activeActionMenuColumnName=e,this.setSelectedColumns({column:e})},t.prototype.closeMenu=function(){this.activeActionMenuColumnName=""},t.prototype.openVariablesMenu=function(e){this.activeVariablesMenuColumnName=e,this.setSelectedColumns({column:e})},t.prototype.closeVariablesMenu=function(e){this.activeVariablesMenuColumnName=""},t.prototype.onSelectedColumnsChange=function(e,t){var r=lodash.differenceWith(e,t,lodash.isEqual);1===r.length&&r[0].name===this.activeActionMenuColumnName||(this.closeMenu(),this.closeDataTypeMenu())},__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"dataset",void 0),__decorate([VQBModule.State],t.prototype,"isLoading",void 0),__decorate([VQBModule.State],t.prototype,"pagesize",void 0),__decorate([VQBModule.State],t.prototype,"selectedColumns",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([VQBModule.Getter("isDatasetEmpty")],t.prototype,"isEmpty",void 0),__decorate([VQBModule.Getter],t.prototype,"isDatasetComplete",void 0),__decorate([VQBModule.Getter],t.prototype,"computedActiveStepIndex",void 0),__decorate([VQBModule.Getter],t.prototype,"columnHeaders",void 0),__decorate([VQBModule.Getter],t.prototype,"translator",void 0),__decorate([VQBModule.Getter],t.prototype,"pipeline",void 0),__decorate([VQBModule.Mutation],t.prototype,"createStepForm",void 0),__decorate([VQBModule.Mutation],t.prototype,"toggleColumnSelection",void 0),__decorate([VQBModule.Mutation],t.prototype,"setSelectedColumns",void 0),__decorate([VQBModule.Action],t.prototype,"selectStep",void 0),__decorate([VQBModule.Mutation],t.prototype,"setPipeline",void 0),__decorate([Watch("columnHeaders")],t.prototype,"onSelectedColumnsChange",null),t=__decorate([Component({name:"data-viewer",components:{ActionMenu:__vue_component__$5,ActionToolbar:__vue_component__$8,DataTypesMenu:__vue_component__$9,DataViewerCell:__vue_component__$a,Pagination:__vue_component__$1,VariableChooser:__vue_component__$c},directives:{resizable:resizable}})],t)}(Vue);const __vue_script__$d=DataViewer;var __vue_render__$d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.pipeline?r("div",{staticClass:"data-viewer"},[r("ActionToolbar",{on:{actionClicked:e.openStepForm}}),e._v(" "),e.isLoading.dataset?r("div",{staticClass:"data-viewer-loader-spinner"}):e._e(),e._v(" "),e.isEmpty||e.isLoading.dataset?e.isEmpty?r("div",[e._v("No data available")]):e._e():r("div",{staticClass:"data-viewer-container"},[r("div",{staticClass:"data-viewer-table-container"},[r("table",{directives:[{name:"resizable",rawName:"v-resizable",value:{columns:e.columnNames,classes:{table:"data-viewer-table--resizable",handler:"data-viewer__header-cell--resizable"}},expression:"{\n          columns: columnNames,\n          classes: {\n            table: 'data-viewer-table--resizable',\n            handler: 'data-viewer__header-cell--resizable',\n          },\n        }"}],staticClass:"data-viewer-table",attrs:{"aria-hidden":"true"}},[r("thead",{staticClass:"data-viewer__header"},[r("tr",e._l(e.formattedColumns,(function(t){return r("td",{key:t.name,class:t.class,on:{click:function(r){return e.toggleColumnSelection({column:t.name})}}},[t.type?r("span",{class:e.iconClass,on:{click:function(r){return r.stopPropagation(),e.openDataTypeMenu(t.name)}}},[r("DataTypesMenu",{attrs:{"column-name":t.name,visible:e.isSupported("convert")&&t.isDataTypeMenuOpened},on:{actionClicked:e.openStepForm,closed:e.closeDataTypeMenu}}),e._v(" "),r("span",{domProps:{innerHTML:e._s(e.getIconType(t.type))}})],1):e._e(),e._v(" "),r("span",{staticClass:"data-viewer__header-label"},[e._v(e._s(t.name))]),e._v(" "),r("span",{staticClass:"data-viewer__header-action-filter",on:{click:function(r){return r.stopPropagation(),e.openVariablesMenu(t.name)}}},[r("VariableChooser",{attrs:{"available-variables":e.availableVariables,"is-opened":e.activeVariablesMenuColumnName==t.name,value:e.filterValue},on:{input:function(r){return e.setFilterWithVariable(r,t.name)},closed:e.closeVariablesMenu}}),e._v(" "),r("i",{staticClass:"fas fa-filter",attrs:{"aria-hidden":"true"}})],1),e._v(" "),r("span",{staticClass:"data-viewer__header-action",on:{click:function(r){return r.stopPropagation(),e.openMenu(t.name)}}},[r("ActionMenu",{attrs:{"column-name":t.name,visible:t.isActionMenuOpened},on:{closed:e.closeMenu,actionClicked:e.openStepForm}}),e._v(" "),r("i",{staticClass:"fas fa-angle-down",attrs:{"aria-hidden":"true"}})],1)])})),0)]),e._v(" "),r("tbody",{staticClass:"data-viewer__body"},e._l(e.dataset.data,(function(t,n){return r("tr",{key:n,staticClass:"data-viewer__row"},e._l(t,(function(t,n){return r("DataViewerCell",{key:n,attrs:{isSelected:e.isSelected(e.columnHeaders[n].name),value:t}})})),1)})),0)])]),e._v(" "),r("Pagination")],1)],1):r("div",{staticClass:"data-viewer data-viewer--no-pipeline"})},__vue_staticRenderFns__$d=[];__vue_render__$d._withStripped=!0;const __vue_inject_styles__$d=void 0,__vue_scope_id__$d="data-v-050e8a37",__vue_module_identifier__$d=void 0,__vue_is_functional_template__$d=!1,__vue_component__$d=normalizeComponent({render:__vue_render__$d,staticRenderFns:__vue_staticRenderFns__$d},void 0,__vue_script__$d,"data-v-050e8a37",!1,void 0,!1,void 0,void 0,void 0);var ConditionsGroup=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"operator",{get:function(){return this.conditionsTree.operator},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"conditions",{get:function(){return this.conditionsTree.conditions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this.conditionsTree.groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasMultipleRows",{get:function(){return this.conditions.length>1||this.groups&&this.groups.length>0},enumerable:!0,configurable:!0}),t.prototype.addGroup=function(){var e=this.conditionsTree.groups||[];e.push({operator:"and",conditions:[this.defaultValue],groups:[]});var t=__assign(__assign({},this.conditionsTree),{groups:e});this.setOperatorIfNecessaryAndUpdateConditionTree(t)},t.prototype.addRow=function(){var e=__assign(__assign({},this.conditionsTree),{conditions:__spread(this.conditions,[this.defaultValue])});this.setOperatorIfNecessaryAndUpdateConditionTree(e)},t.prototype.deleteGroup=function(e){var t=__spread(this.groups);t.splice(e,1);var r=__assign(__assign({},this.conditionsTree),{groups:t});this.emitUpdatedConditionTree(r),this.resetOperatorIfNecessary()},t.prototype.deleteRow=function(e){var t=__spread(this.conditions);t.splice(e,1);var r=__assign(__assign({},this.conditionsTree),{conditions:t});this.emitUpdatedConditionTree(r),this.resetOperatorIfNecessary()},t.prototype.isLastRow=function(e){var t=this.groups&&this.groups.length,r=e===this.conditions.length-1;return!t&&r},t.prototype.isLastGroup=function(e){return e===this.groups.length-1},t.prototype.resetOperatorIfNecessary=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,this.$nextTick()];case 1:return t.sent(),1===this.conditions.length&&0===this.groups.length&&(e=__assign(__assign({},this.conditionsTree),{operator:""}),this.emitUpdatedConditionTree(e)),[2]}}))}))},t.prototype.setOperatorIfNecessaryAndUpdateConditionTree=function(e){""===this.operator&&(e=__assign(__assign({},e),{operator:"and"})),this.emitUpdatedConditionTree(e)},t.prototype.updateCondition=function(e){var t=this;return function(r){var n=__spread(t.conditions);n[e]=r;var a=__assign(__assign({},t.conditionsTree),{conditions:n});t.emitUpdatedConditionTree(a)}},t.prototype.updateGroup=function(e,t){var r=__spread(this.groups);r[e]=t;var n=__assign(__assign({},this.conditionsTree),{groups:r});this.emitUpdatedConditionTree(n)},t.prototype.switchOperator=function(e){var t=__assign(__assign({},this.conditionsTree),{operator:e});this.emitUpdatedConditionTree(t)},t.prototype.emitUpdatedConditionTree=function(e){this.$emit("conditionsTreeUpdated",e)},__decorate([Prop({type:Object,default:function(){return{operator:"",conditions:[],groups:[]}}})],t.prototype,"conditionsTree",void 0),__decorate([Prop({required:!0})],t.prototype,"defaultValue",void 0),__decorate([Prop({type:Boolean,default:!1})],t.prototype,"isRootGroup",void 0),__decorate([Prop({type:String,default:""})],t.prototype,"dataPath",void 0),t=__decorate([Component({name:"ConditionsGroup"})],t)}(Vue);const __vue_script__$e=ConditionsGroup;var __vue_render__$e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"conditions-group",class:{"conditions-group--with-switch":e.hasMultipleRows||!e.isRootGroup}},[e.hasMultipleRows||!e.isRootGroup?r("div",{staticClass:"conditions-group__switch"},[r("div",{staticClass:"condition-group__switch-link"}),e._v(" "),r("div",{staticClass:"conditions-group__switch-buttons"},[r("div",{staticClass:"conditions-group__switch-button conditions-group__switch-button--and",class:{"conditions-group__switch-button--active":"and"===e.operator},on:{click:function(t){return e.switchOperator("and")}}},[e._v("\n        and\n      ")]),e._v(" "),r("div",{staticClass:"conditions-group__switch-button conditions-group__switch-button--or",class:{"conditions-group__switch-button--active":"or"===e.operator},on:{click:function(t){return e.switchOperator("or")}}},[e._v("\n        or\n      ")])])]):e._e(),e._v(" "),e._l(e.conditions,(function(t,n){return r("div",{key:"row"+n,staticClass:"condition-row"},[e.hasMultipleRows||!e.isRootGroup?r("div",{staticClass:"condition-row__link",class:{"condition-row__link--last":e.isLastRow(n)}},[r("div",{staticClass:"condition-row__link__top"}),e._v(" "),r("div",{staticClass:"condition-row__link__middle"}),e._v(" "),r("div",{staticClass:"condition-row__link__bottom"})]):e._e(),e._v(" "),r("div",{staticClass:"condition-row__content"},[e._t("default",null,{dataPath:""!=e.operator?e.dataPath+"."+e.operator+"["+n+"]":e.dataPath,condition:t,updateCondition:e.updateCondition(n)})],2),e._v(" "),e.hasMultipleRows?r("div",{staticClass:"condition-row__delete",attrs:{role:"button","aria-label":"Delete this group"},on:{click:function(t){return e.deleteRow(n)}}},[r("i",{staticClass:" far fa-trash-alt",attrs:{"aria-hidden":"true"}})]):e._e()])})),e._v(" "),e._l(e.groups,(function(t,n){return r("div",{key:"group"+n,staticClass:"conditions-group__child-group"},[r("div",{staticClass:"conditions-group__link",class:{"conditions-group__link--last":e.isLastGroup(n)}},[r("div",{staticClass:"conditions-group__link__top"}),e._v(" "),r("div",{staticClass:"conditions-group__link__middle"}),e._v(" "),r("div",{staticClass:"conditions-group__link__bottom"})]),e._v(" "),r("ConditionsGroup",{attrs:{"conditions-tree":t,dataPath:e.dataPath+"."+e.operator+"["+(n+e.conditions.length)+"]",defaultValue:e.defaultValue},on:{conditionsTreeUpdated:function(t){return e.updateGroup(n,t)}},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("default",null,null,t)]}}],null,!0)}),e._v(" "),r("div",{staticClass:"conditions-group__delete",attrs:{role:"button","aria-label":"Delete this group"},on:{click:function(t){return e.deleteGroup(n)}}},[r("i",{staticClass:" far fa-trash-alt",attrs:{"aria-hidden":"true"}})])],1)})),e._v(" "),r("div",{staticClass:"conditions-group__action-buttons"},[e.hasMultipleRows||!e.isRootGroup?r("div",{staticClass:"action-buttons__link"},[r("div",{staticClass:"action-buttons__link__top"}),e._v(" "),r("div",{staticClass:"action-buttons__link__middle"})]):e._e(),e._v(" "),r("div",{staticClass:"conditions-group__add-button conditions-group__add-button--condition",on:{click:e.addRow}},[e._v("\n      Add condition\n    ")]),e._v(" "),e.isRootGroup?r("div",{staticClass:"conditions-group__add-button conditions-group__add-button--group",on:{click:e.addGroup}},[e._v("\n      Add group\n    ")]):e._e()])],2)},__vue_staticRenderFns__$e=[];__vue_render__$e._withStripped=!0;const __vue_inject_styles__$e=void 0,__vue_scope_id__$e=void 0,__vue_module_identifier__$e=void 0,__vue_is_functional_template__$e=!1,__vue_component__$e=normalizeComponent({render:__vue_render__$e,staticRenderFns:__vue_staticRenderFns__$e},void 0,__vue_script__$e,void 0,!1,void 0,!1,void 0,void 0,void 0);var ConditionsEditor=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.updateConditionsTree=function(e){this.$emit("conditionsTreeUpdated",e)},__decorate([Prop({type:Object,default:function(){}})],t.prototype,"conditionsTree",void 0),__decorate([Prop({required:!0})],t.prototype,"defaultValue",void 0),t=__decorate([Component({name:"ConditionsEditor",components:{ConditionsGroup:__vue_component__$e}})],t)}(Vue);const __vue_script__$f=ConditionsEditor;var __vue_render__$f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"conditions-editor"},[r("ConditionsGroup",{attrs:{"data-path":".condition",conditionsTree:e.conditionsTree,defaultValue:e.defaultValue,isRootGroup:!0},on:{conditionsTreeUpdated:e.updateConditionsTree},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("default",[r("input",{domProps:{value:t.condition},on:{input:function(e){return t.updateCondition(e.target.value)}}})],null,t)]}}],null,!0)})],1)},__vue_staticRenderFns__$f=[];__vue_render__$f._withStripped=!0;const __vue_inject_styles__$f=void 0,__vue_scope_id__$f="data-v-4d8ec111",__vue_module_identifier__$f=void 0,__vue_is_functional_template__$f=!1,__vue_component__$f=normalizeComponent({render:__vue_render__$f,staticRenderFns:__vue_staticRenderFns__$f},void 0,__vue_script__$f,"data-v-4d8ec111",!1,void 0,!1,void 0,void 0,void 0);function isFilterCombo(e){return!!e&&(isFilterComboAnd(e)||isFilterComboOr(e))}function buildConditionsEditorTree(e){var t=[],r=[];if(isFilterCombo(e)){var n=void 0,a=e;return(isFilterComboAnd(a)?a[n="and"]:a[n="or"]).forEach((function(e){return isFilterCombo(e)?r.push(buildConditionsEditorTree(e)):t.push(e)})),{operator:n,conditions:t,groups:r}}return{operator:"",conditions:[e],groups:[]}}function buildFilterStepTree(e){var t,r,n=[];return e.conditions.forEach((function(e){return n.push(e)})),e.groups&&e.groups.length>0&&e.groups.forEach((function(t,r){return n.push(buildFilterStepTree(e.groups[r]))})),e.operator?((t={})[e.operator]=n,r=t):r=e.conditions[0],r}function castFilterStepTreeValue(e,t){var r,n,a,i;if(isFilterCombo(e)){if(isFilterComboOr(e))try{for(var o=__values(e.or),s=o.next();!s.done;s=o.next()){castFilterStepTreeValue(s.value,t)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}if(isFilterComboAnd(e))try{for(var u=__values(e.and),c=u.next();!c.done;c=u.next()){castFilterStepTreeValue(c.value,t)}}catch(e){a={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(a)throw a.error}}return e}var l=t[e.column];return void 0!==l&&(Array.isArray(e.value)?e.value=e.value.map((function(e){return castFromString(e,l)})):e.value=castFromString(e.value,l)),e}var FormWidget=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"error",{get:function(){var e=this;return null===this.errors||void 0===this.errors?void 0:this.errors.find((function(t){return t.dataPath==e.dataPath}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"messageError",{get:function(){return void 0!==this.error?this.error.message:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"messageWarning",{get:function(){return this.warning?this.warning:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toggleClassErrorWarning",{get:function(){return{"field--error":void 0!==this.messageError&&null!==this.messageError,"field--warning":!(void 0!==this.messageError&&null!==this.messageError)&&void 0!==this.warning&&null!==this.warning&&""!==this.warning}},enumerable:!0,configurable:!0}),__decorate([Prop({type:String})],t.prototype,"dataPath",void 0),__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),__decorate([Prop({type:String,default:function(){return""}})],t.prototype,"warning",void 0),t=__decorate([Component({name:"form-widget"})],t)}(Vue);const __vue_script__$g=FormWidget,__vue_inject_styles__$g=void 0,__vue_scope_id__$g=void 0,__vue_module_identifier__$g=void 0,__vue_is_functional_template__$g=void 0,__vue_component__$g=normalizeComponent({},void 0,__vue_script__$g,void 0,void 0,void 0,!1,void 0,void 0,void 0);function extractVariableIdentifier(e,t){if("string"==typeof e&&t){var r=e.trim();if(r.startsWith(t.start)&&r.endsWith(t.end)){var n=r;return n=(n=(n=n.slice(t.start.length,n.length-1)).slice(0,n.length-t.end.length)).trim()}}}var CodeEditorWidget=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.editedValue=t.value,t.isFocused=!1,t.codeEditor=CodeEditor,t}return __extends(t,e),t.prototype.updateValue=function(e){this.$emit("input",e)},Object.defineProperty(t.prototype,"elementClass",{get:function(){return{"widget-code-editor":!0,"widget-code-editor--focused":this.isFocused}},enumerable:!0,configurable:!0}),t.prototype.created=function(){this.setEditorConfig()},t.prototype.setEditorConfig=function(){this.config&&CodeEditorConfigs[this.config]&&(this.codeEditor=CodeEditorConfigs[this.config])},t.prototype.blur=function(){this.isFocused=!1},t.prototype.focus=function(){this.isFocused=!0},__decorate([Prop({type:String,default:""})],t.prototype,"name",void 0),__decorate([Prop({type:String,default:""})],t.prototype,"placeholder",void 0),__decorate([Prop({default:""})],t.prototype,"value",void 0),__decorate([Prop({type:String,default:""})],t.prototype,"config",void 0),__decorate([Watch("editedValue")],t.prototype,"updateValue",null),t=__decorate([Component({name:"code-editor-widget"})],t)}(mixins(__vue_component__$g));const __vue_script__$h=CodeEditorWidget;var __vue_render__$g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-code-editor__container",class:e.toggleClassErrorWarning},[e.name?r("label",[e._v(e._s(e.name))]):e._e(),e._v(" "),r(e.codeEditor,{tag:"component",class:e.elementClass,attrs:{placeholder:e.placeholder},on:{blur:function(t){return e.blur()},focus:function(t){return e.focus()}},model:{value:e.editedValue,callback:function(t){e.editedValue=t},expression:"editedValue"}}),e._v(" "),e.messageError?r("div",{staticClass:"field__msg-error"},[r("span",{staticClass:"fa fa-exclamation-circle"}),e._v(e._s(e.messageError)+"\n  ")]):e._e(),e._v(" "),e.messageWarning?r("div",{staticClass:"field__msg-warning"},[r("span",{staticClass:"fas fa-exclamation-triangle"}),e._v(e._s(e.messageWarning)+"\n  ")]):e._e()],1)},__vue_staticRenderFns__$g=[];__vue_render__$g._withStripped=!0;const __vue_inject_styles__$h=void 0,__vue_scope_id__$h="data-v-d19b1732",__vue_module_identifier__$h=void 0,__vue_is_functional_template__$h=!1,__vue_component__$h=normalizeComponent({render:__vue_render__$g,staticRenderFns:__vue_staticRenderFns__$g},void 0,__vue_script__$h,"data-v-d19b1732",!1,void 0,!1,void 0,void 0,void 0);var AdvancedVariableModal=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value="",t}return __extends(t,e),Object.defineProperty(t.prototype,"variableIdentifier",{get:function(){return extractVariableIdentifier(this.variable,this.variableDelimiters)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canSave",{get:function(){return this.value&&this.variableIdentifier!==this.value},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e){e&&(this.value=this.variableIdentifier)},t.prototype.close=function(){this.$emit("closed")},t.prototype.save=function(){this.canSave&&this.$emit("input",this.value)},__decorate([Prop({default:!1})],t.prototype,"isOpened",void 0),__decorate([Prop({default:""})],t.prototype,"variable",void 0),__decorate([Prop({default:function(){return{start:"{{",end:"}}"}}})],t.prototype,"variableDelimiters",void 0),__decorate([Watch("isOpened")],t.prototype,"setValue",null),t=__decorate([Component({name:"advanced-variable-modal",components:{CodeEditorWidget:__vue_component__$h}})],t)}(Vue);const __vue_script__$i=AdvancedVariableModal;var __vue_render__$h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isOpened?r("div",{staticClass:"vqb-modal"},[r("div",{staticClass:"vqb-modal__backdrop"}),e._v(" "),r("div",{staticClass:"vqb-modal__container"},[r("div",{staticClass:"vqb-modal__body",staticStyle:{width:"500px"}},[r("em",{staticClass:"vqb-modal__close fas fa-times",on:{click:e.close}}),e._v(" "),e._m(0),e._v(" "),r("div",{staticClass:"vqb-modal__section"},[r("CodeEditorWidget",{staticClass:"codeInput",attrs:{placeholder:"Write your custom variable here",config:"javascript"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),e._v(" "),r("div",{staticClass:"vqb-modal__footer"},[r("div",{staticClass:"vqb-modal__action vqb-modal__action--secondary",on:{click:e.close}},[e._v("\n          cancel\n        ")]),e._v(" "),r("div",{staticClass:"vqb-modal__action vqb-modal__action--primary",class:{"vqb-modal__action--disabled":!e.canSave},on:{click:e.save}},[e._v("\n          save\n        ")])])])])]):e._e()},__vue_staticRenderFns__$h=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vqb-modal__header"},[t("div",{staticClass:"vqb-modal__title"},[this._v("Custom Variable")])])}];__vue_render__$h._withStripped=!0;const __vue_inject_styles__$i=void 0,__vue_scope_id__$i="data-v-231c8c18",__vue_module_identifier__$i=void 0,__vue_is_functional_template__$i=!1,__vue_component__$i=normalizeComponent({render:__vue_render__$h,staticRenderFns:__vue_staticRenderFns__$h},void 0,__vue_script__$i,"data-v-231c8c18",!1,void 0,!1,void 0,void 0,void 0);var VariableInputBase=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isChoosingVariable=!1,t.isAdvancedVariableModalOpened=!1,t}return __extends(t,e),t.prototype.editAdvancedVariable=function(){this.editedAdvancedVariable&&this.openAdvancedVariableModal()},Object.defineProperty(t.prototype,"selectedVariables",{get:function(){var e=this;return this.value.reduce((function(t,r){var n=extractVariableIdentifier(r,e.variableDelimiters);return n?__spread(t,[n]):t}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canBeVariable",{get:function(){return this.availableVariables},enumerable:!0,configurable:!0}),t.prototype.startChoosingVariable=function(){this.isChoosingVariable=!0},t.prototype.stopChoosingVariable=function(){this.isChoosingVariable=!1},t.prototype.openAdvancedVariableModal=function(){this.stopChoosingVariable(),this.isAdvancedVariableModalOpened=!0},t.prototype.closeAdvancedVariableModal=function(){this.isAdvancedVariableModalOpened=!1,this.$emit("resetEditedAdvancedVariable")},t.prototype.chooseVariable=function(e){var t=this.variableDelimiters.start+" "+e+" "+this.variableDelimiters.end;this.$emit("input",t),this.isMultiple||this.stopChoosingVariable()},t.prototype.chooseAdvancedVariable=function(e){var t=this.variableDelimiters.start+" "+e+" "+this.variableDelimiters.end;this.$emit("chooseAdvancedVariable",t),this.closeAdvancedVariableModal()},__decorate([Prop({default:!1})],t.prototype,"isMultiple",void 0),__decorate([Prop({default:function(){return[]}})],t.prototype,"value",void 0),__decorate([Prop({default:void 0})],t.prototype,"availableVariables",void 0),__decorate([Prop({default:function(){return{start:"{{",end:"}}"}}})],t.prototype,"variableDelimiters",void 0),__decorate([Prop({default:function(){return""}})],t.prototype,"editedAdvancedVariable",void 0),__decorate([Prop({default:!1})],t.prototype,"hasArrow",void 0),__decorate([Watch("editedAdvancedVariable")],t.prototype,"editAdvancedVariable",null),t=__decorate([Component({name:"variable-input-base",components:{VariableChooser:__vue_component__$c,AdvancedVariableModal:__vue_component__$i}})],t)}(Vue);const __vue_script__$j=VariableInputBase;var __vue_render__$i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"widget-variable__input-container"},[e._t("default"),e._v(" "),e.isChoosingVariable?r("div",{staticClass:"widget-variable__click-handler",on:{click:e.stopChoosingVariable}}):e._e(),e._v(" "),e.canBeVariable?r("span",{staticClass:"widget-variable__toggle",class:{"widget-variable__toggle--choosing":e.isChoosingVariable,"widget-variable__toggle--parent-arrow":e.hasArrow},on:{click:function(t){return t.stopPropagation(),e.startChoosingVariable(t)}}},[e._v("{}\n    ")]):e._e()],2),e._v(" "),r("VariableChooser",{attrs:{"available-variables":e.availableVariables,"is-opened":e.isChoosingVariable,"is-multiple":e.isMultiple,value:e.value,"selected-variables":e.selectedVariables},on:{addAdvancedVariable:e.openAdvancedVariableModal,input:e.chooseVariable,closed:e.stopChoosingVariable}}),e._v(" "),r("AdvancedVariableModal",{attrs:{"is-opened":e.isAdvancedVariableModalOpened,variable:e.editedAdvancedVariable,"variable-delimiters":e.variableDelimiters},on:{input:e.chooseAdvancedVariable,closed:e.closeAdvancedVariableModal}})],1)},__vue_staticRenderFns__$i=[];__vue_render__$i._withStripped=!0;const __vue_inject_styles__$j=void 0,__vue_scope_id__$j="data-v-27195ec4",__vue_module_identifier__$j=void 0,__vue_is_functional_template__$j=!1,__vue_component__$j=normalizeComponent({render:__vue_render__$i,staticRenderFns:__vue_staticRenderFns__$i},void 0,__vue_script__$j,"data-v-27195ec4",!1,void 0,!1,void 0,void 0,void 0);Vue.use(plugin$1);var VariableTag=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"variableIdentifier",{get:function(){return extractVariableIdentifier(this.value,this.variableDelimiters)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"variable",{get:function(){var e=this;return this.availableVariables.find((function(t){return t.identifier===e.variableIdentifier}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAdvancedVariable",{get:function(){return!this.variable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"variableLabel",{get:function(){return this.variable?this.variable.label:"AdVariable"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"variableValue",{get:function(){var e,t=(null===(e=this.variable)||void 0===e?void 0:e.value)||"";return Array.isArray(t)?t.join(", "):t},enumerable:!0,configurable:!0}),t.prototype.removeVariableTag=function(){this.$emit("removed")},t.prototype.editAdvancedVariable=function(){this.isAdvancedVariable&&this.$emit("edited",this.value)},__decorate([Prop()],t.prototype,"value",void 0),__decorate([Prop({default:function(){return[]}})],t.prototype,"availableVariables",void 0),__decorate([Prop({default:void 0})],t.prototype,"variableDelimiters",void 0),t=__decorate([Component({name:"variable-tag"})],t)}(Vue);const __vue_script__$k=VariableTag;var __vue_render__$j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{targetClasses:"has-weaverbird__tooltip",classes:"weaverbird__tooltip",content:e.variableValue,placement:"bottom-center"},expression:"{\n    targetClasses: 'has-weaverbird__tooltip',\n    classes: 'weaverbird__tooltip',\n    content: variableValue,\n    placement: 'bottom-center',\n  }"}],staticClass:"widget-variable__tag",class:{"widget-variable__tag--advanced":e.isAdvancedVariable}},[r("span",{staticClass:"widget-variable__tag-icon"},[e._v("{}")]),e._v(" "),r("span",{staticClass:"widget-variable__tag-name",on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.editAdvancedVariable(t))},mousedown:function(t){return t.preventDefault(),e.editAdvancedVariable(t)}}},[e._v(e._s(e.variableLabel))]),e._v(" "),r("i",{staticClass:"widget-variable__tag-close fa fa-times",attrs:{tabindex:"1","aria-hidden":"true"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.removeVariableTag(t))},mousedown:function(t){return t.preventDefault(),e.removeVariableTag(t)}}})])},__vue_staticRenderFns__$j=[];__vue_render__$j._withStripped=!0;const __vue_inject_styles__$k=void 0,__vue_scope_id__$k="data-v-74c6fe02",__vue_module_identifier__$k=void 0,__vue_is_functional_template__$k=!1,__vue_component__$k=normalizeComponent({render:__vue_render__$j,staticRenderFns:__vue_staticRenderFns__$j},void 0,__vue_script__$k,"data-v-74c6fe02",!1,void 0,!1,void 0,void 0,void 0);var VariableInput=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.editedAdvancedVariable="",t}return __extends(t,e),Object.defineProperty(t.prototype,"isVariable",{get:function(){return null!=extractVariableIdentifier(this.value,this.variableDelimiters)},enumerable:!0,configurable:!0}),t.prototype.chooseVariable=function(e){this.$emit("input",e)},t.prototype.dismissVariable=function(){this.$emit("input",void 0)},t.prototype.editAdvancedVariable=function(e){this.editedAdvancedVariable=e},t.prototype.resetEditedAdvancedVariable=function(){this.editedAdvancedVariable=""},__decorate([Prop()],t.prototype,"value",void 0),__decorate([Prop()],t.prototype,"availableVariables",void 0),__decorate([Prop({default:void 0})],t.prototype,"variableDelimiters",void 0),__decorate([Prop({default:!1})],t.prototype,"hasArrow",void 0),t=__decorate([Component({name:"variable-input",components:{VariableTag:__vue_component__$k,VariableInputBase:__vue_component__$j}})],t)}(Vue);const __vue_script__$l=VariableInput;var __vue_render__$k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-input-variable"},[e.isVariable?r("div",{staticClass:"widget-input-variable__variable-container"},[r("div",{staticClass:"widget-input-variable__tag-container"},[r("VariableTag",{attrs:{value:e.value,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},on:{removed:e.dismissVariable,edited:e.editAdvancedVariable}})],1)]):e._e(),e._v(" "),r("VariableInputBase",{attrs:{"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,"has-arrow":e.hasArrow,"edited-advanced-variable":e.editedAdvancedVariable},on:{chooseAdvancedVariable:e.chooseVariable,resetEditedAdvancedVariable:e.resetEditedAdvancedVariable,input:e.chooseVariable}},[e.isVariable?e._e():e._t("default")],2)],1)},__vue_staticRenderFns__$k=[];__vue_render__$k._withStripped=!0;const __vue_inject_styles__$l=void 0,__vue_scope_id__$l="data-v-42374a4c",__vue_module_identifier__$l=void 0,__vue_is_functional_template__$l=!1,__vue_component__$l=normalizeComponent({render:__vue_render__$k,staticRenderFns:__vue_staticRenderFns__$k},void 0,__vue_script__$l,"data-v-42374a4c",!1,void 0,!1,void 0,void 0,void 0);var AutocompleteWidget=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.updateValue=function(e){this.$emit("input",e)},__decorate([Prop({type:String,default:""})],t.prototype,"name",void 0),__decorate([Prop({type:String,default:""})],t.prototype,"placeholder",void 0),__decorate([Prop({default:""})],t.prototype,"value",void 0),__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"options",void 0),__decorate([Prop({type:String,default:void 0})],t.prototype,"trackBy",void 0),__decorate([Prop({type:String,default:void 0})],t.prototype,"label",void 0),__decorate([Prop({type:Boolean,default:!1})],t.prototype,"withExample",void 0),__decorate([Prop()],t.prototype,"availableVariables",void 0),__decorate([Prop()],t.prototype,"variableDelimiters",void 0),t=__decorate([Component({name:"autocomplete-widget",components:{Multiselect:Multiselect,VariableInput:__vue_component__$l}})],t)}(mixins(__vue_component__$g));const __vue_script__$m=AutocompleteWidget;var __vue_render__$l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-autocomplete__container",class:e.toggleClassErrorWarning},[e.name?r("label",{staticClass:"widget-autocomplete__label"},[e._v(e._s(e.name))]):e._e(),e._v(" "),r("VariableInput",{attrs:{value:e.value,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,"has-arrow":!0},on:{input:e.updateValue}},[r("multiselect",{attrs:{value:e.value,options:e.options,placeholder:e.placeholder,"allow-empty":!1,"track-by":e.trackBy,label:e.label,openDirection:"bottom"},on:{input:e.updateValue},scopedSlots:e._u([{key:"singleLabel",fn:function(t){return e.withExample?[r("span",{staticClass:"option__title"},[e._v(e._s(t.option.label))])]:void 0}},{key:"option",fn:function(t){return e.withExample?[r("div",{staticClass:"option__container",attrs:{title:t.option.tooltip}},[r("div",{staticClass:"option__title"},[e._v(e._s(t.option.label))]),e._v(" "),r("div",{staticClass:"option__example"},[e._v(e._s(t.option.example))])])]:void 0}}],null,!0)})],1),e._v(" "),e.messageError?r("div",{staticClass:"field__msg-error"},[r("span",{staticClass:"fa fa-exclamation-circle"}),e._v("\n    "+e._s(e.messageError)+"\n  ")]):e._e()],1)},__vue_staticRenderFns__$l=[];__vue_render__$l._withStripped=!0;const __vue_inject_styles__$m=void 0,__vue_scope_id__$m=void 0,__vue_module_identifier__$m=void 0,__vue_is_functional_template__$m=!1,__vue_component__$m=normalizeComponent({render:__vue_render__$l,staticRenderFns:__vue_staticRenderFns__$l},void 0,__vue_script__$m,void 0,!1,void 0,!1,void 0,void 0,void 0);var InputTextWidget=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.updateValue=function(e){this.$emit("input",e)},__decorate([Prop({type:String,default:""})],t.prototype,"name",void 0),__decorate([Prop({type:String,default:""})],t.prototype,"placeholder",void 0),__decorate([Prop({default:""})],t.prototype,"value",void 0),__decorate([Prop({default:void 0})],t.prototype,"docUrl",void 0),__decorate([Prop()],t.prototype,"availableVariables",void 0),__decorate([Prop()],t.prototype,"variableDelimiters",void 0),t=__decorate([Component({name:"input-text-widget",components:{VariableInput:__vue_component__$l}})],t)}(mixins(__vue_component__$g));const __vue_script__$n=InputTextWidget;var __vue_render__$m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-input-text__container",class:e.toggleClassErrorWarning},[r("div",{staticClass:"widget-input-text__label"},[e.name?r("label",{on:{click:function(t){return e.$refs.input.focus()}}},[e._v(e._s(e.name))]):e._e(),e._v(" "),e.docUrl?r("a",{attrs:{href:e.docUrl,target:"_blank",rel:"noopener"}},[r("i",{staticClass:"fas fa-question-circle",attrs:{"aria-hidden":"true"}})]):e._e()]),e._v(" "),r("VariableInput",{attrs:{value:e.value,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},on:{input:e.updateValue}},[r("input",{ref:"input",staticClass:"widget-input-text",attrs:{placeholder:e.placeholder,type:"text"},domProps:{value:e.value},on:{input:function(t){return e.updateValue(t.target.value)}}})]),e._v(" "),e.messageError?r("div",{staticClass:"field__msg-error"},[r("span",{staticClass:"fa fa-exclamation-circle"}),e._v("\n    "+e._s(e.messageError)+"\n  ")]):e._e(),e._v(" "),e.messageWarning?r("div",{staticClass:"field__msg-warning"},[r("span",{staticClass:"fas fa-exclamation-triangle"}),e._v("\n    "+e._s(e.messageWarning)+"\n  ")]):e._e()],1)},__vue_staticRenderFns__$m=[];__vue_render__$m._withStripped=!0;const __vue_inject_styles__$n=void 0,__vue_scope_id__$n="data-v-e6a6e38c",__vue_module_identifier__$n=void 0,__vue_is_functional_template__$n=!1,__vue_component__$n=normalizeComponent({render:__vue_render__$m,staticRenderFns:__vue_staticRenderFns__$m},void 0,__vue_script__$n,"data-v-e6a6e38c",!1,void 0,!1,void 0,void 0,void 0);var MultiVariableInput=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.toggleVariable=function(e){-1!==this.value.indexOf(e)?this.$emit("input",this.value.filter((function(t){return t!==e}))):this.$emit("input",__spread(this.value,[e]))},t.prototype.chooseAdvancedVariable=function(e){var t=__spread(this.value).filter((function(t){return t!==e})),r=t.indexOf(this.editedAdvancedVariable);-1!==r?(t.splice(r,1,e),this.$emit("input",t)):this.$emit("input",__spread(t,[e]))},t.prototype.resetEditedAdvancedVariable=function(){this.$emit("resetEditedAdvancedVariable")},__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"value",void 0),__decorate([Prop()],t.prototype,"availableVariables",void 0),__decorate([Prop()],t.prototype,"variableDelimiters",void 0),__decorate([Prop({default:function(){return""}})],t.prototype,"editedAdvancedVariable",void 0),__decorate([Prop({default:!1})],t.prototype,"hasArrow",void 0),t=__decorate([Component({name:"multi-variable-input",components:{VariableInputBase:__vue_component__$j}})],t)}(Vue);const __vue_script__$o=MultiVariableInput;var __vue_render__$n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-multi-variable-input"},[r("VariableInputBase",{attrs:{"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,"has-arrow":e.hasArrow,"is-multiple":!0,value:e.value,"edited-advanced-variable":e.editedAdvancedVariable},on:{chooseAdvancedVariable:e.chooseAdvancedVariable,resetEditedAdvancedVariable:e.resetEditedAdvancedVariable,input:e.toggleVariable}},[e._t("default")],2)],1)},__vue_staticRenderFns__$n=[];__vue_render__$n._withStripped=!0;const __vue_inject_styles__$o=void 0,__vue_scope_id__$o="data-v-9f5a127e",__vue_module_identifier__$o=void 0,__vue_is_functional_template__$o=!1,__vue_component__$o=normalizeComponent({render:__vue_render__$n,staticRenderFns:__vue_staticRenderFns__$n},void 0,__vue_script__$o,"data-v-9f5a127e",!1,void 0,!1,void 0,void 0,void 0);var MultiInputTextWidget=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.editedAdvancedVariable="",t.options=[],t}return __extends(t,e),Object.defineProperty(t.prototype,"variableInputMode",{get:function(){return this.multiVariable?__vue_component__$o:__vue_component__$l},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMultiselectBig",{get:function(){return Array.isArray(this.value)&&this.value.length>6},enumerable:!0,configurable:!0}),t.prototype.updateOptions=function(e){e.length>0&&(this.options=[e])},t.prototype.updateValue=function(e){void 0===e?this.$emit("input",[]):this.$emit("input",e),this.options=[]},t.prototype.isVariable=function(e){return null!=extractVariableIdentifier(e,this.variableDelimiters)},t.prototype.editAdvancedVariable=function(e){this.editedAdvancedVariable=e},t.prototype.resetEditedAdvancedVariable=function(){this.editedAdvancedVariable=""},__decorate([Prop({type:String,default:""})],t.prototype,"name",void 0),__decorate([Prop({type:String,default:""})],t.prototype,"placeholder",void 0),__decorate([Prop({default:function(){return[]}})],t.prototype,"value",void 0),__decorate([Prop()],t.prototype,"availableVariables",void 0),__decorate([Prop({default:void 0})],t.prototype,"variableDelimiters",void 0),__decorate([Prop({default:!0})],t.prototype,"multiVariable",void 0),t=__decorate([Component({name:"multi-input-text-widget",components:{Multiselect:Multiselect,VariableTag:__vue_component__$k}})],t)}(Vue);const __vue_script__$p=MultiInputTextWidget;var __vue_render__$o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-multiinputtext__container"},[r(e.variableInputMode,{tag:"component",attrs:{value:e.value,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,"edited-advanced-variable":e.editedAdvancedVariable},on:{resetEditedAdvancedVariable:e.resetEditedAdvancedVariable,input:e.updateValue}},[r("multiselect",{staticClass:"widget-multiinputtext__multiselect",class:{"widget-multiinputtext__multiselect--big":e.isMultiselectBig},attrs:{value:e.value,options:e.options,multiple:!0,taggable:!0,"close-on-select":!1,placeholder:e.placeholder,"open-direction":"bottom"},on:{input:e.updateValue,"search-change":e.updateOptions},scopedSlots:e._u([{key:"tag",fn:function(t){var n=t.option,a=t.remove;return e.multiVariable&&e.availableVariables?[e.isVariable(n)?r("VariableTag",{staticClass:"multiselect__tag widget-multiinputtext__tag",attrs:{"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,value:n},on:{removed:function(e){return a(n)},edited:e.editAdvancedVariable}}):r("span",{staticClass:"multiselect__tag widget-multiinputtext__tag",on:{click:function(e){e.preventDefault(),e.stopPropagation()}}},[r("span",{domProps:{innerHTML:e._s(n)}}),e._v(" "),r("i",{staticClass:"multiselect__tag-icon",attrs:{tabindex:"1","aria-hidden":"true"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),a(n))},mousedown:function(e){return e.preventDefault(),a(n)}}})])]:void 0}}],null,!0)})],1)],1)},__vue_staticRenderFns__$o=[];__vue_render__$o._withStripped=!0;const __vue_inject_styles__$p=void 0,__vue_scope_id__$p="data-v-628bd05e",__vue_module_identifier__$p=void 0,__vue_is_functional_template__$p=!1,__vue_component__$p=normalizeComponent({render:__vue_render__$o,staticRenderFns:__vue_staticRenderFns__$o},void 0,__vue_script__$p,"data-v-628bd05e",!1,void 0,!1,void 0,void 0,void 0);var DEFAULT_FILTER={column:"",value:"",operator:"eq"},FilterSimpleConditionWidget=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.operators=[{operator:"eq",label:"equals",inputWidget:__vue_component__$n},{operator:"ne",label:"doesn't equal",inputWidget:__vue_component__$n},{operator:"gt",label:"is greater than",inputWidget:__vue_component__$n},{operator:"ge",label:"is greater than or equal to",inputWidget:__vue_component__$n},{operator:"lt",label:"is less than",inputWidget:__vue_component__$n},{operator:"le",label:"is less than or equal to",inputWidget:__vue_component__$n},{operator:"in",label:"is one of",inputWidget:__vue_component__$p},{operator:"nin",label:"is not one of",inputWidget:__vue_component__$p},{operator:"matches",label:"matches pattern",inputWidget:__vue_component__$n},{operator:"notmatches",label:"doesn't match pattern",inputWidget:__vue_component__$n},{operator:"isnull",label:"is null"},{operator:"notnull",label:"is not null"}],t}return __extends(t,e),t.prototype.created=function(){isEqual_1(this.value,DEFAULT_FILTER)&&this.$emit("input",DEFAULT_FILTER)},Object.defineProperty(t.prototype,"columnNames",{get:function(){return this.columnNamesProp&&this.columnNamesProp.length>0?this.columnNamesProp:this.columnNamesFromStore&&this.columnNamesFromStore.length>0?this.columnNamesFromStore:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return"matches"===this.value.operator||"notmatches"===this.value.operator?'Enter a regex, e.g. "[Ss]ales"':"Enter a value"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"operator",{get:function(){var e=this;return this.operators.filter((function(t){return t.operator===e.value.operator}))[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputWidget",{get:function(){var e=this,t=this.operators.filter((function(t){return t.operator===e.value.operator}))[0].inputWidget;return t||void 0},enumerable:!0,configurable:!0}),t.prototype.updateStepOperator=function(e){var t=__assign({},this.value);t.operator=e.operator,"in"===t.operator||"nin"===t.operator?t.value=keepCurrentValueIfArrayType(t.value,[]):"isnull"===t.operator||"notnull"===t.operator?t.value=null:t.value=keepCurrentValueIfCompatibleType(t.value,""),this.$emit("input",t)},t.prototype.updateStepValue=function(e){var t=__assign({},this.value);t.value=e,this.$emit("input",t)},t.prototype.updateStepColumn=function(e){var t=__assign({},this.value);t.column=e,this.setSelectedColumns({column:t.column}),this.$emit("input",t)},__decorate([Prop({type:Object,default:function(){return __assign({},DEFAULT_FILTER)}})],t.prototype,"value",void 0),__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"columnNamesProp",void 0),__decorate([Prop({type:String,default:""})],t.prototype,"dataPath",void 0),__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),__decorate([Prop({type:Boolean,default:!0})],t.prototype,"multiVariable",void 0),__decorate([VQBModule.Getter("columnNames")],t.prototype,"columnNamesFromStore",void 0),__decorate([VQBModule.Mutation],t.prototype,"setSelectedColumns",void 0),__decorate([Prop()],t.prototype,"availableVariables",void 0),__decorate([Prop()],t.prototype,"variableDelimiters",void 0),t=__decorate([Component({name:"filter-simple-condition-widget",components:{AutocompleteWidget:__vue_component__$m,InputTextWidget:__vue_component__$n}})],t)}(Vue);const __vue_script__$q=FilterSimpleConditionWidget;var __vue_render__$p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"filter-form-simple-condition__container"},[r("div",{staticClass:"filter-form-simple-condition-column-input"},[r("AutocompleteWidget",{staticClass:"columnInput",attrs:{value:e.value.column,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,options:e.columnNames,placeholder:"Column","data-path":e.dataPath+".column",errors:e.errors},on:{input:e.updateStepColumn}})],1),e._v(" "),r("div",{staticClass:"filter-form-simple-condition-operator-input"},[r("AutocompleteWidget",{staticClass:"filterOperator",attrs:{value:e.operator,options:e.operators,placeholder:"Filter operator",trackBy:"operator",label:"label"},on:{input:e.updateStepOperator}})],1),e._v(" "),e.inputWidget?r(e.inputWidget,{tag:"component",staticClass:"filterValue",attrs:{"multi-variable":e.multiVariable,value:e.value.value,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,placeholder:e.placeholder,"data-path":e.dataPath+".value",errors:e.errors},on:{input:e.updateStepValue}}):e._e()],1)},__vue_staticRenderFns__$p=[];__vue_render__$p._withStripped=!0;const __vue_inject_styles__$q=void 0,__vue_scope_id__$q="data-v-5f12ecb2",__vue_module_identifier__$q=void 0,__vue_is_functional_template__$q=!1,__vue_component__$q=normalizeComponent({render:__vue_render__$p,staticRenderFns:__vue_staticRenderFns__$p},void 0,__vue_script__$q,"data-v-5f12ecb2",!1,void 0,!1,void 0,void 0,void 0);var FilterEditor=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaultValue=DEFAULT_FILTER,t}return __extends(t,e),Object.defineProperty(t.prototype,"conditionsTree",{get:function(){return buildConditionsEditorTree(castFilterStepTreeValue(this.filterTree,this.columnTypes))},enumerable:!0,configurable:!0}),t.prototype.updateFilterTree=function(e){var t=buildFilterStepTree(e);this.$emit("filterTreeUpdated",t)},__decorate([Prop({type:Object,default:function(){return{column:"",value:"",operator:"eq"}}})],t.prototype,"filterTree",void 0),__decorate([Prop({type:Object,default:function(){return{}}})],t.prototype,"columnTypes",void 0),__decorate([Prop()],t.prototype,"availableVariables",void 0),__decorate([Prop()],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Boolean,default:!0})],t.prototype,"multiVariable",void 0),__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),t=__decorate([Component({name:"filter-editor",components:{ConditionsEditor:__vue_component__$f,FilterSimpleConditionWidget:__vue_component__$q}})],t)}(Vue);const __vue_script__$r=FilterEditor;var __vue_render__$q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"filter-editor"},[r("ConditionsEditor",{attrs:{"conditions-tree":e.conditionsTree,defaultValue:e.defaultValue},on:{conditionsTreeUpdated:e.updateFilterTree},scopedSlots:e._u([{key:"default",fn:function(t){return[r("FilterSimpleConditionWidget",{attrs:{value:t.condition||void 0,columnNamesProp:Object.keys(e.columnTypes),"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,"data-path":t.dataPath,errors:e.errors,"multi-variable":e.multiVariable},on:{input:t.updateCondition}})]}}])})],1)},__vue_staticRenderFns__$q=[];__vue_render__$q._withStripped=!0;const __vue_inject_styles__$r=void 0,__vue_scope_id__$r=void 0,__vue_module_identifier__$r=void 0,__vue_is_functional_template__$r=!1,__vue_component__$r=normalizeComponent({render:__vue_render__$q,staticRenderFns:__vue_staticRenderFns__$q},void 0,__vue_script__$r,void 0,!1,void 0,!1,void 0,void 0,void 0);var Vqb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.selectPipelineByName=function(e){this.selectPipeline({name:e})},__decorate([VQBModule.State],t.prototype,"currentPipelineName",void 0),__decorate([VQBModule.Getter],t.prototype,"pipelinesNames",void 0),__decorate([VQBModule.Action],t.prototype,"selectPipeline",void 0),t=__decorate([Component({name:"PipelineSelector"})],t)}(Vue);const __vue_script__$s=Vqb;var __vue_render__$r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pipeline-selector"},[e._v("\n  Pipelines:\n  "),r("select",{domProps:{value:e.currentPipelineName},on:{input:function(t){return e.selectPipelineByName(t.target.value)}}},e._l(e.pipelinesNames,(function(t){return r("option",{key:t,domProps:{value:t}},[e._v("\n      "+e._s(t)+"\n    ")])})),0)])},__vue_staticRenderFns__$r=[];__vue_render__$r._withStripped=!0;const __vue_inject_styles__$s=void 0,__vue_scope_id__$s=void 0,__vue_module_identifier__$s=void 0,__vue_is_functional_template__$s=!1,__vue_component__$s=normalizeComponent({render:__vue_render__$r,staticRenderFns:__vue_staticRenderFns__$r},void 0,__vue_script__$s,void 0,!1,void 0,!1,void 0,void 0,void 0);var AGGFUNCTION_LABELS={sum:"sum",avg:"average",count:"count",min:"min",max:"max",first:"first",last:"last"},MULTIVALUE_SEP=", ";function formatMulticol(e){return e.map((function(e){return'"'+e+'"'})).join(MULTIVALUE_SEP)}function filterExpression(e){if(isFilterComboAnd(e))return e.and.map((function(e){return filterExpression(e)})).join(" and ");if(isFilterComboOr(e))return e.or.map((function(e){return filterExpression(e)})).join(" or ");switch(e.operator){case"eq":return'"'+e.column+'" = '+e.value;case"ne":return'"'+e.column+'" ≠ '+e.value;case"gt":return'"'+e.column+'" > '+e.value;case"ge":return'"'+e.column+'" ≥ '+e.value;case"lt":return'"'+e.column+'" < '+e.value;case"le":return'"'+e.column+'" ≤ '+e.value;case"in":return'"'+e.column+'" in ('+e.value.join(MULTIVALUE_SEP)+")";case"nin":return'"'+e.column+'" not in ('+e.value.join(MULTIVALUE_SEP)+")";case"matches":return'"'+e.column+'" matches regex "'+e.value+'"';case"notmatches":return'"'+e.column+'" doesn\'t match regex "'+e.value+'"';case"isnull":return'"'+e.column+'" is null';case"notnull":return'"'+e.column+'" is not null';default:return""}}function capitalize(e){return e[0].toUpperCase()+e.slice(1).toLocaleLowerCase()}var StepLabeller=function(){function e(){}return e.prototype.addmissingdates=function(e){return'Add missing dates in "'+e.datesColumn+'"'},e.prototype.aggregate=function(e){var t,r,n,a,i=formatMulticol(e.on),o=[];try{for(var s=__values(e.aggregations),u=s.next();!u.done;u=s.next()){var c=u.value;if(c.column)o.push(c.column);else try{for(var l=(n=void 0,__values(c.columns)),p=l.next();!p.done;p=l.next()){var d=p.value;o.includes(d)||o.push(d)}}catch(e){n={error:e}}finally{try{p&&!p.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}if(1===o.length){var f=__read(e.aggregations,1)[0];return capitalize(AGGFUNCTION_LABELS[f.aggfunction])+' of "'+o[0]+'" grouped by '+i}return"Aggregate "+formatMulticol(o)+" grouped by "+i},e.prototype.append=function(e){return"Append "+formatMulticol(e.pipelines)},e.prototype.argmax=function(e){return'Keep row with maximum in column "'+e.column+'"'},e.prototype.argmin=function(e){return'Keep row with minimum in column "'+e.column+'"'},e.prototype.concatenate=function(e){return"Concatenate columns "+formatMulticol(e.columns)},e.prototype.convert=function(e){return"Convert columns "+formatMulticol(e.columns)+" into "+e.data_type},e.prototype.cumsum=function(e){return'Compute cumulated sum of "'+e.valueColumn+'"'},e.prototype.custom=function(e){return"Custom step"},e.prototype.dateextract=function(e){return"Extract "+e.operation+' from "'+e.column+'"'},e.prototype.delete=function(e){return"Delete columns "+formatMulticol(e.columns)},e.prototype.domain=function(e){return'Use domain "'+e.domain+'"'},e.prototype.duplicate=function(e){return'Duplicate "'+e.column+'" in "'+e.new_column_name+'"'},e.prototype.duration=function(e){return'Compute duration between "'+e.startDateColumn+'" and "'+e.endDateColumn+'"'},e.prototype.evolution=function(e){return'Compute evolution of column "'+e.valueCol+'"'},e.prototype.fillna=function(e){return e.column?'Replace null values in "'+e.column+'" with '+e.value:"Replace null values in "+formatMulticol(e.columns)+" with "+e.value},e.prototype.filter=function(e){return"Keep rows where "+filterExpression(e.condition)},e.prototype.formula=function(e){return'Compute "'+e.formula+'" in "'+e.new_column+'"'},e.prototype.fromdate=function(e){return'Convert "'+e.column+'" into text'},e.prototype.ifthenelse=function(e){return'Add conditional column "'+e.newColumn+'"'},e.prototype.join=function(e){return'Join dataset "'+e.right_pipeline+'"'},e.prototype.lowercase=function(e){return'Convert column "'+e.column+'" to lowercase'},e.prototype.movingaverage=function(e){return'Compute moving average of "'+e.valueColumn+'"'},e.prototype.percentage=function(e){return'Compute the row-level percentage of "'+e.column+'"'},e.prototype.pivot=function(e){return'Pivot column "'+e.column_to_pivot+'"'},e.prototype.rank=function(e){return'Compute rank of column "'+e.valueCol+'"'},e.prototype.rename=function(e){return e.oldname&&e.newname?'Rename column "'+e.oldname+'" to "'+e.newname+'"':1===e.toRename.length?'Rename column "'+e.toRename[0][0]+'" to "'+e.toRename[0][1]+'"':"Rename columns "+formatMulticol(e.toRename.map((function(e){return e[0]})))},e.prototype.replace=function(e){return 1===e.to_replace.length?"Replace "+e.to_replace[0][0]+" with "+e.to_replace[0][1]+' in column "'+e.search_column+'"':'Replace values in column "'+e.search_column+'"'},e.prototype.rollup=function(e){return"Roll-up hierarchy ["+formatMulticol(e.hierarchy)+"]"},e.prototype.select=function(e){return"Keep columns "+formatMulticol(e.columns)},e.prototype.sort=function(e){return"Sort columns "+formatMulticol(e.columns.map((function(e){return e.column})))},e.prototype.split=function(e){return'Split column "'+e.column+'"'},e.prototype.statistics=function(e){return'Compute statistics of "'+e.column+'"'},e.prototype.substring=function(e){return'Extract substring from "'+e.column+'"'},e.prototype.text=function(e){return'Add text column "'+e.new_column+'"'},e.prototype.todate=function(e){return'Convert "'+e.column+'" into date'},e.prototype.top=function(e){return"Keep top "+e.limit+' values in column "'+e.rank_on+'"'},e.prototype.totals=function(e){return"Add total rows in columns "+formatMulticol(e.totalDimensions.map((function(e){return e.totalColumn})))},e.prototype.uniquegroups=function(e){return"Get unique groups/values in columns "+formatMulticol(e.on)},e.prototype.unpivot=function(e){return"Unpivot columns "+formatMulticol(e.unpivot)},e.prototype.uppercase=function(e){return'Convert column "'+e.column+'" to uppercase'},e.prototype.waterfall=function(e){return'Compute waterfall of "'+e.valueColumn+'" from "'+e.start+'" to "'+e.end+'"'},e}(),LABELLER=new StepLabeller;function humanReadableLabel(e){return(0,LABELLER[e.name])(e)}function _replaceAll(e,t,r){return e.replace(new RegExp(t,"g"),r)}function labelWithReadeableVariables(e,t,r){if(!t||!r||!e)return e||"";var n=_replaceAll(e,t.start,r.start);return _replaceAll(n,t.end,r.end)}var script$2={name:"delete-confirmation-modal"};const __vue_script__$t=script$2;var __vue_render__$s=function(e,t){var r=t._c;return r("div",{staticClass:"vqb-modal"},[r("div",{staticClass:"vqb-modal__backdrop"}),t._v(" "),r("div",{staticClass:"vqb-modal__container"},[r("div",{staticClass:"vqb-modal__body",staticStyle:{width:"500px"}},[r("i",{staticClass:"vqb-modal__close fas fa-times",attrs:{"aria-hidden":"true"},on:{click:t.listeners.cancelDelete}}),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),r("div",{staticClass:"vqb-modal__footer"},[r("div",{staticClass:"vqb-modal__action vqb-modal__action--secondary",on:{click:t.listeners.cancelDelete}},[t._v("\n          cancel\n        ")]),t._v(" "),r("div",{staticClass:"vqb-modal__action vqb-modal__action--primary",on:{click:t.listeners.validateDelete}},[t._v("\n          confirm\n        ")])])])])])},__vue_staticRenderFns__$s=[function(e,t){var r=t._c;return r("div",{staticClass:"vqb-modal__header"},[r("div",{staticClass:"vqb-modal__title"},[t._v("Delete this step?")])])},function(e,t){var r=t._c;return r("div",{staticClass:"vqb-modal__section"},[r("div",{staticClass:"vqb-modal__text"},[t._v("Are you sure you want to delete this step?")]),t._v(" "),r("strong",{staticClass:"vqb-modal__text"},[t._v("\n          This action cannot be undone and may create conflicts with following steps if any.\n        ")])])}];__vue_render__$s._withStripped=!0;const __vue_inject_styles__$t=void 0,__vue_scope_id__$t="data-v-7175113a",__vue_module_identifier__$t=void 0,__vue_is_functional_template__$t=!0,__vue_component__$t=normalizeComponent({render:__vue_render__$s,staticRenderFns:__vue_staticRenderFns__$s},void 0,__vue_script__$t,"data-v-7175113a",!0,void 0,!1,void 0,void 0,void 0);var Step=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.deleteConfirmationModalIsOpened=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"stepName",{get:function(){return humanReadableLabel(this.step)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stepTitle",{get:function(){return labelWithReadeableVariables(this.stepName,this.variableDelimiters,{start:"",end:""})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stepLabel",{get:function(){return labelWithReadeableVariables(this.stepName,this.variableDelimiters,{start:"<em>",end:"</em>"})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classContainer",{get:function(){return{"query-pipeline-step__container":!0,"query-pipeline-step__container--active":this.isActive,"query-pipeline-step__container--last-active":this.isLastActive,"query-pipeline-step__container--disabled":this.isDisabled}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstStrokeClass",{get:function(){return{"query-pipeline-queue__stroke":!0,"query-pipeline-queue__stroke--hidden":this.isFirst}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastStrokeClass",{get:function(){return{"query-pipeline-queue__stroke":!0,"query-pipeline-queue__stroke--hidden":this.isLast}},enumerable:!0,configurable:!0}),t.prototype.deleteThisStep=function(){this.toggleDeleteConfirmationModal(),this.deleteStep({index:this.indexInPipeline})},t.prototype.editStep=function(){this.$emit("editStep",this.stepConfig(this.indexInPipeline),this.indexInPipeline)},t.prototype.select=function(){this.$emit("selectedStep")},t.prototype.toggleDeleteConfirmationModal=function(){this.deleteConfirmationModalIsOpened=!this.deleteConfirmationModalIsOpened},__decorate([Prop(Boolean)],t.prototype,"isFirst",void 0),__decorate([Prop(Boolean)],t.prototype,"isLast",void 0),__decorate([Prop(Boolean)],t.prototype,"isActive",void 0),__decorate([Prop(Boolean)],t.prototype,"isLastActive",void 0),__decorate([Prop(Boolean)],t.prototype,"isDisabled",void 0),__decorate([Prop()],t.prototype,"step",void 0),__decorate([Prop()],t.prototype,"variableDelimiters",void 0),__decorate([Prop()],t.prototype,"indexInPipeline",void 0),__decorate([VQBModule.Action],t.prototype,"deleteStep",void 0),__decorate([VQBModule.Getter],t.prototype,"stepConfig",void 0),t=__decorate([Component({name:"step",components:{DeleteConfirmationModal:__vue_component__$t}})],t)}(Vue);const __vue_script__$u=Step;var __vue_render__$t=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.classContainer,on:{click:function(t){return e.select()}}},[r("div",{staticClass:"query-pipeline-queue"},[r("div",{class:e.firstStrokeClass}),e._v(" "),e._m(0),e._v(" "),r("div",{class:e.lastStrokeClass})]),e._v(" "),r("div",{staticClass:"query-pipeline-step"},[r("span",{staticClass:"query-pipeline-step__name",attrs:{title:e.stepTitle},domProps:{innerHTML:e._s(e.stepLabel)}}),e._v(" "),r("div",{staticClass:"query-pipeline-step__actions"},[r("div",{staticClass:"query-pipeline-step__action",on:{click:function(t){return t.stopPropagation(),e.editStep()}}},[r("i",{staticClass:"fas fa-cog",attrs:{"aria-hidden":"true"}})]),e._v(" "),e.isFirst?e._e():r("div",{staticClass:"query-pipeline-step__action",on:{click:e.toggleDeleteConfirmationModal}},[r("i",{staticClass:"fas fa-trash-alt",attrs:{"aria-hidden":"true"}})])])]),e._v(" "),e.deleteConfirmationModalIsOpened?r("DeleteConfirmationModal",{on:{cancelDelete:e.toggleDeleteConfirmationModal,validateDelete:e.deleteThisStep}}):e._e()],1)},__vue_staticRenderFns__$t=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"query-pipeline-queue__dot"},[t("div",{staticClass:"query-pipeline-queue__dot-ink"})])}];__vue_render__$t._withStripped=!0;const __vue_inject_styles__$u=void 0,__vue_scope_id__$u="data-v-7e6ec8dc",__vue_module_identifier__$u=void 0,__vue_is_functional_template__$u=!1,__vue_component__$u=normalizeComponent({render:__vue_render__$t,staticRenderFns:__vue_staticRenderFns__$t},void 0,__vue_script__$u,"data-v-7e6ec8dc",!1,void 0,!1,void 0,void 0,void 0);var PipelineComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.editStep=function(e,t){this.$emit("editStep",e,t)},__decorate([VQBModule.State],t.prototype,"domains",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([VQBModule.Getter("computedActiveStepIndex")],t.prototype,"activeStepIndex",void 0),__decorate([VQBModule.Getter],t.prototype,"domainStep",void 0),__decorate([VQBModule.Getter("pipeline")],t.prototype,"steps",void 0),__decorate([VQBModule.Getter("isPipelineEmpty")],t.prototype,"onlyDomainStepIsPresent",void 0),__decorate([VQBModule.Getter("isStepDisabled")],t.prototype,"isDisabled",void 0),__decorate([VQBModule.Action],t.prototype,"selectStep",void 0),t=__decorate([Component({name:"pipeline",components:{Step:__vue_component__$u}})],t)}(Vue);const __vue_script__$v=PipelineComponent;var __vue_render__$u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"query-pipeline"},[e._l(e.steps,(function(t,n){return r("Step",{key:n,attrs:{"is-active":n<e.activeStepIndex,"is-last-active":n===e.activeStepIndex,"is-disabled":e.isDisabled(n),"is-first":0===n,"is-last":n===e.steps.length-1,step:t,indexInPipeline:n,"variable-delimiters":e.variableDelimiters},on:{selectedStep:function(t){return e.selectStep({index:n})},editStep:e.editStep}})})),e._v(" "),e._m(0)],2)},__vue_staticRenderFns__$u=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"query-pipeline__tips-container"},[t("div",{staticClass:"query-pipeline__tips"},[this._v("\n      Interact with the widgets and table on the right to add steps\n    ")]),this._v(" "),t("i",{staticClass:"fas fa-magic",attrs:{"aria-hidden":"true"}})])}];__vue_render__$u._withStripped=!0;const __vue_inject_styles__$v=void 0,__vue_scope_id__$v="data-v-d82c96a2",__vue_module_identifier__$v=void 0,__vue_is_functional_template__$v=!1,__vue_component__$v=normalizeComponent({render:__vue_render__$u,staticRenderFns:__vue_staticRenderFns__$u},void 0,__vue_script__$v,"data-v-d82c96a2",!1,void 0,!1,void 0,void 0,void 0);var version$2="0.33.5",ColumnPicker=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.created=function(){this.syncWithSelectedColumn&&this.selectedColumns[0]&&!this.value&&this.$emit("input",this.selectedColumns[0])},t.prototype.onSelectedColumnsChanged=function(){this.syncWithSelectedColumn&&this.selectedColumns[0]&&this.selectedColumns[0]!==this.value&&this.$emit("input",this.selectedColumns[0])},t.prototype.valueChanged=function(e){this.$emit("input",e),this.syncWithSelectedColumn&&this.setSelectedColumns({column:e})},__decorate([Prop({type:String,default:"column"})],t.prototype,"name",void 0),__decorate([Prop({type:String,default:"Enter a column"})],t.prototype,"placeholder",void 0),__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),__decorate([Prop({default:null})],t.prototype,"dataPath",void 0),__decorate([Prop({default:null})],t.prototype,"value",void 0),__decorate([Prop()],t.prototype,"availableVariables",void 0),__decorate([Prop()],t.prototype,"variableDelimiters",void 0),__decorate([Prop({default:!0})],t.prototype,"syncWithSelectedColumn",void 0),__decorate([VQBModule.Mutation],t.prototype,"setSelectedColumns",void 0),__decorate([VQBModule.Getter],t.prototype,"selectedColumns",void 0),__decorate([VQBModule.Getter],t.prototype,"columnNames",void 0),__decorate([Watch("selectedColumns")],t.prototype,"onSelectedColumnsChanged",null),t=__decorate([Component({components:{AutocompleteWidget:__vue_component__$m}})],t)}(Vue);const __vue_script__$w=ColumnPicker;var __vue_render__$v=function(){var e=this,t=e.$createElement;return(e._self._c||t)("AutocompleteWidget",{attrs:{value:e.value,name:e.name,options:e.columnNames,placeholder:e.placeholder,"data-path":e.dataPath,errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},on:{input:e.valueChanged}})},__vue_staticRenderFns__$v=[];__vue_render__$v._withStripped=!0;const __vue_inject_styles__$w=void 0,__vue_scope_id__$w=void 0,__vue_module_identifier__$w=void 0,__vue_is_functional_template__$w=!1,__vue_component__$w=normalizeComponent({render:__vue_render__$v,staticRenderFns:__vue_staticRenderFns__$v},void 0,__vue_script__$w,void 0,!1,void 0,!1,void 0,void 0,void 0);var MultiselectWidget=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.editedAdvancedVariable="",t.editedValue=[],t}return __extends(t,e),Object.defineProperty(t.prototype,"isObjectValue",{get:function(){return null!=this.label&&null!=this.trackBy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stringValue",{get:function(){return this.isObjectValue?this.value.map(this.customLabel):__spread(this.value)},enumerable:!0,configurable:!0}),t.prototype.updateEditedValue=function(e){this.editedValue=e},t.prototype.updateStringValue=function(e,t){e.map(this.customLabel).join(" ")!==(t?t.map(this.customLabel).join(" "):"")&&this.$emit("input",e)},t.prototype.isVariable=function(e){return null!=extractVariableIdentifier(this.customLabel(e),this.variableDelimiters)},t.prototype.customLabel=function(e){return"object"==typeof e&&this.isObjectValue?e[this.label]:e},t.prototype.editAdvancedVariable=function(e){this.editedAdvancedVariable=e},t.prototype.resetEditedAdvancedVariable=function(){this.editedAdvancedVariable=""},__decorate([Prop({type:String,default:""})],t.prototype,"name",void 0),__decorate([Prop({type:String,default:""})],t.prototype,"placeholder",void 0),__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"value",void 0),__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"options",void 0),__decorate([Prop({type:String,default:void 0})],t.prototype,"trackBy",void 0),__decorate([Prop({type:String,default:void 0})],t.prototype,"label",void 0),__decorate([Prop({type:Boolean,default:!1})],t.prototype,"withExample",void 0),__decorate([Prop()],t.prototype,"availableVariables",void 0),__decorate([Prop({default:void 0})],t.prototype,"variableDelimiters",void 0),__decorate([Watch("value",{immediate:!0})],t.prototype,"updateEditedValue",null),__decorate([Watch("editedValue")],t.prototype,"updateStringValue",null),t=__decorate([Component({name:"multiselect-widget",components:{Multiselect:Multiselect,VariableTag:__vue_component__$k,MultiVariableInput:__vue_component__$o}})],t)}(mixins(__vue_component__$g));const __vue_script__$x=MultiselectWidget;var __vue_render__$w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-multiselect__container",class:e.toggleClassErrorWarning},[r("label",{staticClass:"widget-multiselect__label"},[e._v(e._s(e.name))]),e._v(" "),r("MultiVariableInput",{staticClass:"widget-multiselect__multi-variable",attrs:{value:e.stringValue,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,"has-arrow":!0,"edited-advanced-variable":e.editedAdvancedVariable},on:{resetEditedAdvancedVariable:e.resetEditedAdvancedVariable,input:e.updateStringValue}},[r("multiselect",{staticClass:"widget-multiselect__multiselect",attrs:{options:e.options,placeholder:e.placeholder,trackBy:e.trackBy,label:e.label,multiple:!0,taggable:!0,closeOnSelect:!1,openDirection:"bottom",customLabel:e.customLabel},scopedSlots:e._u([{key:"option",fn:function(t){return e.withExample?[r("div",{staticClass:"option__container",attrs:{title:t.option.tooltip}},[r("div",{staticClass:"option__title"},[e._v(e._s(e.customLabel(t.option)))]),e._v(" "),r("div",{staticClass:"option__example"},[e._v(e._s(t.option.example))])])]:void 0}},{key:"tag",fn:function(t){var n=t.option,a=t.remove;return[e.isVariable(n)?r("VariableTag",{staticClass:"multiselect__tag widget-multiselect__tag",attrs:{"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,value:e.customLabel(n)},on:{removed:function(e){return a(n)},edited:e.editAdvancedVariable}}):r("span",{staticClass:"multiselect__tag widget-multiselect__tag"},[r("span",{domProps:{innerHTML:e._s(e.customLabel(n))}}),e._v(" "),r("i",{staticClass:"multiselect__tag-icon",attrs:{tabindex:"1","aria-hidden":"true"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),a(n))},mousedown:function(e){return e.preventDefault(),a(n)}}})])]}}],null,!0),model:{value:e.editedValue,callback:function(t){e.editedValue=t},expression:"editedValue"}})],1),e._v(" "),e.messageError?r("div",{staticClass:"field__msg-error"},[r("span",{staticClass:"fa fa-exclamation-circle"}),e._v("\n    "+e._s(e.messageError)+"\n  ")]):e._e()],1)},__vue_staticRenderFns__$w=[];__vue_render__$w._withStripped=!0;const __vue_inject_styles__$x=void 0,__vue_scope_id__$x="data-v-1fca3106",__vue_module_identifier__$x=void 0,__vue_is_functional_template__$x=!1,__vue_component__$x=normalizeComponent({render:__vue_render__$w,staticRenderFns:__vue_staticRenderFns__$w},void 0,__vue_script__$x,"data-v-1fca3106",!1,void 0,!1,void 0,void 0,void 0);var uri_all=createCommonjsModule((function(e,t){
/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(e){function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,a=1;a<n;++a)t[a]=t[a].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function a(e){return e.toUpperCase()}function i(e){var n=t("[0-9]","[A-Fa-f]"),a=r(r("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+r("%[89A-Fa-f]"+n+"%"+n+n)+"|"+r("%"+n+n)),i="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",o=t("[\\:\\/\\?\\#\\[\\]\\@]",i),s=e?"[\\uE000-\\uF8FF]":"[]",u=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),c=(r("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),r(r(a+"|"+t(u,i,"[\\:]"))+"*"),r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("0?[1-9][0-9]")+"|0?0?[0-9]")),l=r(c+"\\."+c+"\\."+c+"\\."+c),p=r(n+"{1,4}"),d=r(r(p+"\\:"+p)+"|"+l),f=r(r(p+"\\:")+"{6}"+d),m=r("\\:\\:"+r(p+"\\:")+"{5}"+d),h=r(r(p)+"?\\:\\:"+r(p+"\\:")+"{4}"+d),_=r(r(r(p+"\\:")+"{0,1}"+p)+"?\\:\\:"+r(p+"\\:")+"{3}"+d),v=r(r(r(p+"\\:")+"{0,2}"+p)+"?\\:\\:"+r(p+"\\:")+"{2}"+d),g=r(r(r(p+"\\:")+"{0,3}"+p)+"?\\:\\:"+p+"\\:"+d),y=r(r(r(p+"\\:")+"{0,4}"+p)+"?\\:\\:"+d),b=r(r(r(p+"\\:")+"{0,5}"+p)+"?\\:\\:"+p),$=r(r(r(p+"\\:")+"{0,6}"+p)+"?\\:\\:"),x=r([f,m,h,_,v,g,y,b,$].join("|")),w=r(r(u+"|"+a)+"+"),S=(r("[vV]"+n+"+\\."+t(u,i,"[\\:]")+"+"),r(r(a+"|"+t(u,i))+"*"),r(a+"|"+t(u,i,"[\\:\\@]")));return r(r(a+"|"+t(u,i,"[\\@]"))+"+"),r(r(S+"|"+t("[\\/\\?]",s))+"*"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,i),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,i),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,i),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,i),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,i,"[\\:\\@\\/\\?]",s),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,i,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,i),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,o),"g"),PCT_ENCODED:new RegExp(a,"g"),IPV4ADDRESS:new RegExp("^("+l+")$"),IPV6ADDRESS:new RegExp("^\\[?("+x+")"+r(r("\\%25|\\%(?!"+n+"{2})")+"("+w+")")+"?\\]?$")}}var o=i(!1),s=i(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,l=/^xn--/,p=/[^\0-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,h=String.fromCharCode;function _(e){throw new RangeError(f[e])}function v(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]);var a=function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}((e=e.replace(d,".")).split("."),t).join(".");return n+a}function g(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&a)<<10)+(1023&i)+65536):(t.push(a),r--)}else t.push(a)}return t}var y=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},b=function(e,t,r){var n=0;for(e=r?m(e/700):e>>1,e+=m(e/t);e>455;n+=36)e=m(e/35);return m(n+36*e/(e+38))},$=function(e){var t,r=[],n=e.length,a=0,i=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var u=0;u<s;++u)e.charCodeAt(u)>=128&&_("not-basic"),r.push(e.charCodeAt(u));for(var l=s>0?s+1:0;l<n;){for(var p=a,d=1,f=36;;f+=36){l>=n&&_("invalid-input");var h=(t=e.charCodeAt(l++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(h>=36||h>m((c-a)/d))&&_("overflow"),a+=h*d;var v=f<=o?1:f>=o+26?26:f-o;if(h<v)break;var g=36-v;d>m(c/g)&&_("overflow"),d*=g}var y=r.length+1;o=b(a-p,y,0==p),m(a/y)>c-i&&_("overflow"),i+=m(a/y),a%=y,r.splice(a++,0,i)}return String.fromCodePoint.apply(String,r)},x=function(e){var t=[],r=(e=g(e)).length,n=128,a=0,i=72,o=!0,s=!1,u=void 0;try{for(var l,p=e[Symbol.iterator]();!(o=(l=p.next()).done);o=!0){var d=l.value;d<128&&t.push(h(d))}}catch(e){s=!0,u=e}finally{try{!o&&p.return&&p.return()}finally{if(s)throw u}}var f=t.length,v=f;for(f&&t.push("-");v<r;){var $=c,x=!0,w=!1,S=void 0;try{for(var N,C=e[Symbol.iterator]();!(x=(N=C.next()).done);x=!0){var E=N.value;E>=n&&E<$&&($=E)}}catch(e){w=!0,S=e}finally{try{!x&&C.return&&C.return()}finally{if(w)throw S}}var A=v+1;$-n>m((c-a)/A)&&_("overflow"),a+=($-n)*A,n=$;var M=!0,T=!1,O=void 0;try{for(var P,D=e[Symbol.iterator]();!(M=(P=D.next()).done);M=!0){var I=P.value;if(I<n&&++a>c&&_("overflow"),I==n){for(var F=a,k=36;;k+=36){var R=k<=i?1:k>=i+26?26:k-i;if(F<R)break;var j=F-R,q=36-R;t.push(h(y(R+j%q,0))),F=m(j/q)}t.push(h(y(F,0))),i=b(a,A,v==f),a=0,++v}}}catch(e){T=!0,O=e}finally{try{!M&&D.return&&D.return()}finally{if(T)throw O}}++a,++n}return t.join("")},w={version:"2.1.0",ucs2:{decode:g,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))}},decode:$,encode:x,toASCII:function(e){return v(e,(function(e){return p.test(e)?"xn--"+x(e):e}))},toUnicode:function(e){return v(e,(function(e){return l.test(e)?$(e.slice(4).toLowerCase()):e}))}},S={};function N(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function C(e){for(var t="",r=0,n=e.length;r<n;){var a=parseInt(e.substr(r+1,2),16);if(a<128)t+=String.fromCharCode(a),r+=3;else if(a>=194&&a<224){if(n-r>=6){var i=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&a)<<6|63&i)}else t+=e.substr(r,6);r+=6}else if(a>=224){if(n-r>=9){var o=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&a)<<12|(63&o)<<6|63&s)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function E(e,t){function r(e){var r=C(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,N).replace(t.PCT_ENCODED,a)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,N).replace(t.PCT_ENCODED,a)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,N).replace(t.PCT_ENCODED,a)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,N).replace(t.PCT_ENCODED,a)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,N).replace(t.PCT_ENCODED,a)),e}function A(e){return e.replace(/^0*(.*)/,"$1")||"0"}function M(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=u(r,2)[1];return n?n.split(".").map(A).join("."):e}function T(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=u(r,3),a=n[1],i=n[2];if(a){for(var o=a.toLowerCase().split("::").reverse(),s=u(o,2),c=s[0],l=s[1],p=l?l.split(":").map(A):[],d=c.split(":").map(A),f=t.IPV4ADDRESS.test(d[d.length-1]),m=f?7:8,h=d.length-m,_=Array(m),v=0;v<m;++v)_[v]=p[v]||d[h+v]||"";f&&(_[m-1]=M(_[m-1],t));var g=_.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],y=void 0;if(g&&g.length>1){var b=_.slice(0,g.index),$=_.slice(g.index+g.length);y=b.join(":")+"::"+$.join(":")}else y=_.join(":");return i&&(y+="%"+i),y}return e}var O=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,P=void 0==="".match(/(){0}/)[1];function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?s:o;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var a=e.match(O);if(a){P?(r.scheme=a[1],r.userinfo=a[3],r.host=a[4],r.port=parseInt(a[5],10),r.path=a[6]||"",r.query=a[7],r.fragment=a[8],isNaN(r.port)&&(r.port=a[5])):(r.scheme=a[1]||void 0,r.userinfo=-1!==e.indexOf("@")?a[3]:void 0,r.host=-1!==e.indexOf("//")?a[4]:void 0,r.port=parseInt(a[5],10),r.path=a[6]||"",r.query=-1!==e.indexOf("?")?a[7]:void 0,r.fragment=-1!==e.indexOf("#")?a[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?a[4]:void 0)),r.host&&(r.host=T(M(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var i=S[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||i&&i.unicodeSupport)E(r,n);else{if(r.host&&(t.domainHost||i&&i.domainHost))try{r.host=w.toASCII(r.host.replace(n.PCT_ENCODED,C).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}E(r,o)}i&&i.parse&&i.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}var I=/^\.\.?\//,F=/^\/\.(\/|$)/,k=/^\/\.\.(\/|$)/,R=/^\/?(?:.|\n)*?(?=\/|$)/;function j(e){for(var t=[];e.length;)if(e.match(I))e=e.replace(I,"");else if(e.match(F))e=e.replace(F,"/");else if(e.match(k))e=e.replace(k,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(R);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?s:o,n=[],a=S[(t.scheme||e.scheme||"").toLowerCase()];if(a&&a.serialize&&a.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||a&&a.domainHost)try{e.host=t.iri?w.toUnicode(e.host):w.toASCII(e.host.replace(r.PCT_ENCODED,C).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}E(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var i=function(e,t){var r=!1!==t.iri?s:o,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(T(M(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"==typeof e.port&&(n.push(":"),n.push(e.port.toString(10))),n.length?n.join(""):void 0}(e,t);if(void 0!==i&&("suffix"!==t.reference&&n.push("//"),n.push(i),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||a&&a.absolutePath||(u=j(u)),void 0===i&&(u=u.replace(/^\/\//,"/%2F")),n.push(u)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function B(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=D(q(e,r),r),t=D(q(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=j(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=j(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=j(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=j(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function L(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:o.PCT_ENCODED,C)}var V={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},z={scheme:"https",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize},U={},G="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",H="[0-9A-Fa-f]",W=r(r("%[EFef][0-9A-Fa-f]%"+H+H+"%"+H+H)+"|"+r("%[89A-Fa-f][0-9A-Fa-f]%"+H+H)+"|"+r("%"+H+H)),Q=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Y=new RegExp(G,"g"),K=new RegExp(W,"g"),Z=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Q),"g"),J=new RegExp(t("[^]",G,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),X=J;function ee(e){var t=C(e);return t.match(Y)?t:e}var te={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var a=!1,i={},o=r.query.split("&"),s=0,u=o.length;s<u;++s){var c=o[s].split("=");switch(c[0]){case"to":for(var l=c[1].split(","),p=0,d=l.length;p<d;++p)n.push(l[p]);break;case"subject":r.subject=L(c[1],t);break;case"body":r.body=L(c[1],t);break;default:a=!0,i[L(c[0],t)]=L(c[1],t)}}a&&(r.headers=i)}r.query=void 0;for(var f=0,m=n.length;f<m;++f){var h=n[f].split("@");if(h[0]=L(h[0]),t.unicodeSupport)h[1]=L(h[1],t).toLowerCase();else try{h[1]=w.toASCII(L(h[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}n[f]=h.join("@")}return r},serialize:function(e,t){var r,n=e,i=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(i){for(var o=0,s=i.length;o<s;++o){var u=String(i[o]),c=u.lastIndexOf("@"),l=u.slice(0,c).replace(K,ee).replace(K,a).replace(Z,N),p=u.slice(c+1);try{p=t.iri?w.toUnicode(p):w.toASCII(L(p,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}i[o]=l+"@"+p}n.path=i.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var f=[];for(var m in d)d[m]!==U[m]&&f.push(m.replace(K,ee).replace(K,a).replace(J,N)+"="+d[m].replace(K,ee).replace(K,a).replace(X,N));return f.length&&(n.query=f.join("&")),n}},re=/^([^\:]+)\:(.*)/,ne={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(re),n=e;if(r){var a=t.scheme||n.scheme||"urn",i=r[1].toLowerCase(),o=r[2],s=a+":"+(t.nid||i),u=S[s];n.nid=i,n.nss=o,n.path=void 0,u&&(n=u.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,a=r+":"+(t.nid||n),i=S[a];i&&(e=i.serialize(e,t));var o=e,s=e.nss;return o.path=(n||t.nid)+":"+s,o}},ae=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ie={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(ae)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};S[V.scheme]=V,S[z.scheme]=z,S[te.scheme]=te,S[ne.scheme]=ne,S[ie.scheme]=ie,e.SCHEMES=S,e.pctEncChar=N,e.pctDecChars=C,e.parse=D,e.removeDotSegments=j,e.serialize=q,e.resolveComponents=B,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:"null"},r);return q(B(D(e,n),D(t,n),n,!0),n)},e.normalize=function(e,t){return"string"==typeof e?e=q(D(e,t),t):"object"===n(e)&&(e=D(q(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=q(D(e,r),r):"object"===n(e)&&(e=q(e,r)),"string"==typeof t?t=q(D(t,r),r):"object"===n(t)&&(t=q(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:o.ESCAPE,N)},e.unescapeComponent=L,Object.defineProperty(e,"__esModule",{value:!0})}(t)}));unwrapExports(uri_all);var isArray$3=Array.isArray,keyList=Object.keys,hasProp=Object.prototype.hasOwnProperty,fastDeepEqual=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){var n,a,i,o=isArray$3(t),s=isArray$3(r);if(o&&s){if((a=t.length)!=r.length)return!1;for(n=a;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(o!=s)return!1;var u=t instanceof Date,c=r instanceof Date;if(u!=c)return!1;if(u&&c)return t.getTime()==r.getTime();var l=t instanceof RegExp,p=r instanceof RegExp;if(l!=p)return!1;if(l&&p)return t.toString()==r.toString();var d=keyList(t);if((a=d.length)!==keyList(r).length)return!1;for(n=a;0!=n--;)if(!hasProp.call(r,d[n]))return!1;for(n=a;0!=n--;)if(!e(t[i=d[n]],r[i]))return!1;return!0}return t!=t&&r!=r},ucs2length=function(e){for(var t,r=0,n=e.length,a=0;a<n;)r++,(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<n&&56320==(64512&(t=e.charCodeAt(a)))&&a++;return r},util={copy:copy,checkDataType:checkDataType,checkDataTypes:checkDataTypes,coerceToTypes:coerceToTypes,toHash:toHash,getProperty:getProperty,escapeQuotes:escapeQuotes,equal:fastDeepEqual,ucs2length:ucs2length,varOccurences:varOccurences,varReplace:varReplace,cleanUpCode:cleanUpCode,finalCleanUpCode:finalCleanUpCode,schemaHasRules:schemaHasRules,schemaHasRulesExcept:schemaHasRulesExcept,schemaUnknownRules:schemaUnknownRules,toQuotedString:toQuotedString,getPathExpr:getPathExpr,getPath:getPath,getData:getData,unescapeFragment:unescapeFragment,unescapeJsonPointer:unescapeJsonPointer,escapeFragment:escapeFragment,escapeJsonPointer:escapeJsonPointer};function copy(e,t){for(var r in t=t||{},e)t[r]=e[r];return t}function checkDataType(e,t,r){var n=r?" !== ":" === ",a=r?" || ":" && ",i=r?"!":"",o=r?"":"!";switch(e){case"null":return t+n+"null";case"array":return i+"Array.isArray("+t+")";case"object":return"("+i+t+a+"typeof "+t+n+'"object"'+a+o+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+n+'"number"'+a+o+"("+t+" % 1)"+a+t+n+t+")";default:return"typeof "+t+n+'"'+e+'"'}}function checkDataTypes(e,t){switch(e.length){case 1:return checkDataType(e[0],t,!0);default:var r="",n=toHash(e);for(var a in n.array&&n.object&&(r=n.null?"(":"(!"+t+" || ",r+="typeof "+t+' !== "object")',delete n.null,delete n.array,delete n.object),n.number&&delete n.integer,n)r+=(r?" && ":"")+checkDataType(a,t,!0);return r}}var COERCE_TO_TYPES=toHash(["string","number","integer","boolean","null"]);function coerceToTypes(e,t){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++){var a=t[n];COERCE_TO_TYPES[a]?r[r.length]=a:"array"===e&&"array"===a&&(r[r.length]=a)}if(r.length)return r}else{if(COERCE_TO_TYPES[t])return[t];if("array"===e&&"array"===t)return["array"]}}function toHash(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i,SINGLE_QUOTE=/'|\\/g;function getProperty(e){return"number"==typeof e?"["+e+"]":IDENTIFIER.test(e)?"."+e:"['"+escapeQuotes(e)+"']"}function escapeQuotes(e){return e.replace(SINGLE_QUOTE,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function varOccurences(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0}function varReplace(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")}var EMPTY_ELSE=/else\s*{\s*}/g,EMPTY_IF_NO_ELSE=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,EMPTY_IF_WITH_ELSE=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;function cleanUpCode(e){return e.replace(EMPTY_ELSE,"").replace(EMPTY_IF_NO_ELSE,"").replace(EMPTY_IF_WITH_ELSE,"if (!($1))")}var ERRORS_REGEXP=/[^v.]errors/g,REMOVE_ERRORS=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,REMOVE_ERRORS_ASYNC=/var errors = 0;|var vErrors = null;/g,RETURN_VALID="return errors === 0;",RETURN_TRUE="validate.errors = null; return true;",RETURN_ASYNC=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,RETURN_DATA_ASYNC="return data;",ROOTDATA_REGEXP=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,REMOVE_ROOTDATA=/if \(rootData === undefined\) rootData = data;/;function finalCleanUpCode(e,t){var r=e.match(ERRORS_REGEXP);return r&&2==r.length&&(e=t?e.replace(REMOVE_ERRORS_ASYNC,"").replace(RETURN_ASYNC,RETURN_DATA_ASYNC):e.replace(REMOVE_ERRORS,"").replace(RETURN_VALID,RETURN_TRUE)),(r=e.match(ROOTDATA_REGEXP))&&3===r.length?e.replace(REMOVE_ROOTDATA,""):e}function schemaHasRules(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0}function schemaHasRulesExcept(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var n in e)if(n!=r&&t[n])return!0}function schemaUnknownRules(e,t){if("boolean"!=typeof e)for(var r in e)if(!t[r])return r}function toQuotedString(e){return"'"+escapeQuotes(e)+"'"}function getPathExpr(e,t,r,n){return joinPaths(e,r?"'/' + "+t+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")}function getPath(e,t,r){return joinPaths(e,toQuotedString(r?"/"+escapeJsonPointer(t):getProperty(t)))}var JSON_POINTER=/^\/(?:[^~]|~0|~1)*$/,RELATIVE_JSON_POINTER=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function getData(e,t,r){var n,a,i,o;if(""===e)return"rootData";if("/"==e[0]){if(!JSON_POINTER.test(e))throw new Error("Invalid JSON-pointer: "+e);a=e,i="rootData"}else{if(!(o=e.match(RELATIVE_JSON_POINTER)))throw new Error("Invalid JSON-pointer: "+e);if(n=+o[1],"#"==(a=o[2])){if(n>=t)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return r[t-n]}if(n>t)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(i="data"+(t-n||""),!a)return i}for(var s=i,u=a.split("/"),c=0;c<u.length;c++){var l=u[c];l&&(s+=" && "+(i+=getProperty(unescapeJsonPointer(l))))}return s}function joinPaths(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function unescapeFragment(e){return unescapeJsonPointer(decodeURIComponent(e))}function escapeFragment(e){return encodeURIComponent(escapeJsonPointer(e))}function escapeJsonPointer(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function unescapeJsonPointer(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var schema_obj=SchemaObject;function SchemaObject(e){util.copy(e,this)}var jsonSchemaTraverse=createCommonjsModule((function(e){var t=e.exports=function(e,r,n){"function"==typeof r&&(n=r,r={}),function e(r,n,a,i,o,s,u,c,l,p){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var d in n(i,o,s,u,c,l,p),i){var f=i[d];if(Array.isArray(f)){if(d in t.arrayKeywords)for(var m=0;m<f.length;m++)e(r,n,a,f[m],o+"/"+d+"/"+m,s,o,d,i,m)}else if(d in t.propsKeywords){if(f&&"object"==typeof f)for(var h in f)e(r,n,a,f[h],o+"/"+d+"/"+h.replace(/~/g,"~0").replace(/\//g,"~1"),s,o,d,i,h)}else(d in t.keywords||r.allKeys&&!(d in t.skipKeywords))&&e(r,n,a,f,o+"/"+d,s,o,d,i)}a(i,o,s,u,c,l,p)}}(r,"function"==typeof(n=r.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}})),resolve_1=resolve;function resolve(e,t,r){var n=this._refs[r];if("string"==typeof n){if(!this._refs[n])return resolve.call(this,e,t,n);n=this._refs[n]}if((n=n||this._schemas[r])instanceof schema_obj)return inlineRef(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var a,i,o,s=resolveSchema.call(this,t,r);return s&&(a=s.schema,t=s.root,o=s.baseId),a instanceof schema_obj?i=a.validate||e.call(this,a.schema,t,void 0,o):void 0!==a&&(i=inlineRef(a,this._opts.inlineRefs)?a:e.call(this,a,t,void 0,o)),i}function resolveSchema(e,t){var r=uri_all.parse(t),n=_getFullPath(r),a=getFullPath(this._getId(e.schema));if(0===Object.keys(e.schema).length||n!==a){var i=normalizeId(n),o=this._refs[i];if("string"==typeof o)return resolveRecursive.call(this,e,o,r);if(o instanceof schema_obj)o.validate||this._compile(o),e=o;else{if(!((o=this._schemas[i])instanceof schema_obj))return;if(o.validate||this._compile(o),i==normalizeId(t))return{schema:o,root:e,baseId:a};e=o}if(!e.schema)return;a=getFullPath(this._getId(e.schema))}return getJsonPointer.call(this,r,a,e.schema,e)}function resolveRecursive(e,t,r){var n=resolveSchema.call(this,e,t);if(n){var a=n.schema,i=n.baseId;e=n.root;var o=this._getId(a);return o&&(i=resolveUrl(i,o)),getJsonPointer.call(this,r,i,a,e)}}resolve.normalizeId=normalizeId,resolve.fullPath=getFullPath,resolve.url=resolveUrl,resolve.ids=resolveIds,resolve.inlineRef=inlineRef,resolve.schema=resolveSchema;var PREVENT_SCOPE_CHANGE=util.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function getJsonPointer(e,t,r,n){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var a=e.fragment.split("/"),i=1;i<a.length;i++){var o=a[i];if(o){if(void 0===(r=r[o=util.unescapeFragment(o)]))break;var s;if(!PREVENT_SCOPE_CHANGE[o]&&((s=this._getId(r))&&(t=resolveUrl(t,s)),r.$ref)){var u=resolveUrl(t,r.$ref),c=resolveSchema.call(this,n,u);c&&(r=c.schema,n=c.root,t=c.baseId)}}}return void 0!==r&&r!==n.schema?{schema:r,root:n,baseId:t}:void 0}}var SIMPLE_INLINED=util.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function inlineRef(e,t){return!1!==t&&(void 0===t||!0===t?checkNoRef(e):t?countKeys(e)<=t:void 0)}function checkNoRef(e){var t;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("object"==typeof(t=e[r])&&!checkNoRef(t))return!1}else for(var n in e){if("$ref"==n)return!1;if("object"==typeof(t=e[n])&&!checkNoRef(t))return!1}return!0}function countKeys(e){var t,r=0;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("object"==typeof(t=e[n])&&(r+=countKeys(t)),r==1/0)return 1/0}else for(var a in e){if("$ref"==a)return 1/0;if(SIMPLE_INLINED[a])r++;else if("object"==typeof(t=e[a])&&(r+=countKeys(t)+1),r==1/0)return 1/0}return r}function getFullPath(e,t){return!1!==t&&(e=normalizeId(e)),_getFullPath(uri_all.parse(e))}function _getFullPath(e){return uri_all.serialize(e).split("#")[0]+"#"}var TRAILING_SLASH_HASH=/#\/?$/;function normalizeId(e){return e?e.replace(TRAILING_SLASH_HASH,""):""}function resolveUrl(e,t){return t=normalizeId(t),uri_all.resolve(e,t)}function resolveIds(e){var t=normalizeId(this._getId(e)),r={"":t},n={"":getFullPath(t,!1)},a={},i=this;return jsonSchemaTraverse(e,{allKeys:!0},(function(e,t,o,s,u,c,l){if(""!==t){var p=i._getId(e),d=r[s],f=n[s]+"/"+u;if(void 0!==l&&(f+="/"+("number"==typeof l?l:util.escapeFragment(l))),"string"==typeof p){p=d=normalizeId(d?uri_all.resolve(d,p):p);var m=i._refs[p];if("string"==typeof m&&(m=i._refs[m]),m&&m.schema){if(!fastDeepEqual(e,m.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=normalizeId(f))if("#"==p[0]){if(a[p]&&!fastDeepEqual(e,a[p]))throw new Error('id "'+p+'" resolves to more than one schema');a[p]=e}else i._refs[p]=f}r[t]=d,n[t]=f}})),a}var error_classes={Validation:errorSubclass(ValidationError),MissingRef:errorSubclass(MissingRefError)};function ValidationError(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}function MissingRefError(e,t,r){this.message=r||MissingRefError.message(e,t),this.missingRef=resolve_1.url(e,t),this.missingSchema=resolve_1.normalizeId(resolve_1.fullPath(this.missingRef))}function errorSubclass(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}MissingRefError.message=function(e,t){return"can't resolve reference "+t+" from id "+e};var fastJsonStableStringify=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,n="boolean"==typeof t.cycles&&t.cycles,a=t.cmp&&(r=t.cmp,function(e){return function(t,n){var a={key:t,value:e[t]},i={key:n,value:e[n]};return r(a,i)}}),i=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,o;if(Array.isArray(t)){for(o="[",r=0;r<t.length;r++)r&&(o+=","),o+=e(t[r])||"null";return o+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=i.push(t)-1,u=Object.keys(t).sort(a&&a(t));for(o="",r=0;r<u.length;r++){var c=u[r],l=e(t[c]);l&&(o&&(o+=","),o+=JSON.stringify(c)+":"+l)}return i.splice(s,1),"{"+o+"}"}}(e)},validate$1=function(e,t,r){var n="",a=!0===e.schema.$async,i=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var u="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(u);e.logger.warn(u)}}if(e.isTop&&(n+=" var validate = ",a&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" /*# sourceURL="+o+" */ ")),"boolean"==typeof e.schema||!i&&!e.schema.$ref){var c=e.level,l=e.dataLevel,p=e.schema["false schema"],d=e.schemaPath+e.util.getProperty("false schema"),f=e.errSchemaPath+"/false schema",m=!e.opts.allErrors,h="data"+(l||""),_="valid"+c;if(!1===e.schema){e.isTop?m=!0:n+=" var "+_+" = false; ",(Z=Z||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var v=n;n=Z.pop(),!e.compositeRule&&m?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?n+=a?" return data; ":" validate.errors = null; return true; ":n+=" var "+_+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var g=e.isTop;c=e.level=0,l=e.dataLevel=0,h="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var y="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(y);e.logger.warn(y)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{c=e.level,h="data"+((l=e.dataLevel)||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),a&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+c+" = errors;"}_="valid"+c,m=!e.opts.allErrors;var b="",$="",x=e.schema.type,w=Array.isArray(x);if(x&&e.opts.nullable&&!0===e.schema.nullable&&(w?-1==x.indexOf("null")&&(x=x.concat("null")):"null"!=x&&(x=[x,"null"],w=!0)),w&&1==x.length&&(x=x[0],w=!1),e.schema.$ref&&i){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(i=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),x){if(e.opts.coerceTypes)var S=e.util.coerceToTypes(e.opts.coerceTypes,x);var N=e.RULES.types[x];if(S||w||!0===N||N&&!J(N)){d=e.schemaPath+".type",f=e.errSchemaPath+"/type",d=e.schemaPath+".type",f=e.errSchemaPath+"/type";var C=w?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[C](x,h,!0)+") { ",S){var E="dataType"+c,A="coerced"+c;n+=" var "+E+" = typeof "+h+"; ","array"==e.opts.coerceTypes&&(n+=" if ("+E+" == 'object' && Array.isArray("+h+")) "+E+" = 'array'; "),n+=" var "+A+" = undefined; ";var M="",T=S;if(T)for(var O,P=-1,D=T.length-1;P<D;)O=T[P+=1],P&&(n+=" if ("+A+" === undefined) { ",M+="}"),"array"==e.opts.coerceTypes&&"array"!=O&&(n+=" if ("+E+" == 'array' && "+h+".length == 1) { "+A+" = "+h+" = "+h+"[0]; "+E+" = typeof "+h+";  } "),"string"==O?n+=" if ("+E+" == 'number' || "+E+" == 'boolean') "+A+" = '' + "+h+"; else if ("+h+" === null) "+A+" = ''; ":"number"==O||"integer"==O?(n+=" if ("+E+" == 'boolean' || "+h+" === null || ("+E+" == 'string' && "+h+" && "+h+" == +"+h+" ","integer"==O&&(n+=" && !("+h+" % 1)"),n+=")) "+A+" = +"+h+"; "):"boolean"==O?n+=" if ("+h+" === 'false' || "+h+" === 0 || "+h+" === null) "+A+" = false; else if ("+h+" === 'true' || "+h+" === 1) "+A+" = true; ":"null"==O?n+=" if ("+h+" === '' || "+h+" === 0 || "+h+" === false) "+A+" = null; ":"array"==e.opts.coerceTypes&&"array"==O&&(n+=" if ("+E+" == 'string' || "+E+" == 'number' || "+E+" == 'boolean' || "+h+" == null) "+A+" = ["+h+"]; ");n+=" "+M+" if ("+A+" === undefined) {   ",(Z=Z||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",n+=w?""+x.join(","):""+x,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=w?""+x.join(","):""+x,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";v=n;n=Z.pop(),!e.compositeRule&&m?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  ";var I=l?"data"+(l-1||""):"parentData";n+=" "+h+" = "+A+"; ",l||(n+="if ("+I+" !== undefined)"),n+=" "+I+"["+(l?e.dataPathArr[l]:"parentDataProperty")+"] = "+A+"; } "}else{(Z=Z||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",n+=w?""+x.join(","):""+x,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=w?""+x.join(","):""+x,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";v=n;n=Z.pop(),!e.compositeRule&&m?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(e.schema.$ref&&!i)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",m&&(n+=" } if (errors === ",n+=g?"0":"errs_"+c,n+=") { ",$+="}");else{var F=e.RULES;if(F)for(var k=-1,R=F.length-1;k<R;)if(J(N=F[k+=1])){if(N.type&&(n+=" if ("+e.util.checkDataType(N.type,h)+") { "),e.opts.useDefaults)if("object"==N.type&&e.schema.properties){p=e.schema.properties;var j=Object.keys(p);if(j)for(var q,B=-1,L=j.length-1;B<L;){if(void 0!==(U=p[q=j[B+=1]]).default){var V=h+e.util.getProperty(q);if(e.compositeRule){if(e.opts.strictDefaults){y="default is ignored for: "+V;if("log"!==e.opts.strictDefaults)throw new Error(y);e.logger.warn(y)}}else n+=" if ("+V+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+V+" === null || "+V+" === '' "),n+=" ) "+V+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(U.default)+" ":n+=" "+JSON.stringify(U.default)+" ",n+="; "}}}else if("array"==N.type&&Array.isArray(e.schema.items)){var z=e.schema.items;if(z){P=-1;for(var U,G=z.length-1;P<G;)if(void 0!==(U=z[P+=1]).default){V=h+"["+P+"]";if(e.compositeRule){if(e.opts.strictDefaults){y="default is ignored for: "+V;if("log"!==e.opts.strictDefaults)throw new Error(y);e.logger.warn(y)}}else n+=" if ("+V+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+V+" === null || "+V+" === '' "),n+=" ) "+V+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(U.default)+" ":n+=" "+JSON.stringify(U.default)+" ",n+="; "}}}var H=N.rules;if(H)for(var W,Q=-1,Y=H.length-1;Q<Y;)if(X(W=H[Q+=1])){var K=W.code(e,W.keyword,N.type);K&&(n+=" "+K+" ",m&&(b+="}"))}if(m&&(n+=" "+b+" ",b=""),N.type&&(n+=" } ",x&&x===N.type&&!S)){n+=" else { ";var Z;d=e.schemaPath+".type",f=e.errSchemaPath+"/type";(Z=Z||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",n+=w?""+x.join(","):""+x,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=w?""+x.join(","):""+x,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";v=n;n=Z.pop(),!e.compositeRule&&m?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}m&&(n+=" if (errors === ",n+=g?"0":"errs_"+c,n+=") { ",$+="}")}}function J(e){for(var t=e.rules,r=0;r<t.length;r++)if(X(t[r]))return!0}function X(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,n=0;n<r.length;n++)if(void 0!==e.schema[r[n]])return!0}(t)}return m&&(n+=" "+$+" "),g?(a?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+_+" = errors === errs_"+c+";",n=e.util.cleanUpCode(n),g&&(n=e.util.finalCleanUpCode(n,a)),n},ucs2length$1=util.ucs2length,ValidationError$1=error_classes.Validation,compile_1=compile$1;function compile$1(e,t,r,n){var a=this,i=this._opts,o=[void 0],s={},u=[],c={},l=[],p={},d=[];t=t||{schema:e,refVal:o,refs:s};var f=checkCompiling.call(this,e,t,n),m=this._compilations[f.index];if(f.compiling)return m.callValidate=function e(){var t=m.validate,r=t.apply(this,arguments);return e.errors=t.errors,r};var h=this._formats,_=this.RULES;try{var v=y(e,t,r,n);m.validate=v;var g=m.callValidate;return g&&(g.schema=v.schema,g.errors=null,g.refs=v.refs,g.refVal=v.refVal,g.root=v.root,g.$async=v.$async,i.sourceCode&&(g.source=v.source)),v}finally{endCompiling.call(this,e,t,n)}function y(e,r,n,c){var p=!r||r&&r.schema==e;if(r.schema!=t.schema)return compile$1.call(a,e,r,n,c);var f,m=!0===e.$async,v=validate$1({isTop:!0,schema:e,isRoot:p,baseId:c,root:r,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:error_classes.MissingRef,RULES:_,validate:validate$1,util:util,resolve:resolve_1,resolveRef:b,usePattern:w,useDefault:S,useCustomRule:N,opts:i,formats:h,logger:a.logger,self:a});v=vars(o,refValCode)+vars(u,patternCode)+vars(l,defaultCode)+vars(d,customRuleCode)+v,i.processCode&&(v=i.processCode(v));try{f=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",v)(a,_,h,t,o,l,d,fastDeepEqual,ucs2length$1,ValidationError$1),o[0]=f}catch(e){throw a.logger.error("Error compiling schema, function code:",v),e}return f.schema=e,f.errors=null,f.refs=s,f.refVal=o,f.root=p?f:r,m&&(f.$async=!0),!0===i.sourceCode&&(f.source={code:v,patterns:u,defaults:l}),f}function b(e,n,u){n=resolve_1.url(e,n);var c,l,p=s[n];if(void 0!==p)return x(c=o[p],l="refVal["+p+"]");if(!u&&t.refs){var d=t.refs[n];if(void 0!==d)return x(c=t.refVal[d],l=$(n,c))}l=$(n);var f=resolve_1.call(a,y,t,n);if(void 0===f){var m=r&&r[n];m&&(f=resolve_1.inlineRef(m,i.inlineRefs)?m:compile$1.call(a,m,t,r,e))}if(void 0!==f)return function(e,t){var r=s[e];o[r]=t}(n,f),x(f,l);!function(e){delete s[e]}(n)}function $(e,t){var r=o.length;return o[r]=t,s[e]=r,"refVal"+r}function x(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function w(e){var t=c[e];return void 0===t&&(t=c[e]=u.length,u[t]=e),"pattern"+t}function S(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return util.toQuotedString(e);case"object":if(null===e)return"null";var t=fastJsonStableStringify(e),r=p[t];return void 0===r&&(r=p[t]=l.length,l[r]=e),"default"+r}}function N(e,t,r,n){if(!1!==a._opts.validateSchema){var o=e.definition.dependencies;if(o&&!o.every((function(e){return Object.prototype.hasOwnProperty.call(r,e)})))throw new Error("parent schema must have all required keywords: "+o.join(","));var s=e.definition.validateSchema;if(s)if(!s(t)){var u="keyword schema is invalid: "+a.errorsText(s.errors);if("log"!=a._opts.validateSchema)throw new Error(u);a.logger.error(u)}}var c,l=e.definition.compile,p=e.definition.inline,f=e.definition.macro;if(l)c=l.call(a,t,r,n);else if(f)c=f.call(a,t,r,n),!1!==i.validateSchema&&a.validateSchema(c,!0);else if(p)c=p.call(a,n,e.keyword,t,r);else if(!(c=e.definition.validate))return;if(void 0===c)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var m=d.length;return d[m]=c,{code:"customRule"+m,validate:c}}}function checkCompiling(e,t,r){var n=compIndex.call(this,e,t,r);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:r},{index:n,compiling:!1})}function endCompiling(e,t,r){var n=compIndex.call(this,e,t,r);n>=0&&this._compilations.splice(n,1)}function compIndex(e,t,r){for(var n=0;n<this._compilations.length;n++){var a=this._compilations[n];if(a.schema==e&&a.root==t&&a.baseId==r)return n}return-1}function patternCode(e,t){return"var pattern"+e+" = new RegExp("+util.toQuotedString(t[e])+");"}function defaultCode(e){return"var default"+e+" = defaults["+e+"];"}function refValCode(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function customRuleCode(e){return"var customRule"+e+" = customRules["+e+"];"}function vars(e,t){if(!e.length)return"";for(var r="",n=0;n<e.length;n++)r+=t(n,e);return r}var cache=createCommonjsModule((function(e){var t=e.exports=function(){this._cache={}};t.prototype.put=function(e,t){this._cache[e]=t},t.prototype.get=function(e){return this._cache[e]},t.prototype.del=function(e){delete this._cache[e]},t.prototype.clear=function(){this._cache={}}})),DATE=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,DAYS=[0,31,28,31,30,31,30,31,31,30,31,30,31],TIME=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,HOSTNAME=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,URI=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,URIREF=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,URITEMPLATE=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,URL=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,UUID=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,JSON_POINTER$1=/^(?:\/(?:[^~/]|~0|~1)*)*$/,JSON_POINTER_URI_FRAGMENT=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,RELATIVE_JSON_POINTER$1=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,formats_1=formats;function formats(e){return e="full"==e?"full":"fast",util.copy(formats[e])}function isLeapYear(e){return e%4==0&&(e%100!=0||e%400==0)}function date(e){var t=e.match(DATE);if(!t)return!1;var r=+t[1],n=+t[2],a=+t[3];return n>=1&&n<=12&&a>=1&&a<=(2==n&&isLeapYear(r)?29:DAYS[n])}function time(e,t){var r=e.match(TIME);if(!r)return!1;var n=r[1],a=r[2],i=r[3],o=r[5];return(n<=23&&a<=59&&i<=59||23==n&&59==a&&60==i)&&(!t||o)}formats.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":URITEMPLATE,url:URL,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:HOSTNAME,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:UUID,"json-pointer":JSON_POINTER$1,"json-pointer-uri-fragment":JSON_POINTER_URI_FRAGMENT,"relative-json-pointer":RELATIVE_JSON_POINTER$1},formats.full={date:date,time:time,"date-time":date_time,uri:uri,"uri-reference":URIREF,"uri-template":URITEMPLATE,url:URL,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:hostname,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:UUID,"json-pointer":JSON_POINTER$1,"json-pointer-uri-fragment":JSON_POINTER_URI_FRAGMENT,"relative-json-pointer":RELATIVE_JSON_POINTER$1};var DATE_TIME_SEPARATOR=/t|\s/i;function date_time(e){var t=e.split(DATE_TIME_SEPARATOR);return 2==t.length&&date(t[0])&&time(t[1],!0)}function hostname(e){return e.length<=255&&HOSTNAME.test(e)}var NOT_URI_FRAGMENT=/\/|:/;function uri(e){return NOT_URI_FRAGMENT.test(e)&&URI.test(e)}var Z_ANCHOR=/[^\\]\\Z/;function regex(e){if(Z_ANCHOR.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}var ref=function(e,t,r){var n,a,i=" ",o=e.level,s=e.dataLevel,u=e.schema[t],c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(s||""),d="valid"+o;if("#"==u||"#/"==u)e.isRoot?(n=e.async,a="validate"):(n=!0===e.root.schema.$async,a="root.refVal[0]");else{var f=e.resolveRef(e.baseId,u,e.isRoot);if(void 0===f){var m=e.MissingRefError.message(e.baseId,u);if("fail"==e.opts.missingRefs){e.logger.error(m),(g=g||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(u)+"' } ",!1!==e.opts.messages&&(i+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(u)+"' "),e.opts.verbose&&(i+=" , schema: "+e.util.toQuotedString(u)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),i+=" } "):i+=" {} ";var h=i;i=g.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+h+"]); ":i+=" validate.errors = ["+h+"]; return false; ":i+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(i+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,u,m);e.logger.warn(m),l&&(i+=" if (true) { ")}}else if(f.inline){var _=e.util.copy(e);_.level++;var v="valid"+_.level;_.schema=f.schema,_.schemaPath="",_.errSchemaPath=u,i+=" "+e.validate(_).replace(/validate\.schema/g,f.code)+" ",l&&(i+=" if ("+v+") { ")}else n=!0===f.$async||e.async&&!1!==f.$async,a=f.code}if(a){var g;(g=g||[]).push(i),i="",e.opts.passContext?i+=" "+a+".call(this, ":i+=" "+a+"( ",i+=" "+p+", (dataPath || '')",'""'!=e.errorPath&&(i+=" + "+e.errorPath);var y=i+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(i=g.pop(),n){if(!e.async)throw new Error("async schema referenced by sync schema");l&&(i+=" var "+d+"; "),i+=" try { await "+y+"; ",l&&(i+=" "+d+" = true; "),i+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(i+=" "+d+" = false; "),i+=" } ",l&&(i+=" if ("+d+") { ")}else i+=" if (!"+y+") { if (vErrors === null) vErrors = "+a+".errors; else vErrors = vErrors.concat("+a+".errors); errors = vErrors.length; } ",l&&(i+=" else { ")}return i},allOf=function(e,t,r){var n=" ",a=e.schema[t],i=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,u=e.util.copy(e),c="";u.level++;var l="valid"+u.level,p=u.baseId,d=!0,f=a;if(f)for(var m,h=-1,_=f.length-1;h<_;)m=f[h+=1],(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0:e.util.schemaHasRules(m,e.RULES.all))&&(d=!1,u.schema=m,u.schemaPath=i+"["+h+"]",u.errSchemaPath=o+"/"+h,n+="  "+e.validate(u)+" ",u.baseId=p,s&&(n+=" if ("+l+") { ",c+="}"));return s&&(n+=d?" if (true) { ":" "+c.slice(0,-1)+" "),n=e.util.cleanUpCode(n)},anyOf=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(i||""),p="valid"+a,d="errs__"+a,f=e.util.copy(e),m="";f.level++;var h="valid"+f.level;if(o.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0:e.util.schemaHasRules(t,e.RULES.all)}))){var _=f.baseId;n+=" var "+d+" = errors; var "+p+" = false;  ";var v=e.compositeRule;e.compositeRule=f.compositeRule=!0;var g=o;if(g)for(var y,b=-1,$=g.length-1;b<$;)y=g[b+=1],f.schema=y,f.schemaPath=s+"["+b+"]",f.errSchemaPath=u+"/"+b,n+="  "+e.validate(f)+" ",f.baseId=_,n+=" "+p+" = "+p+" || "+h+"; if (!"+p+") { ",m+="}";e.compositeRule=f.compositeRule=v,n+=" "+m+" if (!"+p+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } "),n=e.util.cleanUpCode(n)}else c&&(n+=" if (true) { ");return n},comment=function(e,t,r){var n=" ",a=e.schema[t],i=e.errSchemaPath+"/"+t,o=(e.opts.allErrors,e.util.toQuotedString(a));return!0===e.opts.$comment?n+=" console.log("+o+");":"function"==typeof e.opts.$comment&&(n+=" self._opts.$comment("+o+", "+e.util.toQuotedString(i)+", validate.root.schema);"),n},_const=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(i||""),p="valid"+a,d=e.opts.$data&&o&&o.$data;d&&(n+=" var schema"+a+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; "),d||(n+=" var schema"+a+" = validate.schema"+s+";"),n+="var "+p+" = equal("+l+", schema"+a+"); if (!"+p+") {   ";var f=f||[];f.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+a+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var m=n;return n=f.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n},contains=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(i||""),p="valid"+a,d="errs__"+a,f=e.util.copy(e);f.level++;var m="valid"+f.level,h="i"+a,_=f.dataLevel=e.dataLevel+1,v="data"+_,g=e.baseId,y=e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0:e.util.schemaHasRules(o,e.RULES.all);if(n+="var "+d+" = errors;var "+p+";",y){var b=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=o,f.schemaPath=s,f.errSchemaPath=u,n+=" var "+m+" = false; for (var "+h+" = 0; "+h+" < "+l+".length; "+h+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,h,e.opts.jsonPointers,!0);var $=l+"["+h+"]";f.dataPathArr[_]=h;var x=e.validate(f);f.baseId=g,e.util.varOccurences(x,v)<2?n+=" "+e.util.varReplace(x,v,$)+" ":n+=" var "+v+" = "+$+"; "+x+" ",n+=" if ("+m+") break; }  ",e.compositeRule=f.compositeRule=b,n+="  if (!"+m+") {"}else n+=" if ("+l+".length == 0) {";var w=w||[];w.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var S=n;return n=w.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+S+"]); ":n+=" validate.errors = ["+S+"]; return false; ":n+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",y&&(n+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n=e.util.cleanUpCode(n)},dependencies$4n=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(i||""),p="errs__"+a,d=e.util.copy(e),f="";d.level++;var m="valid"+d.level,h={},_={},v=e.opts.ownProperties;for($ in o){var g=o[$],y=Array.isArray(g)?_:h;y[$]=g}n+="var "+p+" = errors;";var b=e.errorPath;for(var $ in n+="var missing"+a+";",_)if((y=_[$]).length){if(n+=" if ( "+l+e.util.getProperty($)+" !== undefined ",v&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes($)+"') "),c){n+=" && ( ";var x=y;if(x)for(var w=-1,S=x.length-1;w<S;){T=x[w+=1],w&&(n+=" || "),n+=" ( ( "+(I=l+(D=e.util.getProperty(T)))+" === undefined ",v&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(T)+"') "),n+=") && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?T:D)+") ) "}n+=")) {  ";var N="missing"+a,C="' + "+N+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,N,!0):b+" + "+N);var E=E||[];E.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes($)+"', missingProperty: '"+C+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==y.length?n+="property "+e.util.escapeQuotes(y[0]):n+="properties "+e.util.escapeQuotes(y.join(", ")),n+=" when property "+e.util.escapeQuotes($)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var A=n;n=E.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var M=y;if(M)for(var T,O=-1,P=M.length-1;O<P;){T=M[O+=1];var D=e.util.getProperty(T),I=(C=e.util.escapeQuotes(T),l+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,T,e.opts.jsonPointers)),n+=" if ( "+I+" === undefined ",v&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(T)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes($)+"', missingProperty: '"+C+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==y.length?n+="property "+e.util.escapeQuotes(y[0]):n+="properties "+e.util.escapeQuotes(y.join(", ")),n+=" when property "+e.util.escapeQuotes($)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",c&&(f+="}",n+=" else { ")}e.errorPath=b;var F=d.baseId;for(var $ in h){g=h[$];(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0:e.util.schemaHasRules(g,e.RULES.all))&&(n+=" "+m+" = true; if ( "+l+e.util.getProperty($)+" !== undefined ",v&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes($)+"') "),n+=") { ",d.schema=g,d.schemaPath=s+e.util.getProperty($),d.errSchemaPath=u+"/"+e.util.escapeFragment($),n+="  "+e.validate(d)+" ",d.baseId=F,n+=" }  ",c&&(n+=" if ("+m+") { ",f+="}"))}return c&&(n+="   "+f+" if ("+p+" == errors) {"),n=e.util.cleanUpCode(n)},_enum=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(i||""),p="valid"+a,d=e.opts.$data&&o&&o.$data;d&&(n+=" var schema"+a+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ");var f="i"+a,m="schema"+a;d||(n+=" var "+m+" = validate.schema"+s+";"),n+="var "+p+";",d&&(n+=" if (schema"+a+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+a+")) "+p+" = false; else {"),n+=p+" = false;for (var "+f+"=0; "+f+"<"+m+".length; "+f+"++) if (equal("+l+", "+m+"["+f+"])) { "+p+" = true; break; }",d&&(n+="  }  "),n+=" if (!"+p+") {   ";var h=h||[];h.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+a+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var _=n;return n=h.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n},format$4=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(i||"");if(!1===e.opts.format)return c&&(n+=" if (true) { "),n;var p,d=e.opts.$data&&o&&o.$data;d?(n+=" var schema"+a+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ",p="schema"+a):p=o;var f=e.opts.unknownFormats,m=Array.isArray(f);if(d){n+=" var "+(h="format"+a)+" = formats["+p+"]; var "+(_="isObject"+a)+" = typeof "+h+" == 'object' && !("+h+" instanceof RegExp) && "+h+".validate; var "+(v="formatType"+a)+" = "+_+" && "+h+".type || 'string'; if ("+_+") { ",e.async&&(n+=" var async"+a+" = "+h+".async; "),n+=" "+h+" = "+h+".validate; } if (  ",d&&(n+=" ("+p+" !== undefined && typeof "+p+" != 'string') || "),n+=" (","ignore"!=f&&(n+=" ("+p+" && !"+h+" ",m&&(n+=" && self._opts.unknownFormats.indexOf("+p+") == -1 "),n+=") || "),n+=" ("+h+" && "+v+" == '"+r+"' && !(typeof "+h+" == 'function' ? ",e.async?n+=" (async"+a+" ? await "+h+"("+l+") : "+h+"("+l+")) ":n+=" "+h+"("+l+") ",n+=" : "+h+".test("+l+"))))) {"}else{var h;if(!(h=e.formats[o])){if("ignore"==f)return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(n+=" if (true) { "),n;if(m&&f.indexOf(o)>=0)return c&&(n+=" if (true) { "),n;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var _,v=(_="object"==typeof h&&!(h instanceof RegExp)&&h.validate)&&h.type||"string";if(_){var g=!0===h.async;h=h.validate}if(v!=r)return c&&(n+=" if (true) { "),n;if(g){if(!e.async)throw new Error("async format in sync schema");n+=" if (!(await "+(y="formats"+e.util.getProperty(o)+".validate")+"("+l+"))) { "}else{n+=" if (! ";var y="formats"+e.util.getProperty(o);_&&(y+=".validate"),n+="function"==typeof h?" "+y+"("+l+") ":" "+y+".test("+l+") ",n+=") { "}}var b=b||[];b.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",n+=d?""+p:""+e.util.toQuotedString(o),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match format \"",n+=d?"' + "+p+" + '":""+e.util.escapeQuotes(o),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=d?"validate.schema"+s:""+e.util.toQuotedString(o),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var $=n;return n=b.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+$+"]); ":n+=" validate.errors = ["+$+"]; return false; ":n+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { "),n},_if=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(i||""),p="valid"+a,d="errs__"+a,f=e.util.copy(e);f.level++;var m="valid"+f.level,h=e.schema.then,_=e.schema.else,v=void 0!==h&&(e.opts.strictKeywords?"object"==typeof h&&Object.keys(h).length>0:e.util.schemaHasRules(h,e.RULES.all)),g=void 0!==_&&(e.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0:e.util.schemaHasRules(_,e.RULES.all)),y=f.baseId;if(v||g){var b;f.createErrors=!1,f.schema=o,f.schemaPath=s,f.errSchemaPath=u,n+=" var "+d+" = errors; var "+p+" = true;  ";var $=e.compositeRule;e.compositeRule=f.compositeRule=!0,n+="  "+e.validate(f)+" ",f.baseId=y,f.createErrors=!0,n+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=f.compositeRule=$,v?(n+=" if ("+m+") {  ",f.schema=e.schema.then,f.schemaPath=e.schemaPath+".then",f.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(f)+" ",f.baseId=y,n+=" "+p+" = "+m+"; ",v&&g?n+=" var "+(b="ifClause"+a)+" = 'then'; ":b="'then'",n+=" } ",g&&(n+=" else { ")):n+=" if (!"+m+") { ",g&&(f.schema=e.schema.else,f.schemaPath=e.schemaPath+".else",f.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(f)+" ",f.baseId=y,n+=" "+p+" = "+m+"; ",v&&g?n+=" var "+(b="ifClause"+a)+" = 'else'; ":b="'else'",n+=" } "),n+=" if (!"+p+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+b+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match \"' + "+b+" + '\" schema' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",c&&(n+=" else { "),n=e.util.cleanUpCode(n)}else c&&(n+=" if (true) { ");return n},items=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(i||""),p="valid"+a,d="errs__"+a,f=e.util.copy(e),m="";f.level++;var h="valid"+f.level,_="i"+a,v=f.dataLevel=e.dataLevel+1,g="data"+v,y=e.baseId;if(n+="var "+d+" = errors;var "+p+";",Array.isArray(o)){var b=e.schema.additionalItems;if(!1===b){n+=" "+p+" = "+l+".length <= "+o.length+"; ";var $=u;u=e.errSchemaPath+"/additionalItems",n+="  if (!"+p+") {   ";var x=x||[];x.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+o.length+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var w=n;n=x.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",u=$,c&&(m+="}",n+=" else { ")}var S=o;if(S)for(var N,C=-1,E=S.length-1;C<E;)if(N=S[C+=1],e.opts.strictKeywords?"object"==typeof N&&Object.keys(N).length>0:e.util.schemaHasRules(N,e.RULES.all)){n+=" "+h+" = true; if ("+l+".length > "+C+") { ";var A=l+"["+C+"]";f.schema=N,f.schemaPath=s+"["+C+"]",f.errSchemaPath=u+"/"+C,f.errorPath=e.util.getPathExpr(e.errorPath,C,e.opts.jsonPointers,!0),f.dataPathArr[v]=C;var M=e.validate(f);f.baseId=y,e.util.varOccurences(M,g)<2?n+=" "+e.util.varReplace(M,g,A)+" ":n+=" var "+g+" = "+A+"; "+M+" ",n+=" }  ",c&&(n+=" if ("+h+") { ",m+="}")}if("object"==typeof b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0:e.util.schemaHasRules(b,e.RULES.all))){f.schema=b,f.schemaPath=e.schemaPath+".additionalItems",f.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+h+" = true; if ("+l+".length > "+o.length+") {  for (var "+_+" = "+o.length+"; "+_+" < "+l+".length; "+_+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,_,e.opts.jsonPointers,!0);A=l+"["+_+"]";f.dataPathArr[v]=_;M=e.validate(f);f.baseId=y,e.util.varOccurences(M,g)<2?n+=" "+e.util.varReplace(M,g,A)+" ":n+=" var "+g+" = "+A+"; "+M+" ",c&&(n+=" if (!"+h+") break; "),n+=" } }  ",c&&(n+=" if ("+h+") { ",m+="}")}}else if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0:e.util.schemaHasRules(o,e.RULES.all)){f.schema=o,f.schemaPath=s,f.errSchemaPath=u,n+="  for (var "+_+" = 0; "+_+" < "+l+".length; "+_+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,_,e.opts.jsonPointers,!0);A=l+"["+_+"]";f.dataPathArr[v]=_;M=e.validate(f);f.baseId=y,e.util.varOccurences(M,g)<2?n+=" "+e.util.varReplace(M,g,A)+" ":n+=" var "+g+" = "+A+"; "+M+" ",c&&(n+=" if (!"+h+") break; "),n+=" }"}return c&&(n+=" "+m+" if ("+d+" == errors) {"),n=e.util.cleanUpCode(n)},_limit=function(e,t,r){var n,a=" ",i=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+i):n=s;var f="maximum"==t,m=f?"exclusiveMaximum":"exclusiveMinimum",h=e.schema[m],_=e.opts.$data&&h&&h.$data,v=f?"<":">",g=f?">":"<",y=void 0;if(_){var b=e.util.getData(h.$data,o,e.dataPathArr),$="exclusive"+i,x="exclType"+i,w="exclIsNumber"+i,S="' + "+(E="op"+i)+" + '";a+=" var schemaExcl"+i+" = "+b+"; ",a+=" var "+$+"; var "+x+" = typeof "+(b="schemaExcl"+i)+"; if ("+x+" != 'boolean' && "+x+" != 'undefined' && "+x+" != 'number') { ";var N;y=m;(N=N||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(y||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: '"+m+" should be boolean' "),e.opts.verbose&&(a+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var C=a;a=N.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+C+"]); ":a+=" validate.errors = ["+C+"]; return false; ":a+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else if ( ",d&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),a+=" "+x+" == 'number' ? ( ("+$+" = "+n+" === undefined || "+b+" "+v+"= "+n+") ? "+p+" "+g+"= "+b+" : "+p+" "+g+" "+n+" ) : ( ("+$+" = "+b+" === true) ? "+p+" "+g+"= "+n+" : "+p+" "+g+" "+n+" ) || "+p+" !== "+p+") { var op"+i+" = "+$+" ? '"+v+"' : '"+v+"='; ",void 0===s&&(y=m,c=e.errSchemaPath+"/"+m,n=b,d=_)}else{S=v;if((w="number"==typeof h)&&d){var E="'"+S+"'";a+=" if ( ",d&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),a+=" ( "+n+" === undefined || "+h+" "+v+"= "+n+" ? "+p+" "+g+"= "+h+" : "+p+" "+g+" "+n+" ) || "+p+" !== "+p+") { "}else{w&&void 0===s?($=!0,y=m,c=e.errSchemaPath+"/"+m,n=h,g+="="):(w&&(n=Math[f?"min":"max"](h,s)),h===(!w||n)?($=!0,y=m,c=e.errSchemaPath+"/"+m,g+="="):($=!1,S+="="));E="'"+S+"'";a+=" if ( ",d&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),a+=" "+p+" "+g+" "+n+" || "+p+" !== "+p+") { "}}y=y||t,(N=N||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(y||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+E+", limit: "+n+", exclusive: "+$+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be "+S+" ",a+=d?"' + "+n:n+"'"),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+u:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";C=a;return a=N.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+C+"]); ":a+=" validate.errors = ["+C+"]; return false; ":a+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",l&&(a+=" else { "),a},_limitItems=function(e,t,r){var n,a=" ",i=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+i):n=s,a+="if ( ",d&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),a+=" "+p+".length "+("maxItems"==t?">":"<")+" "+n+") { ";var f=t,m=m||[];m.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(f||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have ",a+="maxItems"==t?"more":"fewer",a+=" than ",a+=d?"' + "+n+" + '":""+s,a+=" items' "),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+u:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var h=a;return a=m.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+h+"]); ":a+=" validate.errors = ["+h+"]; return false; ":a+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a},_limitLength=function(e,t,r){var n,a=" ",i=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+i):n=s;var f="maxLength"==t?">":"<";a+="if ( ",d&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),!1===e.opts.unicode?a+=" "+p+".length ":a+=" ucs2length("+p+") ",a+=" "+f+" "+n+") { ";var m=t,h=h||[];h.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(m||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be ",a+="maxLength"==t?"longer":"shorter",a+=" than ",a+=d?"' + "+n+" + '":""+s,a+=" characters' "),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+u:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var _=a;return a=h.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+_+"]); ":a+=" validate.errors = ["+_+"]; return false; ":a+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a},_limitProperties=function(e,t,r){var n,a=" ",i=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+i):n=s,a+="if ( ",d&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),a+=" Object.keys("+p+").length "+("maxProperties"==t?">":"<")+" "+n+") { ";var f=t,m=m||[];m.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(f||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have ",a+="maxProperties"==t?"more":"fewer",a+=" than ",a+=d?"' + "+n+" + '":""+s,a+=" properties' "),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+u:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var h=a;return a=m.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+h+"]); ":a+=" validate.errors = ["+h+"]; return false; ":a+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a},multipleOf=function(e,t,r){var n,a=" ",i=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+i):n=s,a+="var division"+i+";if (",d&&(a+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),a+=" (division"+i+" = "+p+" / "+n+", ",e.opts.multipleOfPrecision?a+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+e.opts.multipleOfPrecision+" ":a+=" division"+i+" !== parseInt(division"+i+") ",a+=" ) ",d&&(a+="  )  "),a+=" ) {   ";var f=f||[];f.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+n+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be multiple of ",a+=d?"' + "+n:n+"'"),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+u:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var m=a;return a=f.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a},not$1=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(i||""),p="errs__"+a,d=e.util.copy(e);d.level++;var f="valid"+d.level;if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0:e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=u,n+=" var "+p+" = errors;  ";var m,h=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.opts.allErrors&&(m=d.opts.allErrors,d.opts.allErrors=!1),n+=" "+e.validate(d)+" ",d.createErrors=!0,m&&(d.opts.allErrors=m),e.compositeRule=d.compositeRule=h,n+=" if ("+f+") {   ";var _=_||[];_.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var v=n;n=_.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(n+=" if (false) { ");return n},oneOf=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(i||""),p="valid"+a,d="errs__"+a,f=e.util.copy(e),m="";f.level++;var h="valid"+f.level,_=f.baseId,v="prevValid"+a,g="passingSchemas"+a;n+="var "+d+" = errors , "+v+" = false , "+p+" = false , "+g+" = null; ";var y=e.compositeRule;e.compositeRule=f.compositeRule=!0;var b=o;if(b)for(var $,x=-1,w=b.length-1;x<w;)$=b[x+=1],(e.opts.strictKeywords?"object"==typeof $&&Object.keys($).length>0:e.util.schemaHasRules($,e.RULES.all))?(f.schema=$,f.schemaPath=s+"["+x+"]",f.errSchemaPath=u+"/"+x,n+="  "+e.validate(f)+" ",f.baseId=_):n+=" var "+h+" = true; ",x&&(n+=" if ("+h+" && "+v+") { "+p+" = false; "+g+" = ["+g+", "+x+"]; } else { ",m+="}"),n+=" if ("+h+") { "+p+" = "+v+" = true; "+g+" = "+x+"; }";return e.compositeRule=f.compositeRule=y,n+=m+"if (!"+p+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+g+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n},pattern=function(e,t,r){var n,a=" ",i=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+i):n=s,a+="if ( ",d&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),a+=" !"+(d?"(new RegExp("+n+"))":e.usePattern(s))+".test("+p+") ) {   ";var f=f||[];f.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",a+=d?""+n:""+e.util.toQuotedString(s),a+="  } ",!1!==e.opts.messages&&(a+=" , message: 'should match pattern \"",a+=d?"' + "+n+" + '":""+e.util.escapeQuotes(s),a+="\"' "),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+u:""+e.util.toQuotedString(s),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var m=a;return a=f.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a},properties$1=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(i||""),p="errs__"+a,d=e.util.copy(e),f="";d.level++;var m="valid"+d.level,h="key"+a,_="idx"+a,v=d.dataLevel=e.dataLevel+1,g="data"+v,y="dataProperties"+a,b=Object.keys(o||{}),$=e.schema.patternProperties||{},x=Object.keys($),w=e.schema.additionalProperties,S=b.length||x.length,N=!1===w,C="object"==typeof w&&Object.keys(w).length,E=e.opts.removeAdditional,A=N||C||E,M=e.opts.ownProperties,T=e.baseId,O=e.schema.required;if(O&&(!e.opts.$data||!O.$data)&&O.length<e.opts.loopRequired)var P=e.util.toHash(O);if(n+="var "+p+" = errors;var "+m+" = true;",M&&(n+=" var "+y+" = undefined;"),A){if(n+=M?" "+y+" = "+y+" || Object.keys("+l+"); for (var "+_+"=0; "+_+"<"+y+".length; "+_+"++) { var "+h+" = "+y+"["+_+"]; ":" for (var "+h+" in "+l+") { ",S){if(n+=" var isAdditional"+a+" = !(false ",b.length)if(b.length>8)n+=" || validate.schema"+s+".hasOwnProperty("+h+") ";else{var D=b;if(D)for(var I=-1,F=D.length-1;I<F;)Q=D[I+=1],n+=" || "+h+" == "+e.util.toQuotedString(Q)+" "}if(x.length){var k=x;if(k)for(var R=-1,j=k.length-1;R<j;)ae=k[R+=1],n+=" || "+e.usePattern(ae)+".test("+h+") "}n+=" ); if (isAdditional"+a+") { "}if("all"==E)n+=" delete "+l+"["+h+"]; ";else{var q=e.errorPath,B="' + "+h+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,h,e.opts.jsonPointers)),N)if(E)n+=" delete "+l+"["+h+"]; ";else{n+=" "+m+" = false; ";var L=u;u=e.errSchemaPath+"/additionalProperties",(te=te||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+B+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var V=n;n=te.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+V+"]); ":n+=" validate.errors = ["+V+"]; return false; ":n+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=L,c&&(n+=" break; ")}else if(C)if("failing"==E){n+=" var "+p+" = errors;  ";var z=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=w,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,h,e.opts.jsonPointers);var U=l+"["+h+"]";d.dataPathArr[v]=h;var G=e.validate(d);d.baseId=T,e.util.varOccurences(G,g)<2?n+=" "+e.util.varReplace(G,g,U)+" ":n+=" var "+g+" = "+U+"; "+G+" ",n+=" if (!"+m+") { errors = "+p+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+h+"]; }  ",e.compositeRule=d.compositeRule=z}else{d.schema=w,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,h,e.opts.jsonPointers);U=l+"["+h+"]";d.dataPathArr[v]=h;G=e.validate(d);d.baseId=T,e.util.varOccurences(G,g)<2?n+=" "+e.util.varReplace(G,g,U)+" ":n+=" var "+g+" = "+U+"; "+G+" ",c&&(n+=" if (!"+m+") break; ")}e.errorPath=q}S&&(n+=" } "),n+=" }  ",c&&(n+=" if ("+m+") { ",f+="}")}var H=e.opts.useDefaults&&!e.compositeRule;if(b.length){var W=b;if(W)for(var Q,Y=-1,K=W.length-1;Y<K;){var Z=o[Q=W[Y+=1]];if(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0:e.util.schemaHasRules(Z,e.RULES.all)){var J=e.util.getProperty(Q),X=(U=l+J,H&&void 0!==Z.default);d.schema=Z,d.schemaPath=s+J,d.errSchemaPath=u+"/"+e.util.escapeFragment(Q),d.errorPath=e.util.getPath(e.errorPath,Q,e.opts.jsonPointers),d.dataPathArr[v]=e.util.toQuotedString(Q);G=e.validate(d);if(d.baseId=T,e.util.varOccurences(G,g)<2){G=e.util.varReplace(G,g,U);var ee=U}else{ee=g;n+=" var "+g+" = "+U+"; "}if(X)n+=" "+G+" ";else{if(P&&P[Q]){n+=" if ( "+ee+" === undefined ",M&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Q)+"') "),n+=") { "+m+" = false; ";q=e.errorPath,L=u;var te,re=e.util.escapeQuotes(Q);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(q,Q,e.opts.jsonPointers)),u=e.errSchemaPath+"/required",(te=te||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+re+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+re+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";V=n;n=te.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+V+"]); ":n+=" validate.errors = ["+V+"]; return false; ":n+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=L,e.errorPath=q,n+=" } else { "}else c?(n+=" if ( "+ee+" === undefined ",M&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Q)+"') "),n+=") { "+m+" = true; } else { "):(n+=" if ("+ee+" !== undefined ",M&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Q)+"') "),n+=" ) { ");n+=" "+G+" } "}}c&&(n+=" if ("+m+") { ",f+="}")}}if(x.length){var ne=x;if(ne)for(var ae,ie=-1,oe=ne.length-1;ie<oe;){Z=$[ae=ne[ie+=1]];if(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0:e.util.schemaHasRules(Z,e.RULES.all)){d.schema=Z,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ae),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ae),n+=M?" "+y+" = "+y+" || Object.keys("+l+"); for (var "+_+"=0; "+_+"<"+y+".length; "+_+"++) { var "+h+" = "+y+"["+_+"]; ":" for (var "+h+" in "+l+") { ",n+=" if ("+e.usePattern(ae)+".test("+h+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,h,e.opts.jsonPointers);U=l+"["+h+"]";d.dataPathArr[v]=h;G=e.validate(d);d.baseId=T,e.util.varOccurences(G,g)<2?n+=" "+e.util.varReplace(G,g,U)+" ":n+=" var "+g+" = "+U+"; "+G+" ",c&&(n+=" if (!"+m+") break; "),n+=" } ",c&&(n+=" else "+m+" = true; "),n+=" }  ",c&&(n+=" if ("+m+") { ",f+="}")}}}return c&&(n+=" "+f+" if ("+p+" == errors) {"),n=e.util.cleanUpCode(n)},propertyNames=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(i||""),p="errs__"+a,d=e.util.copy(e);d.level++;var f="valid"+d.level;if(n+="var "+p+" = errors;",e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0:e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=u;var m="key"+a,h="idx"+a,_="i"+a,v="' + "+m+" + '",g="data"+(d.dataLevel=e.dataLevel+1),y="dataProperties"+a,b=e.opts.ownProperties,$=e.baseId;b&&(n+=" var "+y+" = undefined; "),n+=b?" "+y+" = "+y+" || Object.keys("+l+"); for (var "+h+"=0; "+h+"<"+y+".length; "+h+"++) { var "+m+" = "+y+"["+h+"]; ":" for (var "+m+" in "+l+") { ",n+=" var startErrs"+a+" = errors; ";var x=m,w=e.compositeRule;e.compositeRule=d.compositeRule=!0;var S=e.validate(d);d.baseId=$,e.util.varOccurences(S,g)<2?n+=" "+e.util.varReplace(S,g,x)+" ":n+=" var "+g+" = "+x+"; "+S+" ",e.compositeRule=d.compositeRule=w,n+=" if (!"+f+") { for (var "+_+"=startErrs"+a+"; "+_+"<errors; "+_+"++) { vErrors["+_+"].propertyName = "+m+"; }   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+v+"' } ",!1!==e.opts.messages&&(n+=" , message: 'property name \\'"+v+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),c&&(n+=" break; "),n+=" } }"}return c&&(n+="  if ("+p+" == errors) {"),n=e.util.cleanUpCode(n)},required=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(i||""),p="valid"+a,d=e.opts.$data&&o&&o.$data;d&&(n+=" var schema"+a+" = "+e.util.getData(o.$data,i,e.dataPathArr)+"; ");var f="schema"+a;if(!d)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var m=[],h=o;if(h)for(var _,v=-1,g=h.length-1;v<g;){_=h[v+=1];var y=e.schema.properties[_];y&&(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0:e.util.schemaHasRules(y,e.RULES.all))||(m[m.length]=_)}}else m=o;if(d||m.length){var b=e.errorPath,$=d||m.length>=e.opts.loopRequired,x=e.opts.ownProperties;if(c)if(n+=" var missing"+a+"; ",$){d||(n+=" var "+f+" = validate.schema"+s+"; ");var w="' + "+(M="schema"+a+"["+(C="i"+a)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,M,e.opts.jsonPointers)),n+=" var "+p+" = true; ",d&&(n+=" if (schema"+a+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+a+")) "+p+" = false; else {"),n+=" for (var "+C+" = 0; "+C+" < "+f+".length; "+C+"++) { "+p+" = "+l+"["+f+"["+C+"]] !== undefined ",x&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+f+"["+C+"]) "),n+="; if (!"+p+") break; } ",d&&(n+="  }  "),n+="  if (!"+p+") {   ",(A=A||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+w+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+w+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var S=n;n=A.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+S+"]); ":n+=" validate.errors = ["+S+"]; return false; ":n+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var N=m;if(N)for(var C=-1,E=N.length-1;C<E;){O=N[C+=1],C&&(n+=" || "),n+=" ( ( "+(F=l+(I=e.util.getProperty(O)))+" === undefined ",x&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(O)+"') "),n+=") && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?O:I)+") ) "}n+=") {  ";var A;w="' + "+(M="missing"+a)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,M,!0):b+" + "+M),(A=A||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+w+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+w+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";S=n;n=A.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+S+"]); ":n+=" validate.errors = ["+S+"]; return false; ":n+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if($){d||(n+=" var "+f+" = validate.schema"+s+"; ");var M;w="' + "+(M="schema"+a+"["+(C="i"+a)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,M,e.opts.jsonPointers)),d&&(n+=" if ("+f+" && !Array.isArray("+f+")) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+w+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+w+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+f+" !== undefined) { "),n+=" for (var "+C+" = 0; "+C+" < "+f+".length; "+C+"++) { if ("+l+"["+f+"["+C+"]] === undefined ",x&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+f+"["+C+"]) "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+w+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+w+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(n+="  }  ")}else{var T=m;if(T)for(var O,P=-1,D=T.length-1;P<D;){O=T[P+=1];var I=e.util.getProperty(O),F=(w=e.util.escapeQuotes(O),l+I);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,O,e.opts.jsonPointers)),n+=" if ( "+F+" === undefined ",x&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(O)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+w+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+w+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=b}else c&&(n+=" if (true) {");return n},uniqueItems=function(e,t,r){var n,a=" ",i=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(o||""),d="valid"+i,f=e.opts.$data&&s&&s.$data;if(f?(a+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+i):n=s,(s||f)&&!1!==e.opts.uniqueItems){f&&(a+=" var "+d+"; if ("+n+" === false || "+n+" === undefined) "+d+" = true; else if (typeof "+n+" != 'boolean') "+d+" = false; else { "),a+=" var i = "+p+".length , "+d+" = true , j; if (i > 1) { ";var m=e.schema.items&&e.schema.items.type,h=Array.isArray(m);if(!m||"object"==m||"array"==m||h&&(m.indexOf("object")>=0||m.indexOf("array")>=0))a+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+p+"[i], "+p+"[j])) { "+d+" = false; break outer; } } } ";else{a+=" var itemIndices = {}, item; for (;i--;) { var item = "+p+"[i]; ";var _="checkDataType"+(h?"s":"");a+=" if ("+e.util[_](m,"item",!0)+") continue; ",h&&(a+=" if (typeof item == 'string') item = '\"' + item; "),a+=" if (typeof itemIndices[item] == 'number') { "+d+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}a+=" } ",f&&(a+="  }  "),a+=" if (!"+d+") {   ";var v=v||[];v.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(a+=" , schema:  ",a+=f?"validate.schema"+u:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),a+=" } "):a+=" {} ";var g=a;a=v.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",l&&(a+=" else { ")}else l&&(a+=" if (true) { ");return a},dotjs={$ref:ref,allOf:allOf,anyOf:anyOf,$comment:comment,const:_const,contains:contains,dependencies:dependencies$4n,enum:_enum,format:format$4,if:_if,items:items,maximum:_limit,minimum:_limit,maxItems:_limitItems,minItems:_limitItems,maxLength:_limitLength,minLength:_limitLength,maxProperties:_limitProperties,minProperties:_limitProperties,multipleOf:multipleOf,not:not$1,oneOf:oneOf,pattern:pattern,properties:properties$1,propertyNames:propertyNames,required:required,uniqueItems:uniqueItems,validate:validate$1},toHash$1=util.toHash,rules=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=toHash$1(t),e.types=toHash$1(["number","integer","string","array","object","boolean","null"]),e.forEach((function(r){r.rules=r.rules.map((function(r){var n;if("object"==typeof r){var a=Object.keys(r)[0];n=r[a],r=a,n.forEach((function(r){t.push(r),e.all[r]=!0}))}return t.push(r),e.all[r]={keyword:r,code:dotjs[r],implements:n}})),e.all.$comment={keyword:"$comment",code:dotjs.$comment},r.type&&(e.types[r.type]=r)})),e.keywords=toHash$1(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e},KEYWORDS=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],data=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var n,a=t[r].split("/"),i=e;for(n=1;n<a.length;n++)i=i[a[n]];for(n=0;n<KEYWORDS.length;n++){var o=KEYWORDS[n],s=i[o];s&&(i[o]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return e},MissingRefError$1=error_classes.MissingRef,async=compileAsync;function compileAsync(e,t,r){var n=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof t&&(r=t,t=void 0);var a=i(e).then((function(){var r=n._addSchema(e,void 0,t);return r.validate||function e(r){try{return n._compile(r)}catch(a){if(a instanceof MissingRefError$1)return function(a){var o=a.missingSchema;if(c(o))throw new Error("Schema "+o+" is loaded but "+a.missingRef+" cannot be resolved");var s=n._loadingSchemas[o];s||(s=n._loadingSchemas[o]=n._opts.loadSchema(o)).then(u,u);return s.then((function(e){if(!c(o))return i(e).then((function(){c(o)||n.addSchema(e,o,void 0,t)}))})).then((function(){return e(r)}));function u(){delete n._loadingSchemas[o]}function c(e){return n._refs[e]||n._schemas[e]}}(a);throw a}}(r)}));return r&&a.then((function(e){r(null,e)}),r),a;function i(e){var t=e.$schema;return t&&!n.getSchema(t)?compileAsync.call(n,{$ref:t},!0):Promise.resolve()}}var custom=function(e,t,r){var n,a,i=" ",o=e.level,s=e.dataLevel,u=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,d="data"+(s||""),f="valid"+o,m="errs__"+o,h=e.opts.$data&&u&&u.$data;h?(i+=" var schema"+o+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",a="schema"+o):a=u;var _,v,g,y,b,$="definition"+o,x=this.definition,w="";if(h&&x.$data){b="keywordValidate"+o;var S=x.validateSchema;i+=" var "+$+" = RULES.custom['"+t+"'].definition; var "+b+" = "+$+".validate;"}else{if(!(y=e.useCustomRule(this,u,e.schema,e)))return;a="validate.schema"+c,b=y.code,_=x.compile,v=x.inline,g=x.macro}var N=b+".errors",C="i"+o,E="ruleErr"+o,A=x.async;if(A&&!e.async)throw new Error("async keyword in sync schema");if(v||g||(i+=N+" = null;"),i+="var "+m+" = errors;var "+f+";",h&&x.$data&&(w+="}",i+=" if ("+a+" === undefined) { "+f+" = true; } else { ",S&&(w+="}",i+=" "+f+" = "+$+".validateSchema("+a+"); if ("+f+") { ")),v)x.statements?i+=" "+y.validate+" ":i+=" "+f+" = "+y.validate+"; ";else if(g){var M=e.util.copy(e);w="";M.level++;var T="valid"+M.level;M.schema=y.validate,M.schemaPath="";var O=e.compositeRule;e.compositeRule=M.compositeRule=!0;var P=e.validate(M).replace(/validate\.schema/g,b);e.compositeRule=M.compositeRule=O,i+=" "+P}else{(k=k||[]).push(i),i="",i+="  "+b+".call( ",e.opts.passContext?i+="this":i+="self",_||!1===x.schema?i+=" , "+d+" ":i+=" , "+a+" , "+d+" , validate.schema"+e.schemaPath+" ",i+=" , (dataPath || '')",'""'!=e.errorPath&&(i+=" + "+e.errorPath);var D=s?"data"+(s-1||""):"parentData",I=s?e.dataPathArr[s]:"parentDataProperty",F=i+=" , "+D+" , "+I+" , rootData )  ";i=k.pop(),!1===x.errors?(i+=" "+f+" = ",A&&(i+="await "),i+=F+"; "):i+=A?" var "+(N="customErrors"+o)+" = null; try { "+f+" = await "+F+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+N+" = e.errors; else throw e; } ":" "+N+" = null; "+f+" = "+F+"; "}if(x.modifying&&(i+=" if ("+D+") "+d+" = "+D+"["+I+"];"),i+=""+w,x.valid)p&&(i+=" if (true) { ");else{var k;i+=" if ( ",void 0===x.valid?(i+=" !",i+=g?""+T:""+f):i+=" "+!x.valid+" ",i+=") { ",n=this.keyword,(k=k||[]).push(i),i="",(k=k||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var R=i;i=k.pop(),!e.compositeRule&&p?e.async?i+=" throw new ValidationError(["+R+"]); ":i+=" validate.errors = ["+R+"]; return false; ":i+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var j=i;i=k.pop(),v?x.errors?"full"!=x.errors&&(i+="  for (var "+C+"="+m+"; "+C+"<errors; "+C+"++) { var "+E+" = vErrors["+C+"]; if ("+E+".dataPath === undefined) "+E+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+E+".schemaPath === undefined) { "+E+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(i+=" "+E+".schema = "+a+"; "+E+".data = "+d+"; "),i+=" } "):!1===x.errors?i+=" "+j+" ":(i+=" if ("+m+" == errors) { "+j+" } else {  for (var "+C+"="+m+"; "+C+"<errors; "+C+"++) { var "+E+" = vErrors["+C+"]; if ("+E+".dataPath === undefined) "+E+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+E+".schemaPath === undefined) { "+E+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(i+=" "+E+".schema = "+a+"; "+E+".data = "+d+"; "),i+=" } } "):g?(i+="   var err =   ",!1!==e.createErrors?(i+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&p&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; ")):!1===x.errors?i+=" "+j+" ":(i+=" if (Array.isArray("+N+")) { if (vErrors === null) vErrors = "+N+"; else vErrors = vErrors.concat("+N+"); errors = vErrors.length;  for (var "+C+"="+m+"; "+C+"<errors; "+C+"++) { var "+E+" = vErrors["+C+"]; if ("+E+".dataPath === undefined) "+E+".dataPath = (dataPath || '') + "+e.errorPath+";  "+E+'.schemaPath = "'+l+'";  ',e.opts.verbose&&(i+=" "+E+".schema = "+a+"; "+E+".data = "+d+"; "),i+=" } } else { "+j+" } "),i+=" } ",p&&(i+=" else { ")}return i},$schema="http://json-schema.org/draft-07/schema#",$id="http://json-schema.org/draft-07/schema#",title="Core schema meta-schema",definitions={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type=["object","boolean"],properties$2={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},jsonSchemaDraft07={$schema:$schema,$id:$id,title:title,definitions:definitions,type:type,properties:properties$2,default:!0},jsonSchemaDraft07$1=Object.freeze({__proto__:null,$schema:$schema,$id:$id,title:title,definitions:definitions,type:type,properties:properties$2,default:jsonSchemaDraft07}),require$$2=getCjsExportFromNamespace(jsonSchemaDraft07$1),definition_schema={$id:"https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:require$$2.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:require$$2.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},IDENTIFIER$1=/^[a-z_$][a-z0-9_$-]*$/i,keyword={add:addKeyword,get:getKeyword,remove:removeKeyword,validate:validateKeyword};function addKeyword(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!IDENTIFIER$1.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var n=t.type;if(Array.isArray(n))for(var a=0;a<n.length;a++)o(e,n[a],t);else o(e,n,t);var i=t.metaSchema;i&&(t.$data&&this._opts.$data&&(i={anyOf:[i,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(i,!0))}function o(e,t,n){for(var a,i=0;i<r.length;i++){var o=r[i];if(o.type==t){a=o;break}}a||(a={type:t,rules:[]},r.push(a));var s={keyword:e,definition:n,custom:!0,code:custom,implements:n.implements};a.rules.push(s),r.custom[e]=s}return r.keywords[e]=r.all[e]=!0,this}function getKeyword(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1}function removeKeyword(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var n=t[r].rules,a=0;a<n.length;a++)if(n[a].keyword==e){n.splice(a,1);break}return this}function validateKeyword(e,t){validateKeyword.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(definition_schema,!0);if(r(e))return!0;if(validateKeyword.errors=r.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}var $schema$1="http://json-schema.org/draft-07/schema#",$id$1="https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",description="Meta-schema for $data reference (JSON Schema extension proposal)",type$1="object",required$1=["$data"],properties$3={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties=!1,data$1={$schema:$schema$1,$id:$id$1,description:description,type:type$1,required:required$1,properties:properties$3,additionalProperties:additionalProperties},data$2=Object.freeze({__proto__:null,$schema:$schema$1,$id:$id$1,description:description,type:type$1,required:required$1,properties:properties$3,additionalProperties:additionalProperties,default:data$1}),require$$1=getCjsExportFromNamespace(data$2),ajv=Ajv;Ajv.prototype.validate=validate$2,Ajv.prototype.compile=compile$2,Ajv.prototype.addSchema=addSchema,Ajv.prototype.addMetaSchema=addMetaSchema,Ajv.prototype.validateSchema=validateSchema,Ajv.prototype.getSchema=getSchema,Ajv.prototype.removeSchema=removeSchema,Ajv.prototype.addFormat=addFormat,Ajv.prototype.errorsText=errorsText,Ajv.prototype._addSchema=_addSchema,Ajv.prototype._compile=_compile,Ajv.prototype.compileAsync=async,Ajv.prototype.addKeyword=keyword.add,Ajv.prototype.getKeyword=keyword.get,Ajv.prototype.removeKeyword=keyword.remove,Ajv.prototype.validateKeyword=keyword.validate,Ajv.ValidationError=error_classes.Validation,Ajv.MissingRefError=error_classes.MissingRef,Ajv.$dataMetaSchema=data;var META_SCHEMA_ID="http://json-schema.org/draft-07/schema",META_IGNORE_OPTIONS=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],META_SUPPORT_DATA=["/properties"];function Ajv(e){if(!(this instanceof Ajv))return new Ajv(e);e=this._opts=util.copy(e)||{},setLogger(this),this._schemas={},this._refs={},this._fragments={},this._formats=formats_1(e.format),this._cache=e.cache||new cache,this._loadingSchemas={},this._compilations=[],this.RULES=rules(),this._getId=chooseGetId(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=fastJsonStableStringify),this._metaOpts=getMetaSchemaOptions(this),e.formats&&addInitialFormats(this),addDefaultMetaSchema(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),addInitialSchemas(this)}function validate$2(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var n=this._addSchema(e);r=n.validate||this._compile(n)}var a=r(t);return!0!==r.$async&&(this.errors=r.errors),a}function compile$2(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)}function addSchema(e,t,r,n){if(Array.isArray(e)){for(var a=0;a<e.length;a++)this.addSchema(e[a],void 0,r,n);return this}var i=this._getId(e);if(void 0!==i&&"string"!=typeof i)throw new Error("schema id must be string");return checkUnique(this,t=resolve_1.normalizeId(t||i)),this._schemas[t]=this._addSchema(e,r,n,!0),this}function addMetaSchema(e,t,r){return this.addSchema(e,t,r,!0),this}function validateSchema(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||defaultMeta(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(r,e);if(!n&&t){var a="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(a);this.logger.error(a)}return n}function defaultMeta(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(META_SCHEMA_ID)?META_SCHEMA_ID:void 0,e._opts.defaultMeta}function getSchema(e){var t=_getSchemaObj(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return _getSchemaFragment(this,e)}}function _getSchemaFragment(e,t){var r=resolve_1.schema.call(e,{schema:{}},t);if(r){var n=r.schema,a=r.root,i=r.baseId,o=compile_1.call(e,n,a,void 0,i);return e._fragments[t]=new schema_obj({ref:t,fragment:!0,schema:n,root:a,baseId:i,validate:o}),o}}function _getSchemaObj(e,t){return t=resolve_1.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function removeSchema(e){if(e instanceof RegExp)return _removeAllSchemas(this,this._schemas,e),_removeAllSchemas(this,this._refs,e),this;switch(typeof e){case"undefined":return _removeAllSchemas(this,this._schemas),_removeAllSchemas(this,this._refs),this._cache.clear(),this;case"string":var t=_getSchemaObj(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,n=r?r(e):e;this._cache.del(n);var a=this._getId(e);a&&(a=resolve_1.normalizeId(a),delete this._schemas[a],delete this._refs[a])}return this}function _removeAllSchemas(e,t,r){for(var n in t){var a=t[n];a.meta||r&&!r.test(n)||(e._cache.del(a.cacheKey),delete t[n])}}function _addSchema(e,t,r,n){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var a=this._opts.serialize,i=a?a(e):e,o=this._cache.get(i);if(o)return o;n=n||!1!==this._opts.addUsedSchema;var s=resolve_1.normalizeId(this._getId(e));s&&n&&checkUnique(this,s);var u,c=!1!==this._opts.validateSchema&&!t;c&&!(u=s&&s==resolve_1.normalizeId(e.$schema))&&this.validateSchema(e,!0);var l=resolve_1.ids.call(this,e),p=new schema_obj({id:s,schema:e,localRefs:l,cacheKey:i,meta:r});return"#"!=s[0]&&n&&(this._refs[s]=p),this._cache.put(i,p),c&&u&&this.validateSchema(e,!0),p}function _compile(e,t){if(e.compiling)return e.validate=a,a.schema=e.schema,a.errors=null,a.root=t||a,!0===e.schema.$async&&(a.$async=!0),a;var r,n;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{n=compile_1.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=n,e.refs=n.refs,e.refVal=n.refVal,e.root=n.root,n;function a(){var t=e.validate,r=t.apply(this,arguments);return a.errors=t.errors,r}}function chooseGetId(e){switch(e.schemaId){case"auto":return _get$IdOrId;case"id":return _getId;default:return _get$Id}}function _getId(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function _get$Id(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function _get$IdOrId(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function errorsText(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,n=void 0===t.dataVar?"data":t.dataVar,a="",i=0;i<e.length;i++){var o=e[i];o&&(a+=n+o.dataPath+" "+o.message+r)}return a.slice(0,-r.length)}function addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this}function addDefaultMetaSchema(e){var t;if(e._opts.$data&&(t=require$$1,e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var r=require$$2;e._opts.$data&&(r=data(r,META_SUPPORT_DATA)),e.addMetaSchema(r,META_SCHEMA_ID,!0),e._refs["http://json-schema.org/schema"]=META_SCHEMA_ID}}function addInitialSchemas(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}function addInitialFormats(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}function checkUnique(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function getMetaSchemaOptions(e){for(var t=util.copy(e._opts),r=0;r<META_IGNORE_OPTIONS.length;r++)delete t[META_IGNORE_OPTIONS[r]];return t}function setLogger(e){var t=e._opts.logger;if(!1===t)e.logger={log:noop$1,warn:noop$1,error:noop$1};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}function noop$1(){}var addmissingdatesSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Add Missing Dates step",type:"object",properties:{name:{type:"string",consnt:"addmissingdates"},datesColumn:{type:"string",minLength:1,title:"Dates column",description:"Dates column to add missing dates in",attrs:{placeholder:"Select a column"}},datesGranularity:{type:"string",title:"Dates granularity",enum:["day","month","year"]},groups:{type:"array",minItems:0,items:{type:"string",minLength:1},title:"Group by",description:"Columns used for group by logic if needed",attrs:{placeholder:"Select columns"}}},required:["name","datesColumn","datesGranularity"],additionalProperties:!1},aggregations={type:"array",items:{type:"object",properties:{columns:{type:"array",minItems:1,items:{type:"string",minLength:1}},column:{type:"string",minLength:1},aggfunction:{type:"string",enum:["sum","avg","count","min","max","first","last"]},newcolumns:{type:"array",minItems:1,items:{type:"string",minLength:1}},newcolumn:{type:"string",minLength:1}},required:["columns","aggfunction","newcolumns"],additionalProperties:!1},minItems:1,title:"Aggregations",description:"The aggregations to be performed"};function addAjvKeywords(e){e.addKeyword("columnNameAlreadyUsed",{type:"string",validate:function(e,t){return!e.columnNames.includes(t)}})}function addNotInColumnNamesConstraint(e,t,r){return r.length&&lodash.set(e,"properties."+t+".columnNameAlreadyUsed",{columnNames:r}),e}var schema={$schema:"http://json-schema.org/draft-07/schema#",title:"Aggregate step",type:"object",properties:{name:{type:"string",enum:["aggregate"]},on:{type:"array",items:{type:"string",minLength:1},title:"Group by",description:"The columns used to group the data for aggregation",attrs:{placeholder:"Add columns"}},aggregations:aggregations,keepOriginalGranularity:{type:"boolean",description:"If true, keeps the original granularity and adds the aggregation(s) in new column(s)"}},required:["name","on","aggregations"],additionalProperties:!1};function buildSchema(e){return addNotInColumnNamesConstraint(schema,"aggregations.items.newcolumn",e.columnNames)}var appendSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Append step",type:"object",properties:{name:{type:"string",enum:["append"]},pipelines:{type:"array",items:{type:"string",minLength:1},minItems:1,title:"Datasets to append",description:"The name of the pipelines to append",attrs:{placeholder:"Select datasets"}}},required:["pipelines"],additionalProperties:!1},argmaxSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Argmax step",type:"object",properties:{name:{type:"string",enum:["argmax"]},column:{type:"string",minLength:1,title:"Search max in:",description:"The column in which to find max value",attrs:{placeholder:"Add a column"}},groups:{type:"array",items:{type:"string",minLength:1},title:"Group by",description:"The columns used to group the data if needing to find a max for several groups",attrs:{placeholder:"Add columns"}}},required:["column"],additionalProperties:!1},argminSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Argmin step",type:"object",properties:{name:{type:"string",enum:["argmin"]},column:{type:"string",minLength:1,title:"Search min in:",description:"The column in which to find min value",attrs:{placeholder:"Add a column"}},groups:{type:"array",items:{type:"string",minLength:1},title:"Group by",description:"The columns used to group the data if needing to find a min for several groups",attrs:{placeholder:"Add columns"}}},required:["column"],additionalProperties:!1},schema$1={$schema:"http://json-schema.org/draft-07/schema#",title:"Concatenate step",type:"object",properties:{name:{type:"string",enum:["concatenate"]},columns:{type:"array",items:{type:["string"],minLength:1},minItems:1,title:"To concatenate",description:"Columns to concatenate"},separator:{type:"string",minLength:0,title:"Separator",description:"The separator used to concatenate strings",attrs:{placeholder:"Enter a string of any length"}},new_column_name:{type:"string",minLength:1,title:"New column name",description:"The new column that will be created with the concatenated string",attrs:{placeholder:"Enter a column name"}}},required:["name","columns","separator","new_column_name"],additionalProperties:!1};function buildSchema$1(e){return addNotInColumnNamesConstraint(schema$1,"new_column_name",e.columnNames)}var convertSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Convert column data type step",type:"object",properties:{name:{type:"string",enum:["convert"]},columns:{type:"array",minItems:1,items:{type:"string",minLength:1},title:"Convert columns:",description:"Columns to convert",attrs:{placeholder:"Select column(s)"}},data_type:{type:"string",enum:["integer","float","text","date","boolean"],title:"Data type",description:"Data type to convert into",placeholder:"Select a data type"}},required:["name","columns","data_type"],additionalProperties:!1},schema$2={$schema:"http://json-schema.org/draft-07/schema#",title:"Cumulated sum step",type:"object",properties:{name:{type:"string",const:"cumsum"},valueColumn:{type:"string",minLength:1,title:"Value column name",description:"The name of the value column to sum"},referenceColumn:{type:"string",minLength:1,title:"Reference column name",description:"The name of the reference column that will be sorted (usually dates)"},groupby:{type:"array",items:{type:"string",minLength:1},title:"Group by",description:"The columns used to group cumsum computation"},newColumn:{type:"string",minLength:1,title:"Reference column name",description:"The name of the new column to be created"}},required:["name","valueColumn","referenceColumn"],additionalProperties:!1};function buildSchema$2(e){return addNotInColumnNamesConstraint(schema$2,"newColumn",e.columnNames)}var customSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Custom step",type:"object",properties:{name:{type:"string",enum:["custom"]},query:{type:"string",minLength:1,title:"Query",description:"Write a query"}},required:["name","query"],additionalProperties:!1},schema$3={$schema:"http://json-schema.org/draft-07/schema#",title:"Extract date propperty from date step",type:"object",properties:{name:{type:"string",enum:["dateextract"]},column:{type:"string",minLength:1,title:"Column to convert",description:"Column to convert",attrs:{placeholder:"Select a column"}},operation:{type:"string",enum:["year","month","day","hour","minutes","seconds","milliseconds","dayOfYear","dayOfWeek","week"],title:"Operation",description:"The name of the property to extract",attrs:{placeholder:"Choose the property to extract"}},new_column_name:{type:"string",title:"New column name",description:"The new column that will be created after extraction",attrs:{placeholder:"Enter a column name"}}},required:["name","column","operation"],additionalProperties:!1};function buildSchema$3(e){return addNotInColumnNamesConstraint(schema$3,"new_column_name",e.columnNames)}var deleteSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Delete column step",type:"object",properties:{name:{type:"string",enum:["delete"]},columns:{type:"array",minItems:1,items:{type:"string",minLength:1},title:"Delete columns",description:"Columns to delete",attrs:{placeholder:"Select columns to delete"}}},required:["name","columns"],additionalProperties:!1},domainSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Domain column step",type:"object",properties:{name:{type:"string",enum:["domain"]},domain:{type:"string",minLength:1,title:"domain's name",description:"domain's name",attrs:{placeholder:"Choose a domain"}}},required:["name","domain"],additionalProperties:!1},schema$4={$schema:"http://json-schema.org/draft-07/schema#",title:"Duplicate column step",type:"object",properties:{name:{type:"string",enum:["duplicate"]},column:{type:"string",minLength:1,title:"Column to duplicate",description:"Column to duplicate",attrs:{placeholder:"Enter a column"}},new_column_name:{type:"string",minLength:1,title:"New column name for duplicated column",description:"New column name for duplicated column",attrs:{placeholder:"Enter a column name"}}},required:["name","column","new_column_name"],additionalProperties:!1};function buildSchema$4(e){return addNotInColumnNamesConstraint(schema$4,"new_column_name",e.columnNames)}var durationSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Compute duration step",type:"object",properties:{name:{type:"string",enum:["duration"]},newColumnName:{type:"string",minLength:1,title:"New column name",description:"New column name",attrs:{placeholder:"Enter a new column name"}},startDateColumn:{type:"string",minLength:1,title:"Start date column:",description:"Start column name",attrs:{placeholder:"Select a column"}},endDateColumn:{type:"string",minLength:1,title:"End date column:",description:"End column name",attrs:{placeholder:"Select a column"}},durationIn:{type:"string",title:"Duration units",enum:["days","hours","minutes","seconds"]}},required:["name","newColumnName","startDateColumn","endDateColumn","durationIn"],additionalProperties:!1},schema$5={$schema:"http://json-schema.org/draft-07/schema#",title:"Evolution step",type:"object",properties:{name:{type:"string",consnt:"evolution"},dateCol:{type:"string",minLength:1,title:"Date column",description:"Date column used to compute evolution",attrs:{placeholder:"Select a column"}},valueCol:{type:"string",minLength:1,title:"Value column",description:"The value column",attrs:{placeholder:"Select a column"}},evolutionType:{type:"string",title:"Compute evolution versus",enum:["vsLastYear","vsLastMonth","vsLastWeek","vsLastDay"]},evolutionFormat:{type:"string",title:"Compute evolution in",enum:["abs","pct"]},indexColumns:{type:"array",minItems:0,items:{type:"string",minLength:1},title:"indexColumns",description:"Index columns",attrs:{placeholder:"Select columns"}},newColumn:{type:"string",minLength:1,title:"New evolution column",description:"New column to be created"}},required:["name","dateCol","valueCol","evolutionType","evolutionFormat","indexColumns"],additionalProperties:!1};function buildSchema$5(e){return addNotInColumnNamesConstraint(schema$5,"newColumn",e.columnNames)}var fillnaSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Fillna step",type:"object",properties:{name:{type:"string",enum:["fillna"]},column:{type:"string",minLength:1,title:"Column in which to fill null values",description:"Column in which to fill null values",attrs:{placeholder:"Enter a column"}},columns:{type:"array",items:{type:"string",minLength:1},minItems:1,title:"Columns in which to fill null values",description:"Columns in which to fill null values",attrs:{placeholder:"Select a column"}},value:{type:["string","number","boolean"],minLength:0,title:"The value used to fill nulls",description:"The value used to fill nulls",attrs:{placeholder:"Enter a value"}}},required:["name","columns","value"],additionalProperties:!1},filterSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Filter schema",type:"object",properties:{name:{type:"string",enum:["filter"]},condition:{if:{required:["column"]},then:{$ref:"#/definitions/simpleCondition"},else:{if:{required:["or"]},then:{$ref:"#/definitions/orCondition"},else:{if:{required:["and"]},then:{$ref:"#/definitions/andCondition"}}}}},definitions:{andCondition:{properties:{and:{type:"array",minItems:1,title:"And condition",items:{if:{required:["column"]},then:{$ref:"#/definitions/simpleCondition"},else:{if:{required:["or"]},then:{$ref:"#/definitions/orCondition"},else:{if:{required:["and"]},then:{$ref:"#/definitions/andCondition"}}}}}},required:["and"],additionalProperties:!1},orCondition:{properties:{or:{type:"array",minItems:1,title:"Or condition",items:{if:{required:["column"]},then:{$ref:"#/definitions/simpleCondition"},else:{if:{required:["or"]},then:{$ref:"#/definitions/orCondition"},else:{if:{required:["and"]},then:{$ref:"#/definitions/andCondition"}}}}}},required:["or"],additionalProperties:!1},simpleCondition:{type:"object",properties:{column:{type:"string",minLength:1,title:"Column name",description:"The name of the column you want to filter on.",attrs:{placeholder:"Enter the column name"}},value:{type:["string","number","boolean","null","array"],title:"Value",description:"The value to compare",attrs:{placeholder:"Enter a value"}},operator:{type:"string",enum:["eq","ne","gt","ge","lt","le","in","nin","matches","notmatches","isnull","notnull"],title:"Operator",description:"The filter operator",attrs:{placeholder:"Choose the filter operator"}}},required:["column","value","operator"],additionalProperties:!1}},required:["name","condition"],additionalProperties:!1},formulaSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Formula step",type:"object",properties:{name:{type:"string",enum:["formula"]},formula:{type:["string","number"],minLength:1,title:"Formula",description:"Formula",attrs:{placeholder:"Enter a formula"}},new_column:{type:"string",minLength:1,title:"New column name",description:"New column name",attrs:{placeholder:"Enter a new column name"}}},required:["name","formula","new_column"],additionalProperties:!1},fromDateSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Convert date column to text step",type:"object",properties:{name:{type:"string",enum:["fromdate"]},column:{type:"string",minLength:1,title:"Column to convert",description:"Column to convert",attrs:{placeholder:"Select a column"}},format:{type:"string",minLength:1,title:"Date format"}},required:["name","column","format"],additionalProperties:!1},ifthenelseSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"If...Then...Else schema",type:"object",properties:{name:{type:"string",enum:["ifthenelse"]},newColumn:{type:"string",minLength:1,title:"New column",description:"New column",attrs:{placeholder:"Enter a column name"}},if:{$ref:"#/definitions/if"},then:{$ref:"#/definitions/formula"},else:{$ref:"#/definitions/else"}},definitions:{if:{if:{required:["column"]},then:{$ref:"#/definitions/simpleCondition"},else:{if:{required:["or"]},then:{$ref:"#/definitions/orCondition"},else:{if:{required:["and"]},then:{$ref:"#/definitions/andCondition"}}}},else:{anyOf:[{$ref:"#/definitions/formula"},{type:"object",properties:{if:{$ref:"#/definitions/if"},then:{$ref:"#/definitions/formula"},else:{$ref:"#/definitions/else"}},required:["if","then","else"],additionalProperties:!1}]},andCondition:{properties:{and:{type:"array",minItems:1,title:"And condition",items:{if:{required:["column"]},then:{$ref:"#/definitions/simpleCondition"},else:{if:{required:["or"]},then:{$ref:"#/definitions/orCondition"},else:{if:{required:["and"]},then:{$ref:"#/definitions/andCondition"}}}}}},required:["and"],additionalProperties:!1},orCondition:{properties:{or:{type:"array",minItems:1,title:"Or condition",items:{if:{required:["column"]},then:{$ref:"#/definitions/simpleCondition"},else:{if:{required:["or"]},then:{$ref:"#/definitions/orCondition"},else:{if:{required:["and"]},then:{$ref:"#/definitions/andCondition"}}}}}},required:["or"],additionalProperties:!1},simpleCondition:{type:"object",properties:{column:{type:"string",minLength:1,title:"Column name",description:"The name of the column you want to filter on.",attrs:{placeholder:"Enter the column name"}},value:{type:["string","number","boolean","null","array"],minLength:1,title:"Value",description:"The value to compare",attrs:{placeholder:"Enter a value"}},operator:{type:"string",enum:["eq","ne","gt","ge","lt","le","in","nin","matches","notmatches","isnull","notnull"],title:"Operator",description:"The filter operator",attrs:{placeholder:"Choose the filter operator"}}},required:["column","value","operator"],additionalProperties:!1},formula:{type:["string","number"],minLength:1,title:"Formula",description:"Formula",attrs:{placeholder:"Enter a formula"}}},required:["name","newColumn","if","then","else"],additionalProperties:!1},JoinStepFormSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Join step",type:"object",properties:{name:{type:"string",enum:["join"]},right_pipeline:{type:"string",minLength:1,title:"Right dataset",description:"Select a dataset to join (as right dataset):",attrs:{placeholder:"Select a dataset"}},type:{type:"string",enum:["left","inner","left outer"],title:"Join type",description:"Select a join type:",attrs:{placeholder:"Select a join type"}},on:{type:"array",minItems:1,items:{type:"array",minItems:2,maxItems:2,items:{type:"string",minLength:1}},title:"Datasets columns to match",description:"Select current and right datasets columns to match",attrs:{placeholder:"Select column(s)"}}},required:["name","right_pipeline","type","on"],additionalProperties:!1},schema$6={$schema:"http://json-schema.org/draft-07/schema#",title:"Moving average step",type:"object",properties:{name:{type:"string",enum:["movingaverage"]},valueColumn:{type:"string",minLength:1,title:"Value column",description:"The value column used in the computation",attrs:{placeholder:"Select a column"}},columnToSort:{type:"string",minLength:1,title:"Column to sort",description:"The column to be sorted for the window computation (usually dates)",attrs:{placeholder:"Select a column"}},movingWindow:{type:"integer",title:"Moving window",description:"The number of rows used as the moving window of the computation",attrs:{placeholder:"Enter an integer"}},groups:{type:"array",items:{type:"string",minLength:1},title:"Group by",description:"The columns used to group the data if needing to apply the computation by group of rows",attrs:{placeholder:"Add columns"}},newColumnName:{type:"string",minLength:1,title:"New column name",description:'The column to be created for the computation result (by default, the           column name suffixed by "_MOVING_AVG")',attrs:{placeholder:"Select a column"}}},required:["valueColumn","columnToSort","movingWindow"],additionalProperties:!1};function buildSchema$6(e){return addNotInColumnNamesConstraint(schema$6,"newColumnName",e.columnNames)}var schema$7={$schema:"http://json-schema.org/draft-07/schema#",title:"Percentage step",type:"object",properties:{name:{type:"string",enum:["percentage"]},column:{type:"string",minLength:1,title:"Value column",description:"The column on which to base the percentage computation",attrs:{placeholder:"Add a column"}},group:{type:"array",items:{type:"string",minLength:1},title:"Group by",description:"The columns used to group the data if needing to segment the percentage computation",attrs:{placeholder:"Add columns"}},newColumnName:{type:"string",minLength:1,title:"New column name",description:"The new column name to be created for the computation result"}},required:["name","column"],additionalProperties:!1};function buildSchema$7(e){return addNotInColumnNamesConstraint(schema$7,"newColumnName",e.columnNames)}var pivotSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Pivot step",type:"object",properties:{name:{type:"string",enum:["pivot"]},index:{type:"array",items:{type:"string",minLength:1},title:"Index",description:"The columns name used as index",attrs:{placeholder:"Select columns"}},column_to_pivot:{type:"string",minLength:1,title:"Column to pivot",description:"The column to pivot",attrs:{placeholder:"Select a column"}},value_column:{type:"string",minLength:1,title:"Value colum...",description:"Column on which aggregate function will apply",attrs:{placeholder:"Select a column"}},agg_function:{type:"string",enum:["sum","avg","count","min","max"]}},required:["name","index","column_to_pivot","value_column","agg_function"],additionalProperties:!1},schema$8={$schema:"http://json-schema.org/draft-07/schema#",title:"Rank step",type:"object",properties:{name:{type:"string",const:"rank"},valueCol:{type:"string",minLength:1,title:"Value column name",description:"The name of the value column to rank"},order:{type:"string",title:"Sort order",enum:["asc","desc"]},method:{type:"string",title:"Ranking method",enum:["standard","dense"]},groupby:{type:"array",items:{type:"string",minLength:1},title:"Group by",description:"The columns used to group rank computation"},newColumnName:{type:"string",minLength:1,title:"Rank column name",description:"The name of the new column to be created"}},required:["name","valueCol","order","method"],additionalProperties:!1};function buildSchema$8(e){return addNotInColumnNamesConstraint(schema$8,"newColumnName",e.columnNames)}var renameSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Rename step",type:"object",properties:{name:{type:"string",enum:["rename"]},toRename:{type:"array",items:{type:"array",items:{type:"string",minLength:1},minItems:2,maxItems:2},minItems:1,title:"To rename",description:"A list of 2-values list, the first one being the column name to replace,        the second one being the new column name"},oldname:{type:"string",minLength:1,title:"Current column name",description:"The name of the column you want to modify.",attrs:{placeholder:"Enter a column name to replace"}},newname:{type:"string",minLength:1,title:"New column name",description:"The new name of the column",attrs:{placeholder:"Enter a new column name"}}},required:["name","toRename"],additionalProperties:!1},replaceSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Replace step",type:"object",properties:{name:{type:"string",enum:["replace"]},search_column:{type:"string",items:{type:"string",minLength:1},title:"Search",description:"Columns in which to search values to replace",attrs:{placeholder:"Enter a column"}},to_replace:{type:"array",items:{type:"array",items:{type:["string","number","boolean"],minItems:2,maxItems:2},minItems:1},minItems:1,title:"To replace",description:"Values to replace"}},required:["name","search_column","to_replace"],additionalProperties:!1},rollupSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Rollup step",type:"object",properties:{name:{type:"string",const:"rollup"},hierarchy:{type:"array",items:{type:"string",minLength:1},title:"hierarchal columns",description:"The hierarchy of columns, from lowest to highest level",attrs:{placeholder:"Add columns"}},aggregations:aggregations,groupby:{type:"array",items:{type:"string",minLength:1},title:"Group by",description:"The columns used to group rollup computation",attrs:{placeholder:"Add columns"}},labelCol:{type:"string",minLength:1,title:"Label column name",description:"The name of the label column that will be created",attrs:{placeholder:"label"}},levelCol:{type:"string",minLength:1,title:"Level column name",description:"The name of the level column that will be created",attrs:{placeholder:"level"}},parentLabelCol:{type:"string",minLength:1,title:"Parent column name",description:"The name of the parent column that will be created",attrs:{placeholder:"parent"}}},required:["name","hierarchy","aggregations"],additionalProperties:!1},selectSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Keep columns",type:"object",properties:{name:{type:"string",enum:["select"]},columns:{type:"array",minItems:1,items:{type:"string",minLength:1},title:"Keep columns",description:"Columns to keep",attrs:{placeholder:"Select columns to keep"}}},required:["name","columns"],additionalProperties:!1},sortSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Sort column step",type:"object",properties:{name:{type:"string",enum:["sort"]},columns:{type:"array",minItems:1,title:"Columns to sort",description:"Columns to sort",attrs:{placeholder:"Enter columns"},items:{type:"object",title:"Column to sort",description:"Column to sort",properties:{column:{type:"string",minLength:1},order:{type:"string",enum:["asc","desc"]}}}}},required:["name","columns"],additionalProperties:!1},splitSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Split step",type:"object",properties:{name:{type:"string",enum:["split"]},column:{type:"string",minLength:1,title:"Split column...",description:"The column to split",attrs:{placeholder:"Select a column"}},delimiter:{type:"string",title:"Delimiter",description:"The delimiter used to split column",attrs:{placeholder:"Enter a tet delimiter"},minLength:1},number_cols_to_keep:{type:"integer",title:"Number of columns to keep",description:"The number of columns to keep after splitting",attrs:{placeholder:"Enter an integer"}}},required:["column","delimiter","number_cols_to_keep"],additionalProperties:!1},statisticsSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Statistics step",type:"object",properties:{name:{type:"string",const:"statistics"},column:{type:"string",minLength:1},groupbyColumns:{type:"array",items:{type:"string",minLength:1}},statistics:{type:"array",items:{type:"string",enum:["count","max","min","median","average","variance","standard deviation"]}},quantiles:{type:"array",items:{type:"object",required:["nth","order"],properties:{label:{type:"string"},nth:{type:"number"},order:{type:"number"}}}}},required:["name","column","statistics","quantiles"],additionalProperties:!1},schema$9={$schema:"http://json-schema.org/draft-07/schema#",title:"Substring step",type:"object",properties:{name:{type:"string",enum:["substring"]},column:{type:"string",minLength:1,title:"Extract a substring from...",description:"The column from which you need extract a substring",attrs:{placeholder:"Select a column"}},start_index:{type:"integer",title:"Substring starts at index...",description:"The index at which starts the substring (begins at 0)",attrs:{placeholder:"Enter an integer"},not:{const:0}},end_index:{type:"integer",title:"Number of characters to keep:",description:"The index at which ends the substring (-1 = last index)",attrs:{placeholder:"Enter an integer"},not:{const:0}},newColumnName:{type:"string",minLength:1,title:"New column name",description:"The new column name to be created for the computation result"}},required:["column","start_index","end_index"],additionalProperties:!1};function buildSchema$9(e){return addNotInColumnNamesConstraint(schema$9,"newColumnName",e.columnNames)}var textSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Add text column step",type:"object",properties:{name:{type:"string",enum:["text"]},text:{type:"string",minLength:1,title:"Text",description:"Text",attrs:{placeholder:"Enter a text"}},new_column:{type:"string",minLength:1,title:"New column name",description:"New column name",attrs:{placeholder:"Enter a new column name"}}},required:["name","text","new_column"],additionalProperties:!1},toDateSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Convert text column to date step",type:"object",properties:{name:{type:"string",enum:["todate"]},column:{type:"string",minLength:1,title:"Column to convert",description:"Column to convert",attrs:{placeholder:"Select a column"}},format:{type:"string",minLength:1,title:"Date format"}},required:["name","column"],additionalProperties:!1},toLowerSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Convert column to lowercase",type:"object",properties:{name:{type:"string",enum:["lowercase"]},column:{type:"string",minLength:1,title:"Column to convert",description:"Column to convert",attrs:{placeholder:"Enter a column"}}},required:["name","column"],additionalProperties:!1},topBuildSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Top step",type:"object",properties:{name:{type:"string",enum:["top"]},rank_on:{type:"string",minLength:1,title:"Sort column...",description:"The column used to sort rows",attrs:{placeholder:"Select a column"}},sort:{type:"string",title:"Sort order",description:"The order used to sort values",attrs:{placeholder:"Select an order"},enum:["asc","desc"]},limit:{type:"integer",title:"Number of top rows",description:"The number of top rows to get after sorting",attrs:{placeholder:"Enter an integer"}},groups:{type:"array",items:{type:"string",minLength:1},title:"Group by",description:"The columns used to group the data if needing to get top rows in several groups",attrs:{placeholder:"Add columns"}}},required:["rank_on","sort","limit"],additionalProperties:!1},totalsSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Add Total Rows step",type:"object",properties:{name:{type:"string",enum:["totals"]},totalDimensions:{type:"array",minItems:1,items:{type:"object",properties:{totalColumn:{type:"string",minLength:1},totalRowsLabel:{type:"string",minLength:1}}},title:"Columns to compute total rows in",description:"Select a column and enter a label for computed total rows"},aggregations:aggregations,groups:{type:"array",items:{type:"string",minLength:1},title:"Group by",description:"The columns used to scope the compuation by group of rows if needed",attrs:{placeholder:"Add columns"}}},required:["name","totalDimensions","aggregations"],additionalProperties:!1},toUpperSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Convert column to uppercase",type:"object",properties:{name:{type:"string",enum:["uppercase"]},column:{type:"string",minLength:1,title:"Column to convert",description:"Column to convert",attrs:{placeholder:"Enter a column"}}},required:["name","column"],additionalProperties:!1},uniqueGroupsSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Get unique groups/values step",type:"object",properties:{name:{type:"string",enum:["uniquegroups"]},on:{type:"array",items:{type:"string",minLength:1},title:"Get unique groups/values in columns:",description:"The columns used to make groups",attrs:{placeholder:"Add columns"}}},required:["name","on"],additionalProperties:!1},unpivotSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Unpivot step",type:"object",properties:{name:{type:"string",enum:["unpivot"]},keep:{type:"array",items:{type:"string",minlength:1},minItems:1,title:"Columns to keep fixed",description:"Columns to keep fixed around which to unpivot columns.",attrs:{placeholder:"Columns to keep fixed"}},unpivot:{type:"array",items:{type:"string",minlength:1},minItems:1,title:"Columns to unpivot",description:"Columns to unpivot.",attrs:{placeholder:"Columns to unpivot"}},unpivot_column_name:{type:"string",minLength:1,title:"Name of the new dimension column",description:"Name of the new dimension column",attrs:{placeholder:"Enter a new column name"}},value_column_name:{type:"string",minLength:1,title:"Name of the new value column",description:"Name of the new value column created after unpivot",attrs:{placeholder:"Enter a new column name"}},dropna:{type:"boolean",default:!0,title:"Drop null values",description:"Whether null values have to be kept or discarded"}},required:["name","keep","unpivot","unpivot_column_name","value_column_name","dropna"],additionalProperties:!1},waterfallSchema={$schema:"http://json-schema.org/draft-07/schema#",title:"Waterfall step",type:"object",properties:{name:{type:"string",const:"waterfall"},valueColumn:{type:"string",minLength:1,title:"Value column name",description:"The name of the value column used to compute waterfall blocks values"},milestonesColumn:{type:"string",minLength:1,title:"Column incl. start and end blocks labels (generally dates)",description:"Column including the labels of the starting and ending blocks of the waterfall (generally dates)"},start:{type:"string",minLength:1,title:"Starting block label",description:"The label of the starting milestone to find in the milestone column"},end:{type:"string",minLength:1,title:"Ending block label",description:"The label of the ending milestone to find in the milestone column"},labelsColumn:{type:"string",minLength:1,title:"Labels column (for intermediate blocks)",description:"The name of the column where to find children labels"},parentsColumn:{type:"string",minLength:1,title:"(Optional) Parents labels column (for drill)",description:"The name of the column where to find parent labels if any"},groupby:{type:"array",items:{type:"string",minLength:1},title:"Group by",description:"The columns used to group waterfall computation"},sortBy:{type:"string",title:"Sort order",enum:["label","value"],description:"Whether to sort waterfall blocks depending on labels alphabetical order or values order"},order:{type:"string",title:"Sort order",enum:["asc","desc"],description:'Whether to use ascending or descending order when applying the "sortBy" parameter'}},required:["name","valueColumn","milestonesColumn","start","end","labelsColumn","sortBy","order"],additionalProperties:!1},factories={addmissingdates:addmissingdatesSchema,aggregate:buildSchema,append:appendSchema,argmax:argmaxSchema,argmin:argminSchema,concatenate:buildSchema$1,convert:convertSchema,cumsum:buildSchema$2,custom:customSchema,dateextract:buildSchema$3,delete:deleteSchema,domain:domainSchema,duplicate:buildSchema$4,duration:durationSchema,evolution:buildSchema$5,fillna:fillnaSchema,filter:filterSchema,formula:formulaSchema,fromdate:fromDateSchema,ifthenelse:ifthenelseSchema,join:JoinStepFormSchema,lowercase:toLowerSchema,movingaverage:buildSchema$6,percentage:buildSchema$7,pivot:pivotSchema,rank:buildSchema$8,rename:renameSchema,replace:replaceSchema,rollup:rollupSchema,select:selectSchema,sort:sortSchema,split:splitSchema,statistics:statisticsSchema,substring:buildSchema$9,text:textSchema,todate:toDateSchema,top:topBuildSchema,totals:totalsSchema,unpivot:unpivotSchema,uniquegroups:uniqueGroupsSchema,uppercase:toUpperSchema,waterfall:waterfallSchema};function schemaFactory(e,t){var r=factories[e];return"function"==typeof r?r(t):r}var script$3={};const __vue_script__$y=script$3;var __vue_render__$x=function(e,t){var r=t._c;return r("div",[r("div",{staticClass:"widget-form-action"},[r("button",{staticClass:"widget-form-action__button widget-form-action__button--validate",on:{click:function(e){return t.parent.submit()}}},[t._v("\n      Save changes\n    ")])])])},__vue_staticRenderFns__$x=[];__vue_render__$x._withStripped=!0;const __vue_inject_styles__$y=void 0,__vue_scope_id__$y="data-v-08948577",__vue_module_identifier__$y=void 0,__vue_is_functional_template__$y=!0,__vue_component__$y=normalizeComponent({render:__vue_render__$x,staticRenderFns:__vue_staticRenderFns__$x},void 0,__vue_script__$y,"data-v-08948577",!0,void 0,!1,void 0,void 0,void 0);var __vue_render__$y=function(e,t){var r=t._c;return r("div",{staticClass:"step-edit-form"},[r("button",{staticClass:"step-edit-form__back-button",on:{click:t.parent.cancelEdition}},[r("i",{staticClass:"fas fa-angle-left",attrs:{"aria-hidden":"true"}}),t._v("\n    BACK\n  ")]),t._v(" "),r("div",{staticClass:"step-edit-form__title-container"},[r("h1",[t._v(t._s(t.props.title))]),t._v(" "),r("a",{attrs:{href:"https://weaverbird.toucantoco.com/docs/"+t.props.stepName,target:"_blank",rel:"noopener","data-version":t.props.version}},[r("i",{staticClass:"fas fa-question-circle",attrs:{"aria-hidden":"true"}})])]),t._v(" "),r("div",{staticClass:"step-edit-form__empty"})])},__vue_staticRenderFns__$y=[];__vue_render__$y._withStripped=!0;const __vue_inject_styles__$z=void 0,__vue_scope_id__$z="data-v-59864da6",__vue_module_identifier__$z=void 0,__vue_is_functional_template__$z=!0,__vue_component__$z=normalizeComponent({render:__vue_render__$y,staticRenderFns:__vue_staticRenderFns__$y},void 0,{},"data-v-59864da6",!0,void 0,!1,void 0,void 0,void 0);function componentProxyBoundOn(e){return{get:function(t,r){var n=t.options.methods[r];return"function"==typeof n?n.bind(e):n}}}var BaseStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.version=version$2,t.selectedColumnAttrName=null,t.title="",t.editedStep=__assign(__assign({},t.initialStepValue),t.stepFormDefaults),t.errors=null,t.validator=function(){return!1},t}var r;return __extends(t,e),r=t,t.prototype.created=function(){this.initialize()},t.prototype.initialize=function(){var e=this.stepSelectedColumn;e&&this.setSelectedColumns({column:e})},t.prototype.mounted=function(){var e=this;this.isStepCreation&&this.selectedColumns.length>0&&(this.stepSelectedColumn=this.selectedColumns[0]),this.$el.addEventListener("keydown",(function(t){(t.metaKey||t.ctrlKey)&&"Enter"==t.code&&e.submit()}))},Object.defineProperty(t.prototype,"$$super",{get:function(){return new Proxy(r,componentProxyBoundOn(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return null},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.onSelectedColumnsChanged=function(e,t){e.length>0&&!lodash.isEqual(e,t)&&(this.stepSelectedColumn=e[0])},t.prototype.updateSelectedColumn=function(e){},t.prototype.validate=function(){return!1===this.validator(__assign({},this.editedStep))?this.validator.errors:null},t.prototype.cancelEdition=function(){this.$emit("back");var e=this.isStepCreation?this.computedActiveStepIndex:this.selectedStepIndex+1;this.selectStep({index:e})},t.prototype.submit=function(){this.editedStepModel=schemaFactory(this.stepname,this);var e=ajv({schemaId:"auto",allErrors:!0});addAjvKeywords(e);var t=e.compile(this.editedStepModel),r=new PipelineInterpolator(this.interpolateFunc,this.variables),n=function(e){var a=t(r.interpolateStep(e));return n.errors=t.errors,a};this.validator=n;var a=this.validate();this.errors=a,null===a&&this.$emit("formSaved",__assign({},this.editedStep))},__decorate([Prop({type:Boolean,default:!0})],t.prototype,"isStepCreation",void 0),__decorate([Prop({type:Object,default:null})],t.prototype,"initialStepValue",void 0),__decorate([Prop({type:Object,default:void 0})],t.prototype,"stepFormDefaults",void 0),__decorate([VQBModule.State],t.prototype,"interpolateFunc",void 0),__decorate([VQBModule.State],t.prototype,"selectedStepIndex",void 0),__decorate([VQBModule.State],t.prototype,"variables",void 0),__decorate([VQBModule.Action],t.prototype,"selectStep",void 0),__decorate([VQBModule.Mutation],t.prototype,"setSelectedColumns",void 0),__decorate([VQBModule.Getter],t.prototype,"columnNames",void 0),__decorate([VQBModule.Getter],t.prototype,"computedActiveStepIndex",void 0),__decorate([VQBModule.Getter],t.prototype,"pipeline",void 0),__decorate([VQBModule.Getter],t.prototype,"selectedColumns",void 0),__decorate([Watch("selectedColumns")],t.prototype,"onSelectedColumnsChanged",null),t=r=__decorate([Component({components:{StepFormHeader:__vue_component__$z,StepFormButtonbar:__vue_component__$y}})],t)}(Vue);const __vue_script__$z=BaseStepForm,__vue_inject_styles__$A=void 0,__vue_scope_id__$A=void 0,__vue_module_identifier__$A=void 0,__vue_is_functional_template__$A=void 0,__vue_component__$A=normalizeComponent({},void 0,__vue_script__$z,void 0,void 0,void 0,!1,void 0,void 0,void 0);var AddMissingDatesStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="addmissingdates",t.title="Add Missing Dates",t.datesGranularities=["day","month","year"],t}return __extends(t,e),__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"addmissingdates",datesColumn:"",datesGranularity:"day"}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"add-missing-dates-step-form",components:{ColumnPicker:__vue_component__$w,AutocompleteWidget:__vue_component__$m,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$A=AddMissingDatesStepForm;var __vue_render__$z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"datesColumnInput",attrs:{name:"Dates column:",placeholder:"Select a column","data-path":".datesColumn",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.datesColumn,callback:function(t){e.$set(e.editedStep,"datesColumn",t)},expression:"editedStep.datesColumn"}}),e._v(" "),r("AutocompleteWidget",{staticClass:"datesGranularityInput",attrs:{name:"Dates granularity:",options:e.datesGranularities,"data-path":".datesGranularity",errors:e.errors},model:{value:e.editedStep.datesGranularity,callback:function(t){e.$set(e.editedStep,"datesGranularity",t)},expression:"editedStep.datesGranularity"}}),e._v(" "),r("MultiselectWidget",{staticClass:"groupsInput",attrs:{name:"(Optional) Group by:",options:e.columnNames,placeholder:"Select columns","data-path":".groups",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.groups,callback:function(t){e.$set(e.editedStep,"groups",t)},expression:"editedStep.groups"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$z=[];__vue_render__$z._withStripped=!0;const __vue_inject_styles__$B=void 0,__vue_scope_id__$B=void 0,__vue_module_identifier__$B=void 0,__vue_is_functional_template__$B=!1,__vue_component__$B=normalizeComponent({render:__vue_render__$z,staticRenderFns:__vue_staticRenderFns__$z},void 0,__vue_script__$A,void 0,!1,void 0,!1,void 0,void 0,void 0);var AddTextColumnStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="text",t.title="Add Text Column",t}return __extends(t,e),Object.defineProperty(t.prototype,"duplicateColumnName",{get:function(){return this.columnNames.includes(this.editedStep.new_column)?'A column name "'+this.editedStep.new_column+'" already exists. You will overwrite it.':null},enumerable:!0,configurable:!0}),t.prototype.submit=function(){this.$$super.submit(),null===this.errors&&this.setSelectedColumns({column:this.editedStep.new_column})},__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"text",new_column:"",text:""}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"text-step-form",components:{InputTextWidget:__vue_component__$n}})],t)}(__vue_component__$A);const __vue_script__$B=AddTextColumnStepForm;var __vue_render__$A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("InputTextWidget",{staticClass:"newColumnInput",attrs:{name:"New colum:",placeholder:"Enter a new column name","data-path":".new_column",errors:e.errors,warning:e.duplicateColumnName,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.new_column,callback:function(t){e.$set(e.editedStep,"new_column",t)},expression:"editedStep.new_column"}}),e._v(" "),r("InputTextWidget",{staticClass:"textInput",attrs:{name:"Enter a text:",placeholder:"","data-path":".text",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.text,callback:function(t){e.$set(e.editedStep,"text",t)},expression:"editedStep.text"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$A=[];__vue_render__$A._withStripped=!0;const __vue_inject_styles__$C=void 0,__vue_scope_id__$C=void 0,__vue_module_identifier__$C=void 0,__vue_is_functional_template__$C=!1,__vue_component__$C=normalizeComponent({render:__vue_render__$A,staticRenderFns:__vue_staticRenderFns__$A},void 0,__vue_script__$B,void 0,!1,void 0,!1,void 0,void 0,void 0);var TotalDimensionsWidget=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"totalColumn",{get:function(){return this.value.totalColumn},set:function(e){this.update({totalColumn:e,totalRowsLabel:this.totalRowsLabel})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalRowsLabel",{get:function(){return this.value.totalRowsLabel},set:function(e){this.update({totalColumn:this.totalColumn,totalRowsLabel:e})},enumerable:!0,configurable:!0}),t.prototype.update=function(e){this.$emit("input",e)},__decorate([Prop({type:Object,default:function(){return{columnTotal:"",totalRowsLabel:""}}})],t.prototype,"value",void 0),__decorate([Prop({type:String,default:null})],t.prototype,"dataPath",void 0),__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),__decorate([Prop()],t.prototype,"availableVariables",void 0),__decorate([Prop()],t.prototype,"variableDelimiters",void 0),__decorate([VQBModule.Getter],t.prototype,"columnNames",void 0),t=__decorate([Component({name:"total-dimensions-widget",components:{AutocompleteWidget:__vue_component__$m,InputTextWidget:__vue_component__$n}})],t)}(Vue);const __vue_script__$C=TotalDimensionsWidget;var __vue_render__$B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-totals__container"},[r("AutocompleteWidget",{staticClass:"widget-totals__column",attrs:{placeholder:"Column to add totals rows in",options:e.columnNames,"data-path":e.dataPath+"[0]",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.totalColumn,callback:function(t){e.totalColumn=t},expression:"totalColumn"}}),e._v(" "),r("InputTextWidget",{staticClass:"widget-totals__total-rows-label",attrs:{placeholder:"Total rows label","data-path":e.dataPath+"[1]",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.totalRowsLabel,callback:function(t){e.totalRowsLabel=t},expression:"totalRowsLabel"}})],1)},__vue_staticRenderFns__$B=[];__vue_render__$B._withStripped=!0;const __vue_inject_styles__$D=void 0,__vue_scope_id__$D="data-v-24ec0458",__vue_module_identifier__$D=void 0,__vue_is_functional_template__$D=!1,__vue_component__$D=normalizeComponent({render:__vue_render__$B,staticRenderFns:__vue_staticRenderFns__$B},void 0,__vue_script__$C,"data-v-24ec0458",!1,void 0,!1,void 0,void 0,void 0);var AggregationWidget=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aggregationFunctions=["sum","avg","count","min","max","first","last"],t}return __extends(t,e),Object.defineProperty(t.prototype,"aggregationColumns",{get:function(){return this.value.columns},set:function(e){this.$emit("input",__assign(__assign({},this.value),{columns:e}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregationFunction",{get:function(){return this.value.aggfunction},set:function(e){this.$emit("input",__assign(__assign({},this.value),{aggfunction:e}))},enumerable:!0,configurable:!0}),__decorate([Prop({type:String,default:null})],t.prototype,"dataPath",void 0),__decorate([Prop({type:Object,default:function(){return{columns:[],aggfunctions:"sum",newcolumns:[]}}})],t.prototype,"value",void 0),__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),__decorate([Prop()],t.prototype,"availableVariables",void 0),__decorate([Prop()],t.prototype,"variableDelimiters",void 0),__decorate([VQBModule.Getter],t.prototype,"columnNames",void 0),t=__decorate([Component({name:"aggregation-widget",components:{AutocompleteWidget:__vue_component__$m,MultiselectWidget:__vue_component__$x}})],t)}(Vue);const __vue_script__$D=AggregationWidget;var __vue_render__$C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fieldset",{staticClass:"widget-aggregation__container"},[r("legend",[e._v("Aggregate columns")]),e._v(" "),r("MultiselectWidget",{staticClass:"columnsInput",attrs:{options:e.columnNames,name:"Columns:",placeholder:"Select columns","data-path":e.dataPath+".columns",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.aggregationColumns,callback:function(t){e.aggregationColumns=t},expression:"aggregationColumns"}}),e._v(" "),r("AutocompleteWidget",{staticClass:"aggregationFunctionInput",attrs:{name:"Function:",options:e.aggregationFunctions,placeholder:"Aggregation function","data-path":e.dataPath+".aggfunction",errors:e.errors},model:{value:e.aggregationFunction,callback:function(t){e.aggregationFunction=t},expression:"aggregationFunction"}})],1)},__vue_staticRenderFns__$C=[];__vue_render__$C._withStripped=!0;const __vue_inject_styles__$E=void 0,__vue_scope_id__$E="data-v-50f755b2",__vue_module_identifier__$E=void 0,__vue_is_functional_template__$E=!1,__vue_component__$E=normalizeComponent({render:__vue_render__$C,staticRenderFns:__vue_staticRenderFns__$C},void 0,__vue_script__$D,"data-v-50f755b2",!1,void 0,!1,void 0,void 0,void 0);var ListWidget=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"children",{get:function(){var e=__spread(this.value);return this.automaticNewField&&e.push(this.defaultChildValue),e.map((function(t){return{isRemovable:1!==e.length,value:t}}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultChildValue",{get:function(){return this.defaultItem?this.defaultItem:this.widget===__vue_component__$n?"":[]},enumerable:!0,configurable:!0}),t.prototype.addFieldSet=function(){this.updateValue(__spread(this.value,[lodash.cloneDeep(this.defaultChildValue)]))},t.prototype.removeChild=function(e){var t=__spread(this.value);t.splice(e,1),this.updateValue(t)},t.prototype.updateChildValue=function(e,t){var r=__spread(this.value);this.value.length<t?r.push(e):r[t]=e,this.updateValue(r)},t.prototype.updateValue=function(e){this.$emit("input",e)},__decorate([Prop({type:String,default:""})],t.prototype,"addFieldName",void 0),__decorate([Prop({type:Object,default:function(){}})],t.prototype,"componentProps",void 0),__decorate([Prop({type:String,default:""})],t.prototype,"name",void 0),__decorate([Prop({type:String,default:null})],t.prototype,"separatorLabel",void 0),__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"value",void 0),__decorate([Prop({type:Function,default:__vue_component__$n})],t.prototype,"widget",void 0),__decorate([Prop({type:Boolean,default:!0})],t.prototype,"automaticNewField",void 0),__decorate([Prop({default:null})],t.prototype,"defaultItem",void 0),__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),__decorate([Prop({default:null})],t.prototype,"dataPath",void 0),__decorate([Prop()],t.prototype,"availableVariables",void 0),__decorate([Prop()],t.prototype,"variableDelimiters",void 0),t=__decorate([Component({name:"list-widget"})],t)}(mixins(__vue_component__$g));const __vue_script__$E=ListWidget;var __vue_render__$D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-list__container",class:e.toggleClassErrorWarning},[e.name?r("label",[e._v(e._s(e.name))]):e._e(),e._v(" "),r("div",{staticClass:"widget-list__body"},[e._l(e.children,(function(t,n){return r("div",{key:n,staticClass:"widget-list__child"},[n>0&&e.separatorLabel?r("span",{staticClass:"widget-list__component-sep"},[e._v(e._s(e.separatorLabel))]):e._e(),e._v(" "),r("div",{staticClass:"widget-list__component"},[r(e.widget,e._b({tag:"component",attrs:{value:t.value,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,"data-path":e.dataPath+"["+n+"]",errors:e.errors},on:{input:function(t){return e.updateChildValue(t,n)}}},"component",e.componentProps,!1))],1),e._v(" "),t.isRemovable?r("div",{staticClass:"widget-list__icon",on:{click:function(t){return e.removeChild(n)}}},[r("i",{staticClass:"far fa-trash-alt",attrs:{"aria-hidden":"true"}})]):e._e()])})),e._v(" "),e.messageError?r("div",{staticClass:"field__msg-error"},[r("span",{staticClass:"fa fa-exclamation-circle"}),e._v("\n      "+e._s(e.messageError)+"\n    ")]):e._e(),e._v(" "),e.automaticNewField?e._e():r("button",{staticClass:"widget-list__add-fieldset",on:{click:e.addFieldSet}},[r("i",{staticClass:"fas fa-plus-circle",attrs:{"aria-hidden":"true"}}),e._v("\n      "+e._s(e.addFieldName)+"\n    ")])],2)])},__vue_staticRenderFns__$D=[];__vue_render__$D._withStripped=!0;const __vue_inject_styles__$F=void 0,__vue_scope_id__$F="data-v-852b4118",__vue_module_identifier__$F=void 0,__vue_is_functional_template__$F=!1,__vue_component__$F=normalizeComponent({render:__vue_render__$D,staticRenderFns:__vue_staticRenderFns__$D},void 0,__vue_script__$E,"data-v-852b4118",!1,void 0,!1,void 0,void 0,void 0);var AddTotalRowsStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="totals",t.title="Add Total Rows",t.totalDimensionsWidget=__vue_component__$D,t.widgetAggregation=__vue_component__$E,t}return __extends(t,e),Object.defineProperty(t.prototype,"defaultAggregation",{get:function(){return{columns:[],newcolumns:[],aggfunction:"sum"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregations",{get:function(){return this.editedStep.aggregations.length?this.editedStep.aggregations:[this.defaultAggregation]},set:function(e){this.editedStep.aggregations=__spread(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultTotalDimensions",{get:function(){return{totalColumn:"",totalRowsLabel:""}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalDimensions",{get:function(){return this.editedStep.totalDimensions.length?this.editedStep.totalDimensions:[{totalColumn:"",totalRowsLabel:""}]},set:function(e){this.editedStep.totalDimensions=__spread(e)},enumerable:!0,configurable:!0}),t.prototype.submit=function(){setAggregationsNewColumnsInStep(this.editedStep),this.$$super.submit()},__decorate([Prop({type:Object,default:function(){return{name:"totals",totalDimensions:[],aggregations:[]}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"totals-step-form",components:{ListWidget:__vue_component__$F,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$F=AddTotalRowsStepForm;var __vue_render__$E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ListWidget",{staticClass:"totals",attrs:{addFieldName:"Add new column",name:"Columns to compute total rows in:",defaultItem:e.defaultTotalDimensions,widget:e.totalDimensionsWidget,"automatic-new-field":!1,"data-path":".totalDimensions",errors:e.errors},model:{value:e.totalDimensions,callback:function(t){e.totalDimensions=t},expression:"totalDimensions"}}),e._v(" "),r("ListWidget",{staticClass:"aggregationsInput",attrs:{addFieldName:"Add aggregation",name:"Columns to aggregate:",defaultItem:e.defaultAggregation,widget:e.widgetAggregation,"automatic-new-field":!1,"data-path":".aggregations",errors:e.errors},model:{value:e.aggregations,callback:function(t){e.aggregations=t},expression:"aggregations"}}),e._v(" "),r("MultiselectWidget",{staticClass:"groupsInput",attrs:{name:"(Optional) Group by:",options:e.columnNames,placeholder:"Add columns","data-path":".groups",errors:e.errors},on:{input:function(t){return e.setSelectedColumns({column:e.editedStep.groups[e.editedStep.groups.length-1]})}},model:{value:e.editedStep.groups,callback:function(t){e.$set(e.editedStep,"groups",t)},expression:"editedStep.groups"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$E=[];__vue_render__$E._withStripped=!0;const __vue_inject_styles__$G=void 0,__vue_scope_id__$G=void 0,__vue_module_identifier__$G=void 0,__vue_is_functional_template__$G=!1,__vue_component__$G=normalizeComponent({render:__vue_render__$E,staticRenderFns:__vue_staticRenderFns__$E},void 0,__vue_script__$F,void 0,!1,void 0,!1,void 0,void 0,void 0);var AggregateStepForm=function(e){function t(){var t,r=e.apply(this,__spread(arguments))||this;return r.stepname="aggregate",r.title="Aggregate",r.widgetAggregation=__vue_component__$E,r.editedStep=__assign(__assign(__assign({},r.initialStepValue),r.stepFormDefaults),{aggregations:r.initialStepValue.aggregations.map((function(e){return __assign(__assign({},e),{columns:e.column?[e.column]:e.columns,newcolumns:e.newcolumn?[e.newcolumn]:e.newcolumns,column:void 0,newcolumn:void 0})})),keepOriginalGranularity:(t=r.initialStepValue.keepOriginalGranularity,null!=t&&t)}),r}return __extends(t,e),Object.defineProperty(t.prototype,"defaultAggregation",{get:function(){return{columns:[],newcolumns:[],aggfunction:"sum"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregations",{get:function(){return this.editedStep.aggregations.length?this.editedStep.aggregations:[this.defaultAggregation]},set:function(e){this.editedStep.aggregations=__spread(e)},enumerable:!0,configurable:!0}),t.prototype.submit=function(){var e,t,r,n,a,i,o={};try{for(var s=__values(this.editedStep.aggregations),u=s.next();!u.done;u=s.next()){(m=u.value).newcolumns=__spread(m.columns);try{for(var c=(r=void 0,__values(m.newcolumns)),l=c.next();!l.done;l=c.next()){var p=l.value;o[p]=(o[p]||0)+1}}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}try{for(var d=__values(this.editedStep.aggregations),f=d.next();!f.done;f=d.next())for(var m=f.value,h=0;h<m.newcolumns.length;h++)(o[m.newcolumns[h]]>1||this.editedStep.keepOriginalGranularity)&&m.newcolumns.splice(h,1,m.newcolumns[h]+"-"+m.aggfunction),this.editedStep.on.includes(m.newcolumns[h])&&m.newcolumns.splice(h,1,m.newcolumns[h]+"-"+m.aggfunction)}catch(e){a={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(a)throw a.error}}this.$$super.submit()},__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"aggregate",on:[],aggregations:[],keepOriginalGranularity:!1}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"aggregate-step-form",components:{CheckboxWidget:__vue_component__$2,ListWidget:__vue_component__$F,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$G=AggregateStepForm;var __vue_render__$F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("MultiselectWidget",{staticClass:"groupbyColumnsInput",attrs:{name:"Group rows by...",options:e.columnNames,placeholder:"Add columns","data-path":".on",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},on:{input:function(t){return e.setSelectedColumns({column:e.editedStep.on[e.editedStep.on.length-1]})}},model:{value:e.editedStep.on,callback:function(t){e.$set(e.editedStep,"on",t)},expression:"editedStep.on"}}),e._v(" "),r("ListWidget",{staticClass:"toremove",attrs:{addFieldName:"Add aggregation",name:"And aggregate...",defaultItem:e.defaultAggregation,widget:e.widgetAggregation,"automatic-new-field":!1,"data-path":".aggregations",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.aggregations,callback:function(t){e.aggregations=t},expression:"aggregations"}}),e._v(" "),r("CheckboxWidget",{staticClass:"keepOriginalGranularityCheckbox",attrs:{label:"Keep original granularity and add aggregation(s) in new column(s)"},model:{value:e.editedStep.keepOriginalGranularity,callback:function(t){e.$set(e.editedStep,"keepOriginalGranularity",t)},expression:"editedStep.keepOriginalGranularity"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$F=[];__vue_render__$F._withStripped=!0;const __vue_inject_styles__$H=void 0,__vue_scope_id__$H=void 0,__vue_module_identifier__$H=void 0,__vue_is_functional_template__$H=!1,__vue_component__$H=normalizeComponent({render:__vue_render__$F,staticRenderFns:__vue_staticRenderFns__$F},void 0,__vue_script__$G,void 0,!1,void 0,!1,void 0,void 0,void 0);var AppendStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="append",t.title="Append datasets",t}return __extends(t,e),Object.defineProperty(t.prototype,"pipelines",{get:function(){return this.editedStep.pipelines.map((function(e){return{label:e,trackBy:e}}))},set:function(e){this.editedStep.pipelines=e.map((function(e){return e.label}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){var e=this;return this.availableDatasetNames.map((function(t){var r={label:t,trackBy:t};return e.referencingPipelines.includes(t)&&(r.$isDisabled=!0,r.tooltip="Circular reference: you cannot combine "+t+" because it references the current dataset."),r}))},enumerable:!0,configurable:!0}),__decorate([Prop({type:Object,default:function(){return{name:"append",pipelines:[]}}})],t.prototype,"initialStepValue",void 0),__decorate([VQBModule.Getter],t.prototype,"referencingPipelines",void 0),__decorate([VQBModule.Getter],t.prototype,"availableDatasetNames",void 0),t=__decorate([Component$1({name:"append-step-form",components:{MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$H=AppendStepForm;var __vue_render__$G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("MultiselectWidget",{staticClass:"pipelinesInput",attrs:{name:"Select datasets to append:",options:e.options,placeholder:"Select datasets","data-path":".pipelines",errors:e.errors,"track-by":"trackBy",label:"label"},model:{value:e.pipelines,callback:function(t){e.pipelines=t},expression:"pipelines"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$G=[];__vue_render__$G._withStripped=!0;const __vue_inject_styles__$I=void 0,__vue_scope_id__$I=void 0,__vue_module_identifier__$I=void 0,__vue_is_functional_template__$I=!1,__vue_component__$I=normalizeComponent({render:__vue_render__$G,staticRenderFns:__vue_staticRenderFns__$G},void 0,__vue_script__$H,void 0,!1,void 0,!1,void 0,void 0,void 0);var ArgmaxStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="argmax",t.title="Argmax",t}return __extends(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"argmax",column:""}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"argmax-step-form",components:{ColumnPicker:__vue_component__$w,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$I=ArgmaxStepForm;var __vue_render__$H=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"valueColumnInput",attrs:{name:"Search max value in...",placeholder:"Enter a column name","data-path":".column",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("MultiselectWidget",{staticClass:"groupbyColumnsInput",attrs:{name:"(Optional) Group by...",options:e.columnNames,placeholder:"Add columns","data-path":".groups",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.groups,callback:function(t){e.$set(e.editedStep,"groups",t)},expression:"editedStep.groups"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$H=[];__vue_render__$H._withStripped=!0;const __vue_inject_styles__$J=void 0,__vue_scope_id__$J=void 0,__vue_module_identifier__$J=void 0,__vue_is_functional_template__$J=!1,__vue_component__$J=normalizeComponent({render:__vue_render__$H,staticRenderFns:__vue_staticRenderFns__$H},void 0,__vue_script__$I,void 0,!1,void 0,!1,void 0,void 0,void 0);var ArgminStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="argmin",t.title="Argmin",t}return __extends(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"argmin",column:""}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"argmin-step-form",components:{ColumnPicker:__vue_component__$w,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$J=ArgminStepForm;var __vue_render__$I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"valueColumnInput",attrs:{name:"Search min value in...",placeholder:"Enter a column name","data-path":".column",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("MultiselectWidget",{staticClass:"groupbyColumnsInput",attrs:{name:"(Optional) Group by...",options:e.columnNames,placeholder:"Add columns","data-path":".groups",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.groups,callback:function(t){e.$set(e.editedStep,"groups",t)},expression:"editedStep.groups"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$I=[];__vue_render__$I._withStripped=!0;const __vue_inject_styles__$K=void 0,__vue_scope_id__$K=void 0,__vue_module_identifier__$K=void 0,__vue_is_functional_template__$K=!1,__vue_component__$K=normalizeComponent({render:__vue_render__$I,staticRenderFns:__vue_staticRenderFns__$I},void 0,__vue_script__$J,void 0,!1,void 0,!1,void 0,void 0,void 0);var ComputeDurationStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="duration",t.title="Compute Duration",t.durationUnits=["days","hours","minutes","seconds"],t}return __extends(t,e),Object.defineProperty(t.prototype,"duplicateColumnName",{get:function(){return this.columnNames.includes(this.editedStep.newColumnName)?'A column name "'+this.editedStep.newColumnName+'" already exists. You will overwrite it.':null},enumerable:!0,configurable:!0}),t.prototype.submit=function(){this.$$super.submit(),null===this.errors&&this.setSelectedColumns({column:this.editedStep.newColumnName})},__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"duration",newColumnName:"",startDateColumn:"",endDateColumn:"",durationIn:"days"}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({vqbstep:"duration",name:"duration-step-form",components:{AutocompleteWidget:__vue_component__$m,ColumnPicker:__vue_component__$w,InputTextWidget:__vue_component__$n}})],t)}(__vue_component__$A);const __vue_script__$K=ComputeDurationStepForm;var __vue_render__$J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("InputTextWidget",{staticClass:"newColumnNameInput",attrs:{name:"New colum name:",placeholder:"Enter a new column name","data-path":".newColumnName",errors:e.errors,warning:e.duplicateColumnName},model:{value:e.editedStep.newColumnName,callback:function(t){e.$set(e.editedStep,"newColumnName",t)},expression:"editedStep.newColumnName"}}),e._v(" "),r("ColumnPicker",{staticClass:"startDateColumnInput",attrs:{name:"Start date column:",placeholder:"Select a column","data-path":".startDateColumn",syncWithSelectedColumn:!1,errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.startDateColumn,callback:function(t){e.$set(e.editedStep,"startDateColumn",t)},expression:"editedStep.startDateColumn"}}),e._v(" "),r("ColumnPicker",{staticClass:"endDateColumnInput",attrs:{name:"End date column:",placeholder:"Select a column","data-path":".endDateColumn",syncWithSelectedColumn:!1,errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.endDateColumn,callback:function(t){e.$set(e.editedStep,"endDateColumn",t)},expression:"editedStep.endDateColumn"}}),e._v(" "),r("AutocompleteWidget",{staticClass:"durationInInput",attrs:{name:"Compute duration in:",options:e.durationUnits,"data-path":".durationIn",errors:e.errors},model:{value:e.editedStep.durationIn,callback:function(t){e.$set(e.editedStep,"durationIn",t)},expression:"editedStep.durationIn"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$J=[];__vue_render__$J._withStripped=!0;const __vue_inject_styles__$L=void 0,__vue_scope_id__$L=void 0,__vue_module_identifier__$L=void 0,__vue_is_functional_template__$L=!1,__vue_component__$L=normalizeComponent({render:__vue_render__$J,staticRenderFns:__vue_staticRenderFns__$J},void 0,__vue_script__$K,void 0,!1,void 0,!1,void 0,void 0,void 0);var ConcatenateStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="concatenate",t.title="Concatenate columns",t.columnPicker=__vue_component__$w,t}return __extends(t,e),t.prototype.mounted=function(){this.isStepCreation&&this.selectedColumns[0]?this.editedStep={name:"concatenate",columns:[this.selectedColumns[0]],separator:"",new_column_name:""}:this.editedStep=__assign({},this.initialStepValue)},Object.defineProperty(t.prototype,"toConcatenate",{get:function(){return this.editedStep.columns.length?this.editedStep.columns:[""]},set:function(e){this.editedStep.columns=__spread(e)},enumerable:!0,configurable:!0}),__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"concatenate",columns:[""],separator:"",new_column_name:""}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"concatenate-step-form",components:{ColumnPicker:__vue_component__$w,InputTextWidget:__vue_component__$n,ListWidget:__vue_component__$F}})],t)}(__vue_component__$A);const __vue_script__$L=ConcatenateStepForm;var __vue_render__$K=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ListWidget",{staticClass:"toConcatenate",attrs:{addFieldName:"Add columns",name:"Columns to concatenate:",defaultItem:[],widget:e.columnPicker,componentProps:{syncWithSelectedColumn:!1},"automatic-new-field":!1,"data-path":".columns",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.toConcatenate,callback:function(t){e.toConcatenate=t},expression:"toConcatenate"}}),e._v(" "),r("InputTextWidget",{staticClass:"separator",attrs:{name:"Separator:",placeholder:"Enter string of any length","data-path":".separator",errors:e.errors},model:{value:e.editedStep.separator,callback:function(t){e.$set(e.editedStep,"separator",t)},expression:"editedStep.separator"}}),e._v(" "),r("InputTextWidget",{staticClass:"newColumnName",attrs:{name:"New column name:",placeholder:"Enter a columnn name","data-path":".new_column_name",errors:e.errors},model:{value:e.editedStep.new_column_name,callback:function(t){e.$set(e.editedStep,"new_column_name",t)},expression:"editedStep.new_column_name"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$K=[];__vue_render__$K._withStripped=!0;const __vue_inject_styles__$M=void 0,__vue_scope_id__$M=void 0,__vue_module_identifier__$M=void 0,__vue_is_functional_template__$M=!1,__vue_component__$M=normalizeComponent({render:__vue_render__$K,staticRenderFns:__vue_staticRenderFns__$K},void 0,__vue_script__$L,void 0,!1,void 0,!1,void 0,void 0,void 0);var ConvertStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="convert",t.title="Convert Columns Data Types",t.dataTypes=["integer","float","text","date","boolean"],t}return __extends(t,e),__decorate([Prop({type:Object,default:function(){return{name:"convert",columns:[],data_type:""}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"convert-step-form",components:{AutocompleteWidget:__vue_component__$m,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$M=ConvertStepForm;var __vue_render__$L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("MultiselectWidget",{staticClass:"columnsInput",attrs:{name:"Convert columns:",options:e.columnNames,placeholder:"Select column(s)","data-path":".columns",errors:e.errors},on:{input:function(t){return e.setSelectedColumns({column:e.editedStep.columns[e.editedStep.columns.length-1]})}},model:{value:e.editedStep.columns,callback:function(t){e.$set(e.editedStep,"columns",t)},expression:"editedStep.columns"}}),e._v(" "),r("AutocompleteWidget",{staticClass:"typeInput",attrs:{name:"To data type:",options:e.dataTypes,placeholder:"Select a data type","data-path":".data_type",errors:e.errors},model:{value:e.editedStep.data_type,callback:function(t){e.$set(e.editedStep,"data_type",t)},expression:"editedStep.data_type"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$L=[];__vue_render__$L._withStripped=!0;const __vue_inject_styles__$N=void 0,__vue_scope_id__$N=void 0,__vue_module_identifier__$N=void 0,__vue_is_functional_template__$N=!1,__vue_component__$N=normalizeComponent({render:__vue_render__$L,staticRenderFns:__vue_staticRenderFns__$L},void 0,__vue_script__$M,void 0,!1,void 0,!1,void 0,void 0,void 0);var CumSumStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="cumsum",t.title="Compute cumulated sum",t}return __extends(t,e),__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"cumsum",valueColumn:"",referenceColumn:""}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"cumsum-step-form",components:{ColumnPicker:__vue_component__$w,InputTextWidget:__vue_component__$n,ListWidget:__vue_component__$F,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$N=CumSumStepForm;var __vue_render__$M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"valueColumnInput",attrs:{name:"Value column to sum",placeholder:"Enter a column","data-path":".valueColumn",syncWithSelectedColumn:!1,errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.valueColumn,callback:function(t){e.$set(e.editedStep,"valueColumn",t)},expression:"editedStep.valueColumn"}}),e._v(" "),r("ColumnPicker",{staticClass:"referenceColumnInput",attrs:{name:"Reference column to sort (usually dates)",placeholder:"Enter a column","data-path":".referenceColumn",syncWithSelectedColumn:!1,errors:e.errors},model:{value:e.editedStep.referenceColumn,callback:function(t){e.$set(e.editedStep,"referenceColumn",t)},expression:"editedStep.referenceColumn"}}),e._v(" "),r("MultiselectWidget",{staticClass:"groupbyInput",attrs:{name:"(Optional) Group cumulated sum by:",options:e.columnNames,placeholder:"Add columns","data-path":".groupby",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.groupby,callback:function(t){e.$set(e.editedStep,"groupby",t)},expression:"editedStep.groupby"}}),e._v(" "),r("InputTextWidget",{staticClass:"newColumnInput",attrs:{name:"(Optional) New column name:",placeholder:e.editedStep.valueColumn+"_CUMSUM","data-path":".newColumn",errors:e.errors},model:{value:e.editedStep.newColumn,callback:function(t){e.$set(e.editedStep,"newColumn",t)},expression:"editedStep.newColumn"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$M=[];__vue_render__$M._withStripped=!0;const __vue_inject_styles__$O=void 0,__vue_scope_id__$O=void 0,__vue_module_identifier__$O=void 0,__vue_is_functional_template__$O=!1,__vue_component__$O=normalizeComponent({render:__vue_render__$M,staticRenderFns:__vue_staticRenderFns__$M},void 0,__vue_script__$N,void 0,!1,void 0,!1,void 0,void 0,void 0);var CustomStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="custom",t.title="Custom step",t}return __extends(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Write a custom "+getTranslator(this.translator).constructor.label+" query"},enumerable:!0,configurable:!0}),t.prototype.validate=function(){var e=this.$$super.validate();return null!==e?e:getTranslator(this.translator).validate(__assign({},this.editedStep))},__decorate([VQBModule.Getter],t.prototype,"translator",void 0),__decorate([Prop({type:Object,default:function(){return{name:"custom",query:'[{"$match": {"domain": "test"}}]'}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"custom-step-form",components:{CodeEditorWidget:__vue_component__$h}})],t)}(__vue_component__$A);const __vue_script__$O=CustomStepForm;var __vue_render__$N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),e.name?r("label",[e._v(e._s(e.name))]):e._e(),e._v(" "),r("CodeEditorWidget",{attrs:{placeholder:"Write your custom mongo here",errors:e.errors,"data-path":".query"},model:{value:e.editedStep.query,callback:function(t){e.$set(e.editedStep,"query",t)},expression:"editedStep.query"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$N=[];__vue_render__$N._withStripped=!0;const __vue_inject_styles__$P=void 0,__vue_scope_id__$P=void 0,__vue_module_identifier__$P=void 0,__vue_is_functional_template__$P=!1,__vue_component__$P=normalizeComponent({render:__vue_render__$N,staticRenderFns:__vue_staticRenderFns__$N},void 0,__vue_script__$O,void 0,!1,void 0,!1,void 0,void 0,void 0);var DateExtractStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="dateextract",t.title="Convert Column From Text to Date",t.operations=[{operation:"year",label:"year"},{operation:"month",label:"month"},{operation:"day",label:"day of month"},{operation:"hour",label:"hour"},{operation:"minutes",label:"minutes"},{operation:"seconds",label:"seconds"},{operation:"milliseconds",label:"milliseconds"},{operation:"dayOfYear",label:"day of year"},{operation:"dayOfWeek",label:"day of week"},{operation:"week",label:"week number"}],t}return __extends(t,e),Object.defineProperty(t.prototype,"defaultNewColumnName",{get:function(){var e;return(null!=(e=this.editedStep.column)?e:"<date-column-name>")+"_"+this.editedStep.operation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newColumnNamePlaceholder",{get:function(){return"Enter a column name (default is "+this.defaultNewColumnName+")"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentOperation",{get:function(){var e=this;return this.editedStep.operation?this.operations.filter((function(t){return t.operation===e.editedStep.operation}))[0]:null},enumerable:!0,configurable:!0}),t.prototype.updateCurrentOperation=function(e){this.editedStep.operation=e.operation},Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),t.prototype.submit=function(){var e;this.editedStep.new_column_name=generateNewColumnName(null!=(e=this.editedStep.new_column_name)?e:this.defaultNewColumnName,this.columnNames),this.$$super.submit()},__decorate([Prop({type:Object,default:function(){return{name:"dateextract",column:""}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"dateextract-step-form",components:{AutocompleteWidget:__vue_component__$m,ColumnPicker:__vue_component__$w,InputTextWidget:__vue_component__$n}})],t)}(__vue_component__$A);const __vue_script__$P=DateExtractStepForm;var __vue_render__$O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"column",attrs:{name:"Column to work on:",options:e.columnNames,placeholder:"Pick a column","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("AutocompleteWidget",{staticClass:"operation",attrs:{name:"Property to extract",options:e.operations,value:e.currentOperation,placeholder:"Extract operations",trackBy:"operation",label:"label","data-path":".operation",errors:e.errors},on:{input:e.updateCurrentOperation}}),e._v(" "),r("InputTextWidget",{staticClass:"newColumnName",attrs:{name:"New column name:",placeholder:e.newColumnNamePlaceholder,"data-path":".new_column_name",errors:e.errors},model:{value:e.editedStep.new_column_name,callback:function(t){e.$set(e.editedStep,"new_column_name",t)},expression:"editedStep.new_column_name"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$O=[];__vue_render__$O._withStripped=!0;const __vue_inject_styles__$Q=void 0,__vue_scope_id__$Q=void 0,__vue_module_identifier__$Q=void 0,__vue_is_functional_template__$Q=!1,__vue_component__$Q=normalizeComponent({render:__vue_render__$O,staticRenderFns:__vue_staticRenderFns__$O},void 0,__vue_script__$P,void 0,!1,void 0,!1,void 0,void 0,void 0);var DeleteStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="delete",t.title="Delete Columns",t}return __extends(t,e),__decorate([Prop({type:Object,default:function(){return{name:"delete",columns:[]}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"delete-step-form",components:{MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$Q=DeleteStepForm;var __vue_render__$P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("MultiselectWidget",{staticClass:"columnsInput",attrs:{name:"Delete columns...",options:e.columnNames,placeholder:"Add columns","data-path":".columns",errors:e.errors},on:{input:function(t){return e.setSelectedColumns({column:e.editedStep.columns[e.editedStep.columns.length-1]})}},model:{value:e.editedStep.columns,callback:function(t){e.$set(e.editedStep,"columns",t)},expression:"editedStep.columns"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$P=[];__vue_render__$P._withStripped=!0;const __vue_inject_styles__$R=void 0,__vue_scope_id__$R=void 0,__vue_module_identifier__$R=void 0,__vue_is_functional_template__$R=!1,__vue_component__$R=normalizeComponent({render:__vue_render__$P,staticRenderFns:__vue_staticRenderFns__$P},void 0,__vue_script__$Q,void 0,!1,void 0,!1,void 0,void 0,void 0);var DomainStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="domain",t.title="Select a dataset",t}return __extends(t,e),__decorate([Prop({type:Object,default:function(){return{name:"domain",domain:""}}})],t.prototype,"initialStepValue",void 0),__decorate([VQBModule.Getter],t.prototype,"availableDatasetNames",void 0),t=__decorate([Component$1({name:"domain-step-form",components:{AutocompleteWidget:__vue_component__$m}})],t)}(__vue_component__$A);const __vue_script__$R=DomainStepForm;var __vue_render__$Q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("AutocompleteWidget",{staticClass:"domainInput",attrs:{name:"Select a dataset to start...",options:e.availableDatasetNames,placeholder:"Choose a dataset"},model:{value:e.editedStep.domain,callback:function(t){e.$set(e.editedStep,"domain",t)},expression:"editedStep.domain"}}),e._v(" "),r("StepFormButtonbar",{attrs:{errors:e.errors}})],1)},__vue_staticRenderFns__$Q=[];__vue_render__$Q._withStripped=!0;const __vue_inject_styles__$S=void 0,__vue_scope_id__$S=void 0,__vue_module_identifier__$S=void 0,__vue_is_functional_template__$S=!1,__vue_component__$S=normalizeComponent({render:__vue_render__$Q,staticRenderFns:__vue_staticRenderFns__$Q},void 0,__vue_script__$R,void 0,!1,void 0,!1,void 0,void 0,void 0);var DuplicateColumnForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="duplicate",t.title="Duplicate column",t}return __extends(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on duplicate "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),__decorate([Prop({type:Object,default:function(){return{name:"duplicate",column:"",new_column_name:""}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"duplicate-step-form",components:{ColumnPicker:__vue_component__$w,InputTextWidget:__vue_component__$n}})],t)}(__vue_component__$A);const __vue_script__$S=DuplicateColumnForm;var __vue_render__$R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"columnInput",attrs:{name:"Duplicate column...",placeholder:"Enter a column","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("InputTextWidget",{staticClass:"newColumnNameInput",attrs:{name:"New column name:",placeholder:"Enter a column name","data-path":".new_column_name",errors:e.errors},model:{value:e.editedStep.new_column_name,callback:function(t){e.$set(e.editedStep,"new_column_name",t)},expression:"editedStep.new_column_name"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$R=[];__vue_render__$R._withStripped=!0;const __vue_inject_styles__$T=void 0,__vue_scope_id__$T=void 0,__vue_module_identifier__$T=void 0,__vue_is_functional_template__$T=!1,__vue_component__$T=normalizeComponent({render:__vue_render__$R,staticRenderFns:__vue_staticRenderFns__$R},void 0,__vue_script__$S,void 0,!1,void 0,!1,void 0,void 0,void 0);var EvolutionStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="evolution",t.title="Compute evolution",t.evolutionFormats=[{evolutionFormat:"abs",label:"absolute value"},{evolutionFormat:"pct",label:"percentage"}],t.evolutionTypes=[{evolutionType:"vsLastYear",label:"last year"},{evolutionType:"vsLastMonth",label:"last month"},{evolutionType:"vsLastWeek",label:"last week"},{evolutionType:"vsLastDay",label:"last day"}],t}return __extends(t,e),Object.defineProperty(t.prototype,"evolutionFormat",{get:function(){var e=this;return this.evolutionFormats.filter((function(t){return t.evolutionFormat===e.editedStep.evolutionFormat}))[0]},set:function(e){this.editedStep.evolutionFormat=e.evolutionFormat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"evolutionType",{get:function(){var e=this;return this.evolutionTypes.filter((function(t){return t.evolutionType===e.editedStep.evolutionType}))[0]},set:function(e){this.editedStep.evolutionType=e.evolutionType},enumerable:!0,configurable:!0}),__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"evolution",dateCol:"",valueCol:"",evolutionType:"vsLastYear",evolutionFormat:"abs",indexColumns:[]}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"evolution-step-form",components:{ColumnPicker:__vue_component__$w,AutocompleteWidget:__vue_component__$m,InputTextWidget:__vue_component__$n,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$T=EvolutionStepForm;var __vue_render__$S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"dateColumnInput",attrs:{name:"Date column:",placeholder:"Enter a column","data-path":".dateCol",syncWithSelectedColumn:!1,errors:e.errors},model:{value:e.editedStep.dateCol,callback:function(t){e.$set(e.editedStep,"dateCol",t)},expression:"editedStep.dateCol"}}),e._v(" "),r("ColumnPicker",{staticClass:"valueColumnInput",attrs:{name:"Value column:",placeholder:"Enter a column","data-path":".valueCol",syncWithSelectedColumn:!1,errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.valueCol,callback:function(t){e.$set(e.editedStep,"valueCol",t)},expression:"editedStep.valueCol"}}),e._v(" "),r("AutocompleteWidget",{staticClass:"evolutionType",attrs:{name:"Compute evolution versus:",options:e.evolutionTypes,trackBy:"evolutionType",label:"label"},model:{value:e.evolutionType,callback:function(t){e.evolutionType=t},expression:"evolutionType"}}),e._v(" "),r("AutocompleteWidget",{staticClass:"evolutionFormat",attrs:{name:"Compute evolution in:",options:e.evolutionFormats,trackBy:"evolutionFormat",label:"label"},model:{value:e.evolutionFormat,callback:function(t){e.evolutionFormat=t},expression:"evolutionFormat"}}),e._v(" "),r("MultiselectWidget",{staticClass:"indexColumnsInput",attrs:{name:"(Optional) Group by:",options:e.columnNames,placeholder:"Add columns","data-path":".indexColumns",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.indexColumns,callback:function(t){e.$set(e.editedStep,"indexColumns",t)},expression:"editedStep.indexColumns"}}),e._v(" "),r("InputTextWidget",{staticClass:"newColumnInput",attrs:{name:"(Optional) New column name",placeholder:"Enter a name","data-path":".newColumn",errors:e.errors},model:{value:e.editedStep.newColumn,callback:function(t){e.$set(e.editedStep,"newColumn",t)},expression:"editedStep.newColumn"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$S=[];__vue_render__$S._withStripped=!0;const __vue_inject_styles__$U=void 0,__vue_scope_id__$U=void 0,__vue_module_identifier__$U=void 0,__vue_is_functional_template__$U=!1,__vue_component__$U=normalizeComponent({render:__vue_render__$S,staticRenderFns:__vue_staticRenderFns__$S},void 0,__vue_script__$T,void 0,!1,void 0,!1,void 0,void 0,void 0);var FillnaStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="fillna",t.title="Fill null values",t.editedStep=__assign(__assign(__assign({},t.initialStepValue),t.stepFormDefaults),{columns:t.initialStepValue.column?[t.initialStepValue.column]:t.initialStepValue.columns,column:void 0}),t}return __extends(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return null},set:function(e){if(null===e)throw new Error('should not try to set null on fillna "column" field');this.editedStep.columns=[e]},enumerable:!0,configurable:!0}),t.prototype.submit=function(){var e=this.columnTypes[this.editedStep.columns[0]];void 0!==e&&(this.editedStep.value=castFromString(this.editedStep.value,e)),this.$$super.submit()},__decorate([Prop({type:Object,default:function(){return{name:"fillna",column:void 0,value:"",columns:[]}}})],t.prototype,"initialStepValue",void 0),__decorate([VQBModule.Getter],t.prototype,"columnTypes",void 0),t=__decorate([Component$1({name:"fillna-step-form",components:{InputTextWidget:__vue_component__$n,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$U=FillnaStepForm;var __vue_render__$T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("MultiselectWidget",{staticClass:"columnInput",attrs:{name:"Replace null values in...",options:e.columnNames,placeholder:"Select columns","data-path":".columns",errors:e.errors},model:{value:e.editedStep.columns,callback:function(t){e.$set(e.editedStep,"columns",t)},expression:"editedStep.columns"}}),e._v(" "),r("InputTextWidget",{staticClass:"valueInput",attrs:{name:"With...",placeholder:"Enter a value","data-path":".value",errors:e.errors},model:{value:e.editedStep.value,callback:function(t){e.$set(e.editedStep,"value",t)},expression:"editedStep.value"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$T=[];__vue_render__$T._withStripped=!0;const __vue_inject_styles__$V=void 0,__vue_scope_id__$V=void 0,__vue_module_identifier__$V=void 0,__vue_is_functional_template__$V=!1,__vue_component__$V=normalizeComponent({render:__vue_render__$T,staticRenderFns:__vue_staticRenderFns__$T},void 0,__vue_script__$U,void 0,!1,void 0,!1,void 0,void 0,void 0);var FilterStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="filter",t.title="Filter",t}return __extends(t,e),t.prototype.mounted=function(){if(this.isStepCreation&&this.selectedColumns[0]){var e={column:this.selectedColumns[0],value:"",operator:"eq"};this.editedStep={name:"filter",condition:e}}else this.editedStep={name:"filter",condition:__assign({},this.initialStepValue.condition)}},t.prototype.submit=function(){this.$$super.submit()},t.prototype.updateFilterTree=function(e){this.editedStep={name:"filter",condition:e}},__decorate([Prop({type:Object,default:function(){return{name:"filter",condition:{column:"",value:"",operator:"eq"}}}})],t.prototype,"initialStepValue",void 0),__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([VQBModule.Getter],t.prototype,"columnTypes",void 0),t=__decorate([Component$1({name:"filter-step-form",components:{FilterEditor:__vue_component__$r}})],t)}(__vue_component__$A);const __vue_script__$V=FilterStepForm;var __vue_render__$U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"filter-form"},[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("div",{staticClass:"filter-form__info"},[e._v("Filter rows matching this condition:")]),e._v(" "),r("FilterEditor",{attrs:{"filter-tree":this.editedStep.condition,errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,columnTypes:e.columnTypes},on:{filterTreeUpdated:e.updateFilterTree}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$U=[];__vue_render__$U._withStripped=!0;const __vue_inject_styles__$W=void 0,__vue_scope_id__$W="data-v-ae5fc74e",__vue_module_identifier__$W=void 0,__vue_is_functional_template__$W=!1,__vue_component__$W=normalizeComponent({render:__vue_render__$U,staticRenderFns:__vue_staticRenderFns__$U},void 0,__vue_script__$V,"data-v-ae5fc74e",!1,void 0,!1,void 0,void 0,void 0);var FormulaStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="formula",t.title="Formula",t}return __extends(t,e),Object.defineProperty(t.prototype,"duplicateColumnName",{get:function(){return this.columnNames.includes(this.editedStep.new_column)?'A column name "'+this.editedStep.new_column+'" already exists. You will overwrite it.':null},enumerable:!0,configurable:!0}),t.prototype.submit=function(){this.$$super.submit(),null===this.errors&&this.setSelectedColumns({column:this.editedStep.new_column})},t.prototype.validate=function(){var e=this.validator(__assign({},this.editedStep)),t=[],r=this.editedStep.formula;try{if("string"==typeof r){var n=r,a=new RegExp(escapeForUseInRegExp("[")+"(.*?)"+escapeForUseInRegExp("]"),"g");if(n=n.replace(a,"col"),this.variableDelimiters){var i=new RegExp(escapeForUseInRegExp(this.variableDelimiters.start)+"(.*?)"+escapeForUseInRegExp(this.variableDelimiters.end),"g");n=n.replace(i,"var")}parse(n)}}catch(n){console.error("Error while parsing formula:",r,n),e=!1,t.push({dataPath:".formula",message:"Parsing error: invalid formula",keyword:"parsing",schemaPath:".formula",params:""})}return!1===e?t=this.validator.errors?__spread(t,this.validator.errors):t:null},__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"formula",new_column:"",formula:""}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"formula-step-form",components:{InputTextWidget:__vue_component__$n}})],t)}(__vue_component__$A);const __vue_script__$W=FormulaStepForm;var __vue_render__$V=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("InputTextWidget",{staticClass:"newColumnInput",attrs:{name:"New colum:",placeholder:"Enter a new column name","data-path":".new_column",errors:e.errors,warning:e.duplicateColumnName,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.new_column,callback:function(t){e.$set(e.editedStep,"new_column",t)},expression:"editedStep.new_column"}}),e._v(" "),r("InputTextWidget",{staticClass:"formulaInput",attrs:{name:"Formula:",placeholder:"","data-path":".formula",errors:e.errors},model:{value:e.editedStep.formula,callback:function(t){e.$set(e.editedStep,"formula",t)},expression:"editedStep.formula"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$V=[];__vue_render__$V._withStripped=!0;const __vue_inject_styles__$X=void 0,__vue_scope_id__$X=void 0,__vue_module_identifier__$X=void 0,__vue_is_functional_template__$X=!1,__vue_component__$X=normalizeComponent({render:__vue_render__$V,staticRenderFns:__vue_staticRenderFns__$V},void 0,__vue_script__$W,void 0,!1,void 0,!1,void 0,void 0,void 0);var FromDateStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="fromdate",t.title="Convert Column From Date to Text",t.formatOptions=[{format:"custom",label:"Custom",example:""},{format:"%Y-%m-%d",label:"%Y-%m-%d",example:"1970-12-31"},{format:"%Y/%m/%d",label:"%Y/%m/%d",example:"1970/12/31"},{format:"%d-%m-%Y",label:"%d-%m-%Y",example:"31-12-1970"},{format:"%d/%m/%Y",label:"%d/%m/%Y",example:"31/12/1970"},{format:"%d %b %Y",label:"%d %b %Y",example:"31 Dec 1970"},{format:"%d-%b-%Y",label:"%d-%b-%Y",example:"31-Dec-1970"},{format:"%d %B %Y",label:"%d %B %Y",example:"31 December 1970"},{format:"%b %Y",label:"%b %Y",example:"Dec 1970"},{format:"%b-%Y",label:"%b-%Y",example:"Dec-1970"},{format:"%B %Y",label:"%B %Y",example:"December 1970"},{format:"%Y-%m",label:"%Y-%m",example:"1970-12"},{format:"%Y/%m",label:"%Y/%m",example:"1970/12"},{format:"%m-%Y",label:"%m-%Y",example:"12-1970"},{format:"%m/%Y",label:"%m/%Y",example:"12/1970"}],t.datePresets=t.formatOptions.filter((function(e){return"custom"!==e.format})).map((function(e){return e.format})),t.translators=[{id:"mongo36",label:"Mongo 3.6",doc:"https://docs.mongodb.com/manual/reference/operator/aggregation/dateToString/#format-specifiers"},{id:"mongo40",label:"Mongo 4.0",doc:"https://docs.mongodb.com/manual/reference/operator/aggregation/dateToString/#format-specifiers"},{id:"pandas",label:"Pandas",doc:"https://docs.python.org/3/library/datetime.html#strftime-and-strptime-format-codes"}],t}return __extends(t,e),Object.defineProperty(t.prototype,"selectedFormat",{get:function(){var e=this;return this.datePresets.includes(this.editedStep.format)?this.formatOptions.filter((function(t){return t.format===e.editedStep.format}))[0]:this.formatOptions.filter((function(e){return"custom"===e.format}))[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),t.prototype.updateStepFormat=function(e){"custom"===e.format?this.editedStep.format="":this.editedStep.format=e.format},__decorate([Prop({type:Object,default:function(){return{name:"fromdate",column:"",format:"%Y-%m-%d"}}})],t.prototype,"initialStepValue",void 0),__decorate([VQBModule.Getter],t.prototype,"translator",void 0),t=__decorate([Component$1({name:"fromdate-step-form",components:{AutocompleteWidget:__vue_component__$m,ColumnPicker:__vue_component__$w,InputTextWidget:__vue_component__$n}})],t)}(__vue_component__$A);const __vue_script__$X=FromDateStepForm;var __vue_render__$W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"column",attrs:{name:"Column to convert:",options:e.columnNames,placeholder:"Add columns","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("AutocompleteWidget",{staticClass:"format",attrs:{name:"Date format:",value:e.selectedFormat,options:e.formatOptions,placeholder:"Date format",trackBy:"format",label:"label",withExample:!0},on:{input:e.updateStepFormat}}),e._v(" "),void 0===e.editedStep.format||e.datePresets.includes(e.editedStep.format)?e._e():r("InputTextWidget",{staticClass:"customFormat",attrs:{name:"Custom date format:",placeholder:"Enter a "+e.translators.find((function(t){return t.id===e.translator})).label+" date format","data-path":".format",errors:e.errors,docUrl:e.translators.find((function(t){return t.id===e.translator})).doc},model:{value:e.editedStep.format,callback:function(t){e.$set(e.editedStep,"format",t)},expression:"editedStep.format"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$W=[];__vue_render__$W._withStripped=!0;const __vue_inject_styles__$Y=void 0,__vue_scope_id__$Y=void 0,__vue_module_identifier__$Y=void 0,__vue_is_functional_template__$Y=!1,__vue_component__$Y=normalizeComponent({render:__vue_render__$W,staticRenderFns:__vue_staticRenderFns__$W},void 0,__vue_script__$X,void 0,!1,void 0,!1,void 0,void 0,void 0);function arrayEach(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}var _arrayEach=arrayEach;function baseAssignValue$1(e,t,r){"__proto__"==t&&_defineProperty$3?_defineProperty$3(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var _baseAssignValue$1=baseAssignValue$1,objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty;function assignValue$1(e,t,r){var n=e[t];hasOwnProperty$c.call(e,t)&&eq_1(n,r)&&(void 0!==r||t in e)||_baseAssignValue$1(e,t,r)}var _assignValue$1=assignValue$1;function copyObject$1(e,t,r,n){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],u=n?n(r[s],e[s],s,r,e):void 0;void 0===u&&(u=e[s]),a?_baseAssignValue$1(r,s,u):_assignValue$1(r,s,u)}return r}var _copyObject$1=copyObject$1;function baseAssign(e,t){return e&&_copyObject$1(t,keys_1(t),e)}var _baseAssign=baseAssign;function nativeKeysIn$1(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}var _nativeKeysIn$1=nativeKeysIn$1,objectProto$g=Object.prototype,hasOwnProperty$d=objectProto$g.hasOwnProperty;function baseKeysIn$1(e){if(!isObject_1(e))return _nativeKeysIn$1(e);var t=_isPrototype(e),r=[];for(var n in e)("constructor"!=n||!t&&hasOwnProperty$d.call(e,n))&&r.push(n);return r}var _baseKeysIn$1=baseKeysIn$1;function keysIn$2(e){return isArrayLike_1(e)?_arrayLikeKeys(e,!0):_baseKeysIn$1(e)}var keysIn_1$1=keysIn$2;function baseAssignIn(e,t){return e&&_copyObject$1(t,keysIn_1$1(t),e)}var _baseAssignIn=baseAssignIn,_cloneBuffer$1=createCommonjsModule((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,a=n&&n.exports===r?_root.Buffer:void 0,i=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=i?i(r):new e.constructor(r);return e.copy(n),n}}));function copyArray$1(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var _copyArray$1=copyArray$1;function copySymbols(e,t){return _copyObject$1(e,_getSymbols(e),t)}var _copySymbols=copySymbols,getPrototype$1=_overArg(Object.getPrototypeOf,Object),_getPrototype$1=getPrototype$1,nativeGetSymbols$2=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols$2?function(e){for(var t=[];e;)_arrayPush(t,_getSymbols(e)),e=_getPrototype$1(e);return t}:stubArray_1,_getSymbolsIn=getSymbolsIn;function copySymbolsIn(e,t){return _copyObject$1(e,_getSymbolsIn(e),t)}var _copySymbolsIn=copySymbolsIn;function getAllKeysIn(e){return _baseGetAllKeys(e,keysIn_1$1,_getSymbolsIn)}var _getAllKeysIn=getAllKeysIn,objectProto$h=Object.prototype,hasOwnProperty$e=objectProto$h.hasOwnProperty;function initCloneArray(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&hasOwnProperty$e.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var _initCloneArray=initCloneArray;function cloneArrayBuffer$1(e){var t=new e.constructor(e.byteLength);return new _Uint8Array(t).set(new _Uint8Array(e)),t}var _cloneArrayBuffer$1=cloneArrayBuffer$1;function cloneDataView(e,t){var r=t?_cloneArrayBuffer$1(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var _cloneDataView=cloneDataView,reFlags=/\w*$/;function cloneRegExp(e){var t=new e.constructor(e.source,reFlags.exec(e));return t.lastIndex=e.lastIndex,t}var _cloneRegExp=cloneRegExp,symbolProto$2=_Symbol?_Symbol.prototype:void 0,symbolValueOf$2=symbolProto$2?symbolProto$2.valueOf:void 0;function cloneSymbol(e){return symbolValueOf$2?Object(symbolValueOf$2.call(e)):{}}var _cloneSymbol=cloneSymbol;function cloneTypedArray$1(e,t){var r=t?_cloneArrayBuffer$1(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var _cloneTypedArray$1=cloneTypedArray$1,boolTag$3="[object Boolean]",dateTag$3="[object Date]",mapTag$4="[object Map]",numberTag$3="[object Number]",regexpTag$3="[object RegExp]",setTag$4="[object Set]",stringTag$3="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]";function initCloneByTag(e,t,r){var n=e.constructor;switch(t){case arrayBufferTag$3:return _cloneArrayBuffer$1(e);case boolTag$3:case dateTag$3:return new n(+e);case dataViewTag$4:return _cloneDataView(e,r);case float32Tag$2:case float64Tag$2:case int8Tag$2:case int16Tag$2:case int32Tag$2:case uint8Tag$2:case uint8ClampedTag$2:case uint16Tag$2:case uint32Tag$2:return _cloneTypedArray$1(e,r);case mapTag$4:return new n;case numberTag$3:case stringTag$3:return new n(e);case regexpTag$3:return _cloneRegExp(e);case setTag$4:return new n;case symbolTag$2:return _cloneSymbol(e)}}var _initCloneByTag=initCloneByTag,objectCreate$1=Object.create,baseCreate$1=function(){function e(){}return function(t){if(!isObject_1(t))return{};if(objectCreate$1)return objectCreate$1(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),_baseCreate$1=baseCreate$1;function initCloneObject$1(e){return"function"!=typeof e.constructor||_isPrototype(e)?{}:_baseCreate$1(_getPrototype$1(e))}var _initCloneObject$1=initCloneObject$1,mapTag$5="[object Map]";function baseIsMap(e){return isObjectLike_1(e)&&_getTag(e)==mapTag$5}var _baseIsMap=baseIsMap,nodeIsMap=_nodeUtil&&_nodeUtil.isMap,isMap=nodeIsMap?_baseUnary(nodeIsMap):_baseIsMap,isMap_1=isMap,setTag$5="[object Set]";function baseIsSet(e){return isObjectLike_1(e)&&_getTag(e)==setTag$5}var _baseIsSet=baseIsSet,nodeIsSet=_nodeUtil&&_nodeUtil.isSet,isSet=nodeIsSet?_baseUnary(nodeIsSet):_baseIsSet,isSet_1=isSet,CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,argsTag$4="[object Arguments]",arrayTag$3="[object Array]",boolTag$4="[object Boolean]",dateTag$4="[object Date]",errorTag$3="[object Error]",funcTag$3="[object Function]",genTag$2="[object GeneratorFunction]",mapTag$6="[object Map]",numberTag$4="[object Number]",objectTag$4="[object Object]",regexpTag$4="[object RegExp]",setTag$6="[object Set]",stringTag$4="[object String]",symbolTag$3="[object Symbol]",weakMapTag$3="[object WeakMap]",arrayBufferTag$4="[object ArrayBuffer]",dataViewTag$5="[object DataView]",float32Tag$3="[object Float32Array]",float64Tag$3="[object Float64Array]",int8Tag$3="[object Int8Array]",int16Tag$3="[object Int16Array]",int32Tag$3="[object Int32Array]",uint8Tag$3="[object Uint8Array]",uint8ClampedTag$3="[object Uint8ClampedArray]",uint16Tag$3="[object Uint16Array]",uint32Tag$3="[object Uint32Array]",cloneableTags={};function baseClone(e,t,r,n,a,i){var o,s=t&CLONE_DEEP_FLAG,u=t&CLONE_FLAT_FLAG,c=t&CLONE_SYMBOLS_FLAG;if(r&&(o=a?r(e,n,a,i):r(e)),void 0!==o)return o;if(!isObject_1(e))return e;var l=isArray_1(e);if(l){if(o=_initCloneArray(e),!s)return _copyArray$1(e,o)}else{var p=_getTag(e),d=p==funcTag$3||p==genTag$2;if(isBuffer_1(e))return _cloneBuffer$1(e,s);if(p==objectTag$4||p==argsTag$4||d&&!a){if(o=u||d?{}:_initCloneObject$1(e),!s)return u?_copySymbolsIn(e,_baseAssignIn(o,e)):_copySymbols(e,_baseAssign(o,e))}else{if(!cloneableTags[p])return a?e:{};o=_initCloneByTag(e,p,s)}}i||(i=new _Stack);var f=i.get(e);if(f)return f;i.set(e,o),isSet_1(e)?e.forEach((function(n){o.add(baseClone(n,t,r,n,e,i))})):isMap_1(e)&&e.forEach((function(n,a){o.set(a,baseClone(n,t,r,a,e,i))}));var m=c?u?_getAllKeysIn:_getAllKeys:u?keysIn:keys_1,h=l?void 0:m(e);return _arrayEach(h||e,(function(n,a){h&&(n=e[a=n]),_assignValue$1(o,a,baseClone(n,t,r,a,e,i))})),o}cloneableTags[argsTag$4]=cloneableTags[arrayTag$3]=cloneableTags[arrayBufferTag$4]=cloneableTags[dataViewTag$5]=cloneableTags[boolTag$4]=cloneableTags[dateTag$4]=cloneableTags[float32Tag$3]=cloneableTags[float64Tag$3]=cloneableTags[int8Tag$3]=cloneableTags[int16Tag$3]=cloneableTags[int32Tag$3]=cloneableTags[mapTag$6]=cloneableTags[numberTag$4]=cloneableTags[objectTag$4]=cloneableTags[regexpTag$4]=cloneableTags[setTag$6]=cloneableTags[stringTag$4]=cloneableTags[symbolTag$3]=cloneableTags[uint8Tag$3]=cloneableTags[uint8ClampedTag$3]=cloneableTags[uint16Tag$3]=cloneableTags[uint32Tag$3]=!0,cloneableTags[errorTag$3]=cloneableTags[funcTag$3]=cloneableTags[weakMapTag$3]=!1;var _baseClone=baseClone,symbolTag$4="[object Symbol]";function isSymbol(e){return"symbol"==typeof e||isObjectLike_1(e)&&_baseGetTag(e)==symbolTag$4}var isSymbol_1=isSymbol,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(e,t){if(isArray_1(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!isSymbol_1(e))||(reIsPlainProp.test(e)||!reIsDeepProp.test(e)||null!=t&&e in Object(t))}var _isKey=isKey,FUNC_ERROR_TEXT="Expected a function";function memoize$1(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(memoize$1.Cache||_MapCache),r}memoize$1.Cache=_MapCache;var memoize_1=memoize$1,MAX_MEMOIZE_SIZE=500;function memoizeCapped(e){var t=memoize_1(e,(function(e){return r.size===MAX_MEMOIZE_SIZE&&r.clear(),e})),r=t.cache;return t}var _memoizeCapped=memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=_memoizeCapped((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(rePropName,(function(e,r,n,a){t.push(n?a.replace(reEscapeChar,"$1"):r||e)})),t})),_stringToPath=stringToPath,INFINITY$1=1/0,symbolProto$3=_Symbol?_Symbol.prototype:void 0,symbolToString=symbolProto$3?symbolProto$3.toString:void 0;function baseToString(e){if("string"==typeof e)return e;if(isArray_1(e))return _arrayMap(e,baseToString)+"";if(isSymbol_1(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return"0"==t&&1/e==-INFINITY$1?"-0":t}var _baseToString=baseToString;function toString(e){return null==e?"":_baseToString(e)}var toString_1=toString;function castPath(e,t){return isArray_1(e)?e:_isKey(e,t)?[e]:_stringToPath(toString_1(e))}var _castPath=castPath;function last(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var last_1=last,INFINITY$2=1/0;function toKey(e){if("string"==typeof e||isSymbol_1(e))return e;var t=e+"";return"0"==t&&1/e==-INFINITY$2?"-0":t}var _toKey=toKey;function baseGet(e,t){for(var r=0,n=(t=_castPath(t,e)).length;null!=e&&r<n;)e=e[_toKey(t[r++])];return r&&r==n?e:void 0}var _baseGet=baseGet;function baseSlice(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var _baseSlice=baseSlice;function parent(e,t){return t.length<2?e:_baseGet(e,_baseSlice(t,0,-1))}var _parent=parent;function baseUnset(e,t){return t=_castPath(t,e),null==(e=_parent(e,t))||delete e[_toKey(last_1(t))]}var _baseUnset=baseUnset,objectTag$5="[object Object]",funcProto$3=Function.prototype,objectProto$i=Object.prototype,funcToString$3=funcProto$3.toString,hasOwnProperty$f=objectProto$i.hasOwnProperty,objectCtorString$1=funcToString$3.call(Object);function isPlainObject$2(e){if(!isObjectLike_1(e)||_baseGetTag(e)!=objectTag$5)return!1;var t=_getPrototype$1(e);if(null===t)return!0;var r=hasOwnProperty$f.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&funcToString$3.call(r)==objectCtorString$1}var isPlainObject_1$1=isPlainObject$2;function customOmitClone(e){return isPlainObject_1$1(e)?void 0:e}var _customOmitClone=customOmitClone;function flatten$2(e){return(null==e?0:e.length)?_baseFlatten(e,1):[]}var flatten_1=flatten$2;function flatRest(e){return _setToString(_overRest(e,void 0,flatten_1),e+"")}var _flatRest=flatRest,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$1=4,omit=_flatRest((function(e,t){var r={};if(null==e)return r;var n=!1;t=_arrayMap(t,(function(t){return t=_castPath(t,e),n||(n=t.length>1),t})),_copyObject$1(e,_getAllKeysIn(e),r),n&&(r=_baseClone(r,CLONE_DEEP_FLAG$1|CLONE_FLAT_FLAG$1|CLONE_SYMBOLS_FLAG$1,_customOmitClone));for(var a=t.length;a--;)_baseUnset(r,t[a]);return r})),omit_1=omit,EMPTY_CONDITION_SIGN='<span class="empty">[null]</span>';function _valueToHumanString(e){if("string"==typeof e){var t=/\{\{\s*(\S*)\s*\}\}/.exec(e),r=t&&t[1];return r?"<em>"+r+"</em>":"'"+e+"'"}return e+""}function _valueOrArrayToString(e){return Array.isArray(e)?e.map((function(e){return _valueToHumanString(e)})).join(", "):_valueToHumanString(e)}var CONDITION_HUMAN_STRINGS={eq:function(e){return e.column+" = "+_valueToHumanString(e.value)},ne:function(e){return e.column+" ≠ "+_valueToHumanString(e.value)},gt:function(e){return e.column+" > "+_valueToHumanString(e.value)},ge:function(e){return e.column+" ≥ "+_valueToHumanString(e.value)},lt:function(e){return e.column+" < "+_valueToHumanString(e.value)},le:function(e){return e.column+" ≤ "+_valueToHumanString(e.value)},in:function(e){return e.column+" is in ("+_valueOrArrayToString(e.value)+")"},nin:function(e){return e.column+" is not in ("+_valueOrArrayToString(e.value)+")"},matches:function(e){return e.column+" matches regex "+_valueToHumanString(e.value)},notmatches:function(e){return e.column+" doesn't match regex "+_valueToHumanString(e.value)},null:function(e){return e.column+" is null"},notnull:function(e){return e.column+" is not null"}};function _conditionUnitToHumanString(e){var t=e.column,r=e.operator,n=e.value;return t||n?r in CONDITION_HUMAN_STRINGS?CONDITION_HUMAN_STRINGS[r]({column:t,operator:r,value:n}):t+" "+r+" "+_valueToHumanString(n):EMPTY_CONDITION_SIGN}function _parenthesesUnlessTopLevel(e){return function(t){return e?t:"("+t+")"}}function _conditionToHumanString(e,t){return isFilterComboOr(e)?_parenthesesUnlessTopLevel(t)(e.or.map((function(e){return _conditionToHumanString(e,!1)})).join(" <strong>OR</strong> ")):isFilterComboAnd(e)?_parenthesesUnlessTopLevel(t)(e.and.map((function(e){return _conditionToHumanString(e,!1)})).join(" <strong>AND</strong> ")):_conditionUnitToHumanString(e)}function _ifThenElseStepToHumanFormat(e,t){return t?"string"==typeof t||"number"==typeof t?e+_valueToHumanString(t):e+_conditionToHumanString(t,!0):e+EMPTY_CONDITION_SIGN}function convertIfThenElseToHumanFormat(e){return _ifThenElseStepToHumanFormat("",e.if)+_ifThenElseStepToHumanFormat(" <strong>THEN</strong> ",e.then)+("string"==typeof e.else?_ifThenElseStepToHumanFormat(" <strong>ELSE</strong> ",e.else):"")}var IfThenElseWidget=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="Add a conditional column",t.collapsed=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"formulaToHumanFormat",{get:function(){return convertIfThenElseToHumanFormat(this.value)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasElseIf",{get:function(){return"string"!=typeof this.value.else},enumerable:!0,configurable:!0}),t.prototype.updateFilterTree=function(e){this.$emit("input",__assign(__assign({},this.value),{if:e}))},t.prototype.updateThenFormula=function(e){this.$emit("input",__assign(__assign({},this.value),{then:e}))},t.prototype.updateElseFormula=function(e){this.$emit("input",__assign(__assign({},this.value),{else:e||""}))},t.prototype.transformElseIntoElseIf=function(){this.updateElseFormula({if:{column:"",value:"",operator:"eq"},then:"",else:this.value.else})},t.prototype.transformElseIfIntoElse=function(){"object"==typeof this.value.else&&(this.collapsed=!1,this.updateElseFormula(this.value.else.else))},t.prototype.deleteElseIf=function(){this.$emit("deletedElseIf")},t.prototype.toggle=function(){this.collapsed=!this.collapsed},__decorate([Prop()],t.prototype,"availableVariables",void 0),__decorate([Prop()],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{if:{column:"",value:"",operator:"eq"},then:"",else:""}}})],t.prototype,"value",void 0),__decorate([Prop({type:String,default:""})],t.prototype,"dataPath",void 0),__decorate([Prop({type:Boolean,default:!1})],t.prototype,"isRoot",void 0),__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),__decorate([Prop({type:Object,default:function(){}})],t.prototype,"columnTypes",void 0),t=__decorate([Component({name:"ifthenelse-widget",components:{AutocompleteWidget:__vue_component__$m,FilterEditor:__vue_component__$r,InputTextWidget:__vue_component__$n}})],t)}(Vue);const __vue_script__$Y=IfThenElseWidget;var __vue_render__$X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ifthenelse-widget"},[r("div",{staticClass:"ifthenelse-widget__container",class:{"ifthenelse-widget__container--collapsed":e.collapsed}},[r("div",{staticClass:"ifthenelse-widget__header"},[r("span",{staticClass:"ifthenelse-widget__collapse-button",on:{click:e.toggle}}),e._v(" "),r("div",{staticClass:"ifthenelse-widget__tag"},[e._v(e._s(e.isRoot?"IF":"ELSE IF"))]),e._v(" "),e.isRoot||e.collapsed?e._e():r("div",{staticClass:"ifthenelse-widget__remove",on:{click:e.deleteElseIf}},[r("i",{staticClass:"far fa-trash-alt",attrs:{"aria-hidden":"true"}})]),e._v(" "),e.collapsed?[r("div",{staticClass:"ifthenelse-widget__collapse-description",domProps:{innerHTML:e._s(e.formulaToHumanFormat)}}),e._v(" "),r("div",{staticClass:"ifthenelse-widget__collapse-text",on:{click:e.toggle}},[e._v("\n          EXPAND\n        ")])]:e._e()],2),e._v(" "),r("div",{staticClass:"ifthenelse-widget__row"},[e._m(0),e._v(" "),r("FilterEditor",{attrs:{"filter-tree":e.value.if,errors:e.errors,"data-path":e.dataPath+".if","available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,"column-types":e.columnTypes},on:{filterTreeUpdated:e.updateFilterTree}})],1),e._v(" "),e._m(1),e._v(" "),r("div",{staticClass:"ifthenelse-widget__row"},[r("div",{staticClass:"ifthenelse-widget__row__link"},[r("div",{staticClass:"ifthenelse-widget__row__link-top"}),e._v(" "),r("div",{staticClass:"ifthenelse-widget__row__link-middle"}),e._v(" "),r("div",{staticClass:"ifthenelse-widget__row__link-bottom",class:{"ifthenelse-widget__row__link--hidden":e.hasElseIf}})]),e._v(" "),r("InputTextWidget",{staticClass:"ifthenelse-widget__input",attrs:{value:e.value.then,placeholder:'Enter a "Text" with quotes, or a formula',"data-path":e.dataPath+".then",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},on:{input:e.updateThenFormula}})],1),e._v(" "),e.hasElseIf?e._e():[e._m(2),e._v(" "),r("div",{staticClass:"ifthenelse-widget__row"},[e._m(3),e._v(" "),r("InputTextWidget",{staticClass:"ifthenelse-widget__input",attrs:{value:e.value.else,placeholder:'Enter a "Text" with quotes, or a formula',"data-path":e.dataPath+".else",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},on:{input:e.updateElseFormula}})],1)]],2),e._v(" "),e.hasElseIf?r("ifthenelse-widget",{attrs:{value:e.value.else,"data-path":e.dataPath+".else",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,"column-types":e.columnTypes},on:{input:e.updateElseFormula,deletedElseIf:e.transformElseIfIntoElse}}):e._e(),e._v(" "),e.hasElseIf?e._e():r("div",{staticClass:"ifthenelse-widget__footer"},[r("div",{staticClass:"ifthenelse-widget__row"},[e._m(4),e._v(" "),r("div",{staticClass:"ifthenelse-widget__add",on:{click:e.transformElseIntoElseIf}},[e._v("\n        Add nested condition\n      ")])])])],1)},__vue_staticRenderFns__$X=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ifthenelse-widget__row__link ifthenelse-widget__row__link--filter"},[t("div",{staticClass:"ifthenelse-widget__row__link-top"}),this._v(" "),t("div",{staticClass:"ifthenelse-widget__row__link-middle"}),this._v(" "),t("div",{staticClass:"ifthenelse-widget__row__link-bottom"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ifthenelse-widget__row"},[t("div",{staticClass:"ifthenelse-widget__row__link"},[t("div",{staticClass:"ifthenelse-widget__row__link-top"}),this._v(" "),t("div",{staticClass:"ifthenelse-widget__row__link-bottom"})]),this._v(" "),t("div",{staticClass:"ifthenelse-widget__tag"},[this._v("THEN")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ifthenelse-widget__row"},[t("div",{staticClass:"ifthenelse-widget__row__link"},[t("div",{staticClass:"ifthenelse-widget__row__link-top"}),this._v(" "),t("div",{staticClass:"ifthenelse-widget__row__link-bottom"})]),this._v(" "),t("div",{staticClass:"ifthenelse-widget__tag"},[this._v("ELSE")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ifthenelse-widget__row__link"},[t("div",{staticClass:"ifthenelse-widget__row__link-top"}),this._v(" "),t("div",{staticClass:"ifthenelse-widget__row__link-middle"}),this._v(" "),t("div",{staticClass:"ifthenelse-widget__row__link-bottom ifthenelse-widget__row__link--dashed"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ifthenelse-widget__row__link"},[t("div",{staticClass:"ifthenelse-widget__row__link-top ifthenelse-widget__row__link--dashed"}),this._v(" "),t("div",{staticClass:"ifthenelse-widget__row__link-middle ifthenelse-widget__row__link--dashed"})])}];__vue_render__$X._withStripped=!0;const __vue_inject_styles__$Z=void 0,__vue_scope_id__$Z="data-v-666459fc",__vue_module_identifier__$Z=void 0,__vue_is_functional_template__$Z=!1,__vue_component__$Z=normalizeComponent({render:__vue_render__$X,staticRenderFns:__vue_staticRenderFns__$X},void 0,__vue_script__$Y,"data-v-666459fc",!1,void 0,!1,void 0,void 0,void 0);var IfThenElseStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="ifthenelse",t.title="Add a conditional column",t.ifthenelse=omit_1(__assign({},t.initialStepValue),["name","newColumn"]),t}return __extends(t,e),Object.defineProperty(t.prototype,"duplicateColumnName",{get:function(){return this.columnNames.includes(this.editedStep.newColumn)?'A column name "'+this.editedStep.newColumn+'" already exists. You will overwrite it.':null},enumerable:!0,configurable:!0}),t.prototype.submit=function(){this.editedStep=__assign(__assign({},this.editedStep),omit_1(this.editedStep,["name","newColumn"])),this.$$super.submit()},t.prototype.updateIfThenElse=function(e){this.editedStep=__assign(__assign({},this.editedStep),e),this.ifthenelse=e},__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([VQBModule.Getter],t.prototype,"columnTypes",void 0),__decorate([Prop({type:Object,default:function(){return{name:"ifthenelse",newColumn:"",if:{column:"",value:"",operator:"eq"},then:"",else:""}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"ifthenelse-step-form",components:{IfThenElseWidget:__vue_component__$Z,InputTextWidget:__vue_component__$n}})],t)}(__vue_component__$A);const __vue_script__$Z=IfThenElseStepForm;var __vue_render__$Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ifthenelse-form"},[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("InputTextWidget",{staticClass:"newColumnInput",attrs:{name:"New colum:",placeholder:"Enter a name","data-path":".newColumn",errors:e.errors,warning:e.duplicateColumnName},model:{value:e.editedStep.newColumn,callback:function(t){e.$set(e.editedStep,"newColumn",t)},expression:"editedStep.newColumn"}}),e._v(" "),r("IfThenElseWidget",{attrs:{isRoot:"",value:e.ifthenelse,errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,"column-types":e.columnTypes},on:{input:e.updateIfThenElse}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$Y=[];__vue_render__$Y._withStripped=!0;const __vue_inject_styles__$_=void 0,__vue_scope_id__$_="data-v-5d9bed48",__vue_module_identifier__$_=void 0,__vue_is_functional_template__$_=!1,__vue_component__$_=normalizeComponent({render:__vue_render__$Y,staticRenderFns:__vue_staticRenderFns__$Y},void 0,__vue_script__$Z,"data-v-5d9bed48",!1,void 0,!1,void 0,void 0,void 0);var JoinColumns=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"leftOnColumn",{get:function(){return this.value[0]},set:function(e){var t=""===this.rightOnColumn?e:this.rightOnColumn;this.update([e,t])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightOnColumn",{get:function(){return this.value[1]},set:function(e){this.update([this.leftOnColumn,e])},enumerable:!0,configurable:!0}),t.prototype.update=function(e){this.$emit("input",e)},__decorate([Prop({type:Array,default:function(){return["",""]}})],t.prototype,"value",void 0),__decorate([Prop({type:String,default:null})],t.prototype,"dataPath",void 0),__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),__decorate([Prop()],t.prototype,"availableVariables",void 0),__decorate([Prop()],t.prototype,"variableDelimiters",void 0),__decorate([VQBModule.Getter],t.prototype,"columnNames",void 0),t=__decorate([Component({name:"join-colum-widget",components:{AutocompleteWidget:__vue_component__$m,InputTextWidget:__vue_component__$n}})],t)}(Vue);const __vue_script__$_=JoinColumns;var __vue_render__$Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-join-column__container"},[r("AutocompleteWidget",{staticClass:"leftOn",attrs:{placeholder:"Current dataset column",options:e.columnNames,"data-path":e.dataPath+"[0]",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.leftOnColumn,callback:function(t){e.leftOnColumn=t},expression:"leftOnColumn"}}),e._v(" "),r("InputTextWidget",{staticClass:"rightOn",attrs:{placeholder:"Right dataset column","data-path":e.dataPath+"[1]",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.rightOnColumn,callback:function(t){e.rightOnColumn=t},expression:"rightOnColumn"}})],1)},__vue_staticRenderFns__$Z=[];__vue_render__$Z._withStripped=!0;const __vue_inject_styles__$$=void 0,__vue_scope_id__$$="data-v-3a5cc36c",__vue_module_identifier__$$=void 0,__vue_is_functional_template__$$=!1,__vue_component__$$=normalizeComponent({render:__vue_render__$Z,staticRenderFns:__vue_staticRenderFns__$Z},void 0,__vue_script__$_,"data-v-3a5cc36c",!1,void 0,!1,void 0,void 0,void 0);var joinTypes=JoinStepFormSchema.properties.type.enum,JoinStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="join",t.title="Join datasets",t.joinColumns=__vue_component__$$,t.joinTypes=joinTypes,t}return __extends(t,e),Object.defineProperty(t.prototype,"rightPipeline",{get:function(){return{label:this.editedStep.right_pipeline,trackBy:this.editedStep.right_pipeline}},set:function(e){this.editedStep.right_pipeline=e.label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"on",{get:function(){return this.editedStep.on.length?this.editedStep.on:[[]]},set:function(e){this.editedStep.on=__spread(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){var e=this;return this.availableDatasetNames.map((function(t){var r={label:t,trackBy:t};return e.referencingPipelines.includes(t)&&Object.assign(r,{$isDisabled:!0,tooltip:"Circular reference: you cannot combine "+t+" because it references the current dataset."}),r}))},enumerable:!0,configurable:!0}),__decorate([Prop({type:Object,default:function(){return{name:"join",right_pipeline:"",type:joinTypes[0],on:[["",""]]}}})],t.prototype,"initialStepValue",void 0),__decorate([VQBModule.Getter],t.prototype,"referencingPipelines",void 0),__decorate([VQBModule.Getter],t.prototype,"availableDatasetNames",void 0),t=__decorate([Component$1({name:"join-step-form",components:{AutocompleteWidget:__vue_component__$m,ListWidget:__vue_component__$F,Multiselect:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$$=JoinStepForm;var __vue_render__$_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("AutocompleteWidget",{staticClass:"rightPipelineInput",attrs:{name:"Select a dataset to join (as right dataset):",options:e.options,placeholder:"Select a dataset","data-path":".right_pipeline",errors:e.errors,"track-by":"trackBy",label:"label","with-example":""},model:{value:e.rightPipeline,callback:function(t){e.rightPipeline=t},expression:"rightPipeline"}}),e._v(" "),r("AutocompleteWidget",{staticClass:"typeInput",attrs:{name:"Select a join type:",options:e.joinTypes,placeholder:"Select a join type","data-path":".type",errors:e.errors},model:{value:e.editedStep.type,callback:function(t){e.$set(e.editedStep,"type",t)},expression:"editedStep.type"}}),e._v(" "),r("ListWidget",{staticClass:"joinColumns",attrs:{addFieldName:"Add columns",name:"Join based on column(s):",defaultItem:["",""],widget:e.joinColumns,componentProps:{syncWithSelectedColumn:!1},"automatic-new-field":!1,"data-path":".on",errors:e.errors},model:{value:e.on,callback:function(t){e.on=t},expression:"on"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$_=[];__vue_render__$_._withStripped=!0;const __vue_inject_styles__$10=void 0,__vue_scope_id__$10=void 0,__vue_module_identifier__$10=void 0,__vue_is_functional_template__$10=!1,__vue_component__$10=normalizeComponent({render:__vue_render__$_,staticRenderFns:__vue_staticRenderFns__$_},void 0,__vue_script__$$,void 0,!1,void 0,!1,void 0,void 0,void 0);var MovingAverageStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="movingaverage",t.title="Computate Moving Average",t}return __extends(t,e),__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"movingaverage",valueColumn:"",columnToSort:"",movingWindow:null}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"moving-average-step-form",components:{ColumnPicker:__vue_component__$w,InputTextWidget:__vue_component__$n,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$10=MovingAverageStepForm;var __vue_render__$$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"valueColumnInput",attrs:{name:"Value column:",placeholder:"Select a column",syncWithSelectedColumn:!1,"data-path":".valueColumn",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.valueColumn,callback:function(t){e.$set(e.editedStep,"valueColumn",t)},expression:"editedStep.valueColumn"}}),e._v(" "),r("ColumnPicker",{staticClass:"columnToSortInput",attrs:{name:"Reference column to sort (usually dates):",placeholder:"Select a column",syncWithSelectedColumn:!1,"data-path":".columnToSort",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.columnToSort,callback:function(t){e.$set(e.editedStep,"columnToSort",t)},expression:"editedStep.columnToSort"}}),e._v(" "),r("InputTextWidget",{staticClass:"movingWindowInput",attrs:{type:"number",name:"Moving window (in number of rows):",placeholder:"Enter a number of rows","data-path":".limit",errors:e.movingWindow,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.movingWindow,callback:function(t){e.$set(e.editedStep,"movingWindow",e._n(t))},expression:"editedStep.movingWindow"}}),e._v(" "),r("MultiselectWidget",{staticClass:"groupsInput",attrs:{name:"(Optional) Group by:",options:e.columnNames,placeholder:"Select columns","data-path":".groups",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.groups,callback:function(t){e.$set(e.editedStep,"groups",t)},expression:"editedStep.groups"}}),e._v(" "),r("InputTextWidget",{staticClass:"newColumnNameInput",attrs:{name:"(Optional) New column name:",placeholder:e.editedStep.valueColumn+"_MOVING_AVG","data-path":".newColumnName",errors:e.errors},model:{value:e.editedStep.newColumnName,callback:function(t){e.$set(e.editedStep,"newColumnName",t)},expression:"editedStep.newColumnName"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$$=[];__vue_render__$$._withStripped=!0;const __vue_inject_styles__$11=void 0,__vue_scope_id__$11=void 0,__vue_module_identifier__$11=void 0,__vue_is_functional_template__$11=!1,__vue_component__$11=normalizeComponent({render:__vue_render__$$,staticRenderFns:__vue_staticRenderFns__$$},void 0,__vue_script__$10,void 0,!1,void 0,!1,void 0,void 0,void 0);var PercentageStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="percentage",t.title="Percentage of total",t}return __extends(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on percentage "value column" field');null!==e&&(this.editedStep.column=e)},enumerable:!0,configurable:!0}),__decorate([Prop({type:Object,default:function(){return{name:"percentage",column:""}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"percentage-step-form",components:{ColumnPicker:__vue_component__$w,InputTextWidget:__vue_component__$n,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$11=PercentageStepForm;var __vue_render__$10=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"valueColumnInput",attrs:{name:"Value column...",placeholder:"Enter a column","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("MultiselectWidget",{staticClass:"groupbyColumnsInput",attrs:{name:"(Optional) Group by...",options:e.columnNames,placeholder:"Add columns","data-path":".group",errors:e.errors},model:{value:e.editedStep.group,callback:function(t){e.$set(e.editedStep,"group",t)},expression:"editedStep.group"}}),e._v(" "),r("InputTextWidget",{staticClass:"newColumnNameInput",attrs:{name:"(Optional) New column name:",placeholder:e.editedStep.column+"_PCT","data-path":".newColumnName",errors:e.errors},model:{value:e.editedStep.newColumnName,callback:function(t){e.$set(e.editedStep,"newColumnName",t)},expression:"editedStep.newColumnName"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$10=[];__vue_render__$10._withStripped=!0;const __vue_inject_styles__$12=void 0,__vue_scope_id__$12=void 0,__vue_module_identifier__$12=void 0,__vue_is_functional_template__$12=!1,__vue_component__$12=normalizeComponent({render:__vue_render__$10,staticRenderFns:__vue_staticRenderFns__$10},void 0,__vue_script__$11,void 0,!1,void 0,!1,void 0,void 0,void 0);var PivotStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="pivot",t.title="Pivot column",t.aggregationFunctions=["sum","avg","count","min","max"],t}return __extends(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column_to_pivot},set:function(e){if(null===e)throw new Error('should not try to set null on percentage "value column" field');null!==e&&(this.editedStep.column_to_pivot=e)},enumerable:!0,configurable:!0}),t.prototype.validate=function(){var e=this.$$super.validate();return null!==e?e:this.editedStep.column_to_pivot===this.editedStep.value_column||this.editedStep.index.includes(this.editedStep.column_to_pivot)?[{params:[],schemaPath:".column_to_pivot",keyword:"columnNameConflict",dataPath:".column_to_pivot",message:"Column name "+this.editedStep.column_to_pivot+" is used at least twice but should be unique"}]:this.editedStep.index.includes(this.editedStep.value_column)?[{params:[],schemaPath:".value_column",keyword:"columnNameConflict",dataPath:".value_column",message:"Column name "+this.editedStep.value_column+" is used at least twice but should be unique"}]:null},__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"pivot",index:[],column_to_pivot:"",value_column:"",agg_function:"sum"}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"pivot-step-form",components:{ColumnPicker:__vue_component__$w,AutocompleteWidget:__vue_component__$m,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$12=PivotStepForm;var __vue_render__$11=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("MultiselectWidget",{staticClass:"indexInput",attrs:{name:"Keep columns...",options:e.columnNames,placeholder:"Add columns","data-path":".index","available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,errors:e.errors},model:{value:e.editedStep.index,callback:function(t){e.$set(e.editedStep,"index",t)},expression:"editedStep.index"}}),e._v(" "),r("ColumnPicker",{staticClass:"columnToPivotInput",attrs:{name:"Pivot column...",placeholder:"Enter a column","data-path":".column_to_pivot","available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,errors:e.errors},model:{value:e.editedStep.column_to_pivot,callback:function(t){e.$set(e.editedStep,"column_to_pivot",t)},expression:"editedStep.column_to_pivot"}}),e._v(" "),r("AutocompleteWidget",{staticClass:"valueColumnInput",attrs:{name:"Use values in...",options:e.columnNames,placeholder:"Select a column","data-path":".value_column","available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,errors:e.errors},model:{value:e.editedStep.value_column,callback:function(t){e.$set(e.editedStep,"value_column",t)},expression:"editedStep.value_column"}}),e._v(" "),r("AutocompleteWidget",{staticClass:"aggregationFunctionInput",attrs:{name:"Aggregate values using...",options:e.aggregationFunctions,placeholder:"Aggregation function","data-path":".agg_function",errors:e.errors},model:{value:e.editedStep.agg_function,callback:function(t){e.$set(e.editedStep,"agg_function",t)},expression:"editedStep.agg_function"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$11=[];__vue_render__$11._withStripped=!0;const __vue_inject_styles__$13=void 0,__vue_scope_id__$13=void 0,__vue_module_identifier__$13=void 0,__vue_is_functional_template__$13=!1,__vue_component__$13=normalizeComponent({render:__vue_render__$11,staticRenderFns:__vue_staticRenderFns__$11},void 0,__vue_script__$12,void 0,!1,void 0,!1,void 0,void 0,void 0);var RankStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="rank",t.title="Compute rank",t}return __extends(t,e),__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"rank",valueCol:"",order:"desc",method:"standard"}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"rank-step-form",components:{AutocompleteWidget:__vue_component__$m,ColumnPicker:__vue_component__$w,InputTextWidget:__vue_component__$n,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$13=RankStepForm;var __vue_render__$12=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"valueColInput",attrs:{name:"Value column to rank:",placeholder:"Select a column","data-path":".valueCol",syncWithSelectedColumn:!1,errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.valueCol,callback:function(t){e.$set(e.editedStep,"valueCol",t)},expression:"editedStep.valueCol"}}),e._v(" "),r("AutocompleteWidget",{staticClass:"orderInput",attrs:{name:"Sort order:",options:["asc","desc"],"data-path":".order"},model:{value:e.editedStep.order,callback:function(t){e.$set(e.editedStep,"order",t)},expression:"editedStep.order"}}),e._v(" "),r("AutocompleteWidget",{staticClass:"methodInput",attrs:{name:"Ranking method:",options:["standard","dense"],"data-path":".method"},model:{value:e.editedStep.method,callback:function(t){e.$set(e.editedStep,"method",t)},expression:"editedStep.method"}}),e._v(" "),r("MultiselectWidget",{staticClass:"groupbyInput",attrs:{name:"(Optional) Group ranking by:",options:e.columnNames,placeholder:"Add columns","data-path":".groupby",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.groupby,callback:function(t){e.$set(e.editedStep,"groupby",t)},expression:"editedStep.groupby"}}),e._v(" "),r("InputTextWidget",{staticClass:"newColumnNameInput",attrs:{name:"(Optional) New column name:",placeholder:e.editedStep.valueCol+"_RANK","data-path":".newColumnName",errors:e.errors},model:{value:e.editedStep.newColumnName,callback:function(t){e.$set(e.editedStep,"newColumnName",t)},expression:"editedStep.newColumnName"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$12=[];__vue_render__$12._withStripped=!0;const __vue_inject_styles__$14=void 0,__vue_scope_id__$14=void 0,__vue_module_identifier__$14=void 0,__vue_is_functional_template__$14=!1,__vue_component__$14=normalizeComponent({render:__vue_render__$12,staticRenderFns:__vue_staticRenderFns__$12},void 0,__vue_script__$13,void 0,!1,void 0,!1,void 0,void 0,void 0);var RenameWidget=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.created=function(){isEqual_1(this.value,["",""])&&this.update(this.value)},Object.defineProperty(t.prototype,"columnToRename",{get:function(){return this.value[0]},set:function(e){this.update([e,this.newColumnToRename])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duplicateColumnName",{get:function(){return this.columnNames.includes(this.newColumnToRename)?'A column name "'+this.newColumnToRename+'" already exists. You will overwrite it.':null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newColumnToRename",{get:function(){return this.value[1]},set:function(e){this.update([this.columnToRename,e])},enumerable:!0,configurable:!0}),t.prototype.update=function(e){this.$emit("input",e)},__decorate([Prop({type:Array,default:function(){return["",""]}})],t.prototype,"value",void 0),__decorate([Prop({type:String,default:null})],t.prototype,"dataPath",void 0),__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),__decorate([Prop()],t.prototype,"availableVariables",void 0),__decorate([Prop()],t.prototype,"variableDelimiters",void 0),__decorate([VQBModule.Getter],t.prototype,"columnNames",void 0),t=__decorate([Component({name:"rename-widget",components:{ColumnPicker:__vue_component__$w,InputTextWidget:__vue_component__$n}})],t)}(Vue);const __vue_script__$14=RenameWidget;var __vue_render__$13=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-to-rename__container"},[r("ColumnPicker",{staticClass:"columnToRename",attrs:{name:"",placeholder:"Column to rename",syncWithSelectedColumn:!1,"data-path":e.dataPath+"[0]",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.columnToRename,callback:function(t){e.columnToRename=t},expression:"columnToRename"}}),e._v(" "),r("InputTextWidget",{staticClass:"newColumn",attrs:{placeholder:"New column name","data-path":e.dataPath+"[1]",warning:e.duplicateColumnName,errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.newColumnToRename,callback:function(t){e.newColumnToRename=t},expression:"newColumnToRename"}})],1)},__vue_staticRenderFns__$13=[];__vue_render__$13._withStripped=!0;const __vue_inject_styles__$15=void 0,__vue_scope_id__$15="data-v-8058e3e4",__vue_module_identifier__$15=void 0,__vue_is_functional_template__$15=!1,__vue_component__$15=normalizeComponent({render:__vue_render__$13,staticRenderFns:__vue_staticRenderFns__$13},void 0,__vue_script__$14,"data-v-8058e3e4",!1,void 0,!1,void 0,void 0,void 0);var RenameStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="rename",t.title="Rename Column",t.renameWidget=__vue_component__$15,t.editedStep=__assign(__assign(__assign({},t.initialStepValue),t.stepFormDefaults),{toRename:t.initialStepValue.oldname&&t.initialStepValue.newname?[[t.initialStepValue.oldname,t.initialStepValue.newname]]:t.initialStepValue.toRename,oldname:void 0,newname:void 0}),t}return __extends(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return null},set:function(e){if(null===e)throw new Error('should not try to set null in rename "toRename" field');null!==e&&""===this.editedStep.toRename[0][0]&&this.editedStep.toRename[0].splice(0,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toRename",{get:function(){return this.editedStep.toRename},set:function(e){this.editedStep.toRename=__spread(e)},enumerable:!0,configurable:!0}),t.prototype.submit=function(){this.$$super.submit(),null===this.errors&&this.setSelectedColumns({column:this.editedStep.toRename[this.editedStep.toRename.length-1][1]})},__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"rename",toRename:[["",""]]}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"rename-step-form",components:{ListWidget:__vue_component__$F}})],t)}(__vue_component__$A);const __vue_script__$15=RenameStepForm;var __vue_render__$14=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:this.editedStep.name,version:e.version}}),e._v(" "),r("ListWidget",{staticClass:"toReplace",attrs:{addFieldName:"Add column",name:"Columns to rename:",placeholderOldVal:"Column to rename",placeholderNewVal:"New value",defaultItem:["",""],widget:e.renameWidget,"automatic-new-field":!1,"data-path":".toRename",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.toRename,callback:function(t){e.toRename=t},expression:"toRename"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$14=[];__vue_render__$14._withStripped=!0;const __vue_inject_styles__$16=void 0,__vue_scope_id__$16=void 0,__vue_module_identifier__$16=void 0,__vue_is_functional_template__$16=!1,__vue_component__$16=normalizeComponent({render:__vue_render__$14,staticRenderFns:__vue_staticRenderFns__$14},void 0,__vue_script__$15,void 0,!1,void 0,!1,void 0,void 0,void 0);var ReplaceWidget=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.created=function(){isEqual_1(this.value,["",""])&&this.update(this.value)},Object.defineProperty(t.prototype,"valueToReplace",{get:function(){return this.value[0]},set:function(e){this.update([e,this.newValueToReplace])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValueToReplace",{get:function(){return this.value[1]},set:function(e){this.update([this.valueToReplace,e])},enumerable:!0,configurable:!0}),t.prototype.update=function(e){this.$emit("input",e)},__decorate([Prop({type:Array,default:function(){return["",""]}})],t.prototype,"value",void 0),__decorate([Prop({type:String,default:null})],t.prototype,"dataPath",void 0),__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),__decorate([Prop()],t.prototype,"availableVariables",void 0),__decorate([Prop()],t.prototype,"variableDelimiters",void 0),t=__decorate([Component({name:"replace-widget",components:{InputTextWidget:__vue_component__$n}})],t)}(Vue);const __vue_script__$16=ReplaceWidget;var __vue_render__$15=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-to-replace__container"},[r("InputTextWidget",{staticClass:"valueToReplace",attrs:{placeholder:"Value to replace","data-path":e.dataPath+"[0]",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.valueToReplace,callback:function(t){e.valueToReplace=t},expression:"valueToReplace"}}),e._v(" "),r("InputTextWidget",{staticClass:"newValue",attrs:{placeholder:"New value","data-path":e.dataPath+"[1]",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.newValueToReplace,callback:function(t){e.newValueToReplace=t},expression:"newValueToReplace"}})],1)},__vue_staticRenderFns__$15=[];__vue_render__$15._withStripped=!0;const __vue_inject_styles__$17=void 0,__vue_scope_id__$17="data-v-4e07d906",__vue_module_identifier__$17=void 0,__vue_is_functional_template__$17=!1,__vue_component__$17=normalizeComponent({render:__vue_render__$15,staticRenderFns:__vue_staticRenderFns__$15},void 0,__vue_script__$16,"data-v-4e07d906",!1,void 0,!1,void 0,void 0,void 0);var ReplaceStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="replace",t.title="Replace values",t.replaceWidget=__vue_component__$17,t}return __extends(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.search_column},set:function(e){this.editedStep.search_column=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toReplace",{get:function(){return this.editedStep.to_replace.length?this.editedStep.to_replace:[[]]},set:function(e){this.editedStep.to_replace=__spread(e)},enumerable:!0,configurable:!0}),t.prototype.submit=function(){var e,t,r=this.columnTypes[this.editedStep.search_column];try{for(var n=__values(this.editedStep.to_replace),a=n.next();!a.done;a=n.next()){var i=a.value;void 0!==r&&(i[0]=castFromString(i[0],r),i[1]=castFromString(i[1],r))}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.$$super.submit()},__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"replace",search_column:"",to_replace:[[]]}}})],t.prototype,"initialStepValue",void 0),__decorate([VQBModule.Getter],t.prototype,"columnTypes",void 0),t=__decorate([Component$1({name:"replace-step-form",components:{ColumnPicker:__vue_component__$w,ListWidget:__vue_component__$F}})],t)}(__vue_component__$A);const __vue_script__$17=ReplaceStepForm;var __vue_render__$16=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"searchColumnInput",attrs:{name:"Search in column...",placeholder:"Enter a column","data-path":".search_column",errors:e.errors},model:{value:e.editedStep.search_column,callback:function(t){e.$set(e.editedStep,"search_column",t)},expression:"editedStep.search_column"}}),e._v(" "),r("ListWidget",{staticClass:"toReplace",attrs:{addFieldName:"Add a value to replace",name:"Values to replace:",defaultItem:[],widget:e.replaceWidget,"automatic-new-field":!1,"data-path":".to_replace",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.toReplace,callback:function(t){e.toReplace=t},expression:"toReplace"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$16=[];__vue_render__$16._withStripped=!0;const __vue_inject_styles__$18=void 0,__vue_scope_id__$18=void 0,__vue_module_identifier__$18=void 0,__vue_is_functional_template__$18=!1,__vue_component__$18=normalizeComponent({render:__vue_render__$16,staticRenderFns:__vue_staticRenderFns__$16},void 0,__vue_script__$17,void 0,!1,void 0,!1,void 0,void 0,void 0);var RollupStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="rollup",t.title="Hierarchical rollup",t.widgetAggregation=__vue_component__$E,t.editedStep=__assign(__assign(__assign({},t.initialStepValue),t.stepFormDefaults),{aggregations:t.initialStepValue.aggregations.map((function(e){return __assign(__assign({},e),{columns:e.column?[e.column]:e.columns,newcolumns:e.newcolumn?[e.newcolumn]:e.newcolumns,column:void 0,newcolumn:void 0})}))}),t}return __extends(t,e),Object.defineProperty(t.prototype,"defaultAggregation",{get:function(){return{columns:[],newcolumns:[],aggfunction:"sum"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregations",{get:function(){return this.editedStep.aggregations.length?this.editedStep.aggregations:[this.defaultAggregation]},set:function(e){this.editedStep.aggregations=__spread(e)},enumerable:!0,configurable:!0}),t.prototype.submit=function(){setAggregationsNewColumnsInStep(this.editedStep),this.$$super.submit()},__decorate([Prop({type:Object,default:function(){return{name:"rollup",hierarchy:[],aggregations:[]}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"rollup-step-form",components:{InputTextWidget:__vue_component__$n,ListWidget:__vue_component__$F,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$18=RollupStepForm;var __vue_render__$17=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("MultiselectWidget",{staticClass:"hierarchyColumnsInput",attrs:{name:"Hierarchical columns (from top to bottom level):",options:e.columnNames,placeholder:"Add columns","data-path":".hierarchy",errors:e.errors},on:{input:function(t){return e.setSelectedColumns({column:e.editedStep.hierarchy[e.editedStep.hierarchy.length-1]})}},model:{value:e.editedStep.hierarchy,callback:function(t){e.$set(e.editedStep,"hierarchy",t)},expression:"editedStep.hierarchy"}}),e._v(" "),r("ListWidget",{staticClass:"aggregationsInput",attrs:{addFieldName:"Add aggregation",name:"Columns to aggregate:",defaultItem:e.defaultAggregation,widget:e.widgetAggregation,"automatic-new-field":!1,"data-path":".aggregations",errors:e.errors},model:{value:e.aggregations,callback:function(t){e.aggregations=t},expression:"aggregations"}}),e._v(" "),r("MultiselectWidget",{staticClass:"groupbyColumnsInput",attrs:{name:"(Optional) Group rollup by:",options:e.columnNames,placeholder:"Add columns","data-path":".groupby",errors:e.errors},on:{input:function(t){return e.setSelectedColumns({column:e.editedStep.groupby[e.editedStep.groupby.length-1]})}},model:{value:e.editedStep.groupby,callback:function(t){e.$set(e.editedStep,"groupby",t)},expression:"editedStep.groupby"}}),e._v(" "),r("InputTextWidget",{staticClass:"labelColumnInput",attrs:{name:"(Optional) Label column name to be created:",placeholder:"label","data-path":".labelCol",errors:e.errors},model:{value:e.editedStep.labelCol,callback:function(t){e.$set(e.editedStep,"labelCol",t)},expression:"editedStep.labelCol"}}),e._v(" "),r("InputTextWidget",{staticClass:"levelColumnInput",attrs:{name:"(Optional) Level column name to be created:",placeholder:"level","data-path":".levelCol",errors:e.errors},model:{value:e.editedStep.levelCol,callback:function(t){e.$set(e.editedStep,"levelCol",t)},expression:"editedStep.levelCol"}}),e._v(" "),r("InputTextWidget",{staticClass:"parentColumnInput",attrs:{name:"(Optional) Parent column name to be created:",placeholder:"parent","data-path":".parentLabelCol",errors:e.errors},model:{value:e.editedStep.parentLabelCol,callback:function(t){e.$set(e.editedStep,"parentLabelCol",t)},expression:"editedStep.parentLabelCol"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$17=[];__vue_render__$17._withStripped=!0;const __vue_inject_styles__$19=void 0,__vue_scope_id__$19=void 0,__vue_module_identifier__$19=void 0,__vue_is_functional_template__$19=!1,__vue_component__$19=normalizeComponent({render:__vue_render__$17,staticRenderFns:__vue_staticRenderFns__$17},void 0,__vue_script__$18,void 0,!1,void 0,!1,void 0,void 0,void 0);var SelectStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="select",t.title="Keep columns",t}return __extends(t,e),__decorate([Prop({type:Object,default:function(){return{name:"select",columns:[]}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"select-step-form",components:{MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$19=SelectStepForm;var __vue_render__$18=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("MultiselectWidget",{staticClass:"columnsInput",attrs:{name:"Keep columns...",options:e.columnNames,placeholder:"Add columns","data-path":".columns",errors:e.errors},on:{input:function(t){return e.setSelectedColumns({column:e.editedStep.columns[e.editedStep.columns.length-1]})}},model:{value:e.editedStep.columns,callback:function(t){e.$set(e.editedStep,"columns",t)},expression:"editedStep.columns"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$18=[];__vue_render__$18._withStripped=!0;const __vue_inject_styles__$1a=void 0,__vue_scope_id__$1a=void 0,__vue_module_identifier__$1a=void 0,__vue_is_functional_template__$1a=!1,__vue_component__$1a=normalizeComponent({render:__vue_render__$18,staticRenderFns:__vue_staticRenderFns__$18},void 0,__vue_script__$19,void 0,!1,void 0,!1,void 0,void 0,void 0);var SortColumnWidget=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"sortColumn",{get:function(){return this.value.column},set:function(e){this.setSelectedColumns({column:e}),this.update({column:e,order:this.sortOrder})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortOrder",{get:function(){return this.value.order},set:function(e){this.update({column:this.sortColumn,order:e})},enumerable:!0,configurable:!0}),t.prototype.update=function(e){this.$emit("input",e)},__decorate([Prop({type:Object,default:function(){return{column:"",order:"asc"}}})],t.prototype,"value",void 0),__decorate([Prop({type:String,default:null})],t.prototype,"dataPath",void 0),__decorate([Prop({type:Array,default:function(){return[]}})],t.prototype,"errors",void 0),__decorate([VQBModule.Getter],t.prototype,"columnNames",void 0),__decorate([VQBModule.Mutation],t.prototype,"setSelectedColumns",void 0),t=__decorate([Component({name:"sort-column-widget",components:{AutocompleteWidget:__vue_component__$m}})],t)}(Vue);const __vue_script__$1a=SortColumnWidget;var __vue_render__$19=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fieldset",{staticClass:"widget-sort__container"},[r("legend",[e._v("Sort column")]),e._v(" "),r("AutocompleteWidget",{staticClass:"columnInput",attrs:{options:e.columnNames,name:"Column",placeholder:"Enter a column","data-path":e.dataPath+"[0]",errors:e.errors},model:{value:e.sortColumn,callback:function(t){e.sortColumn=t},expression:"sortColumn"}}),e._v(" "),r("AutocompleteWidget",{staticClass:"sortOrderInput",attrs:{name:"Order",options:["asc","desc"],placeholder:"Order by","data-path":e.dataPath+"[1]",errors:e.errors},model:{value:e.sortOrder,callback:function(t){e.sortOrder=t},expression:"sortOrder"}})],1)},__vue_staticRenderFns__$19=[];__vue_render__$19._withStripped=!0;const __vue_inject_styles__$1b=void 0,__vue_scope_id__$1b="data-v-14052de2",__vue_module_identifier__$1b=void 0,__vue_is_functional_template__$1b=!1,__vue_component__$1b=normalizeComponent({render:__vue_render__$19,staticRenderFns:__vue_staticRenderFns__$19},void 0,__vue_script__$1a,"data-v-14052de2",!1,void 0,!1,void 0,void 0,void 0);var SortStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="sort",t.title="Sort",t.widgetSortColumn=__vue_component__$1b,t}return __extends(t,e),t.prototype.created=function(){""===this.editedStep.columns[0].column&&this.selectedColumns.length>0&&(this.editedStep.columns=[{column:this.selectedColumns[0],order:"asc"}])},Object.defineProperty(t.prototype,"sortColumns",{get:function(){return this.editedStep.columns},set:function(e){this.editedStep.columns=__spread(e)},enumerable:!0,configurable:!0}),__decorate([Prop({type:Object,default:function(){return{name:"sort",columns:[{column:"",order:"asc"}]}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"sort-step-form",components:{ListWidget:__vue_component__$F,SortColumnWidget:__vue_component__$1b}})],t)}(__vue_component__$A);const __vue_script__$1b=SortStepForm;var __vue_render__$1a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ListWidget",{staticClass:"sortColumn",attrs:{addFieldName:"Add Column",widget:e.widgetSortColumn,defaultItem:{column:"",order:"asc"},"automatic-new-field":!1,"data-path":".columns",errors:e.errors},model:{value:e.sortColumns,callback:function(t){e.sortColumns=t},expression:"sortColumns"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$1a=[];__vue_render__$1a._withStripped=!0;const __vue_inject_styles__$1c=void 0,__vue_scope_id__$1c=void 0,__vue_module_identifier__$1c=void 0,__vue_is_functional_template__$1c=!1,__vue_component__$1c=normalizeComponent({render:__vue_render__$1a,staticRenderFns:__vue_staticRenderFns__$1a},void 0,__vue_script__$1b,void 0,!1,void 0,!1,void 0,void 0,void 0);var SplitStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="split",t.title="Split column",t}return __extends(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"split",column:"",delimiter:""}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"split-step-form",components:{ColumnPicker:__vue_component__$w,InputTextWidget:__vue_component__$n}})],t)}(__vue_component__$A);const __vue_script__$1c=SplitStepForm;var __vue_render__$1b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"columnToSplit",attrs:{name:"Split column...",placeholder:"Enter a column","data-path":".column",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("InputTextWidget",{staticClass:"delimiter",attrs:{name:"Delimiter:",placeholder:"Enter a text delimiter","data-path":".delimiter",errors:e.errors},model:{value:e.editedStep.delimiter,callback:function(t){e.$set(e.editedStep,"delimiter",t)},expression:"editedStep.delimiter"}}),e._v(" "),r("InputTextWidget",{staticClass:"numberColsToKeep",attrs:{type:"number",name:"Number of columns to keep:",placeholder:"Enter an integer","data-path":".number_cols_to_keep",errors:e.errors},model:{value:e.editedStep.number_cols_to_keep,callback:function(t){e.$set(e.editedStep,"number_cols_to_keep",e._n(t))},expression:"editedStep.number_cols_to_keep"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$1b=[];__vue_render__$1b._withStripped=!0;const __vue_inject_styles__$1d=void 0,__vue_scope_id__$1d=void 0,__vue_module_identifier__$1d=void 0,__vue_is_functional_template__$1d=!1,__vue_component__$1d=normalizeComponent({render:__vue_render__$1b,staticRenderFns:__vue_staticRenderFns__$1b},void 0,__vue_script__$1c,void 0,!1,void 0,!1,void 0,void 0,void 0);var nativeMin=Math.min;function baseIntersection(e,t,r){for(var n=r?_arrayIncludesWith:_arrayIncludes,a=e[0].length,i=e.length,o=i,s=Array(i),u=1/0,c=[];o--;){var l=e[o];o&&t&&(l=_arrayMap(l,_baseUnary(t))),u=nativeMin(l.length,u),s[o]=!r&&(t||a>=120&&l.length>=120)?new _SetCache(o&&l):void 0}l=e[0];var p=-1,d=s[0];e:for(;++p<a&&c.length<u;){var f=l[p],m=t?t(f):f;if(f=r||0!==f?f:0,!(d?_cacheHas(d,m):n(c,m,r))){for(o=i;--o;){var h=s[o];if(!(h?_cacheHas(h,m):n(e[o],m,r)))continue e}d&&d.push(m),c.push(f)}}return c}var _baseIntersection=baseIntersection;function castArrayLikeObject(e){return isArrayLikeObject_1(e)?e:[]}var _castArrayLikeObject=castArrayLikeObject,intersection=_baseRest((function(e){var t=_arrayMap(e,_castArrayLikeObject);return t.length&&t[0]===e[0]?_baseIntersection(t):[]})),intersection_1=intersection,InputNumberWidget=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isFocused=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"elementClass",{get:function(){return{"widget-input-number":!0,"widget-input-number--focused":this.isFocused}},enumerable:!0,configurable:!0}),t.prototype.blur=function(){this.isFocused=!1},t.prototype.focus=function(){this.isFocused=!0},t.prototype.updateValue=function(e){this.$emit("input",e)},__decorate([Prop({type:String,default:""})],t.prototype,"name",void 0),__decorate([Prop({type:String,default:""})],t.prototype,"placeholder",void 0),__decorate([Prop({default:""})],t.prototype,"value",void 0),__decorate([Prop({default:void 0})],t.prototype,"docUrl",void 0),__decorate([Prop({type:Number,default:void 0})],t.prototype,"min",void 0),__decorate([Prop({type:Number,default:void 0})],t.prototype,"max",void 0),__decorate([Prop()],t.prototype,"availableVariables",void 0),__decorate([Prop()],t.prototype,"variableDelimiters",void 0),t=__decorate([Component({name:"input-number-widget",components:{VariableInput:__vue_component__$l}})],t)}(mixins(__vue_component__$g));const __vue_script__$1d=InputNumberWidget;var __vue_render__$1c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"widget-input-number__container",class:e.toggleClassErrorWarning},[r("div",{staticClass:"widget-input-number__container"},[e.name?r("label",{on:{click:function(t){return e.$refs.input.focus()}}},[e._v(e._s(e.name))]):e._e(),e._v(" "),e.docUrl?r("a",{attrs:{href:e.docUrl,target:"_blank",rel:"noopener"}},[r("i",{staticClass:"fas fa-question-circle",attrs:{"aria-hidden":"true"}})]):e._e()]),e._v(" "),r("VariableInput",{attrs:{value:e.value,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters,"has-arrow":!0},on:{input:e.updateValue}},[r("input",{ref:"input",class:e.elementClass,attrs:{placeholder:e.placeholder,type:"number",min:e.min,max:e.max},domProps:{value:e.value},on:{blur:function(t){return e.blur()},focus:function(t){return e.focus()},input:function(t){return e.updateValue(t.target.value)}}})]),e._v(" "),e.messageError?r("div",{staticClass:"field__msg-error"},[r("span",{staticClass:"fa fa-exclamation-circle"}),e._v("\n    "+e._s(e.messageError)+"\n  ")]):e._e(),e._v(" "),e.messageWarning?r("div",{staticClass:"field__msg-warning"},[r("span",{staticClass:"fas fa-exclamation-triangle"}),e._v("\n    "+e._s(e.messageWarning)+"\n  ")]):e._e()],1)},__vue_staticRenderFns__$1c=[];__vue_render__$1c._withStripped=!0;const __vue_inject_styles__$1e=void 0,__vue_scope_id__$1e="data-v-7847fa80",__vue_module_identifier__$1e=void 0,__vue_is_functional_template__$1e=!1,__vue_component__$1e=normalizeComponent({render:__vue_render__$1c,staticRenderFns:__vue_staticRenderFns__$1c},void 0,__vue_script__$1d,"data-v-7847fa80",!1,void 0,!1,void 0,void 0,void 0);var StatisticsStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="statistics",t.customQuantilesForm={nth:"",order:""},t.title="Compute statistics",t.statistics=["count","average","min","max"],t.quantiles=[{label:"median",nth:1,order:2}],t.advancedStatistics=["standard deviation","variance"],t.advancedQuantiles=[{label:"first quartile",nth:1,order:4},{label:"last quartile",nth:3,order:4},{label:"first decile",nth:1,order:10},{label:"last decile",nth:9,order:10},{label:"first centile",nth:1,order:100},{label:"last centile",nth:99,order:100}],t.isBasicStatisticsOpen=!0,t.isAdvancedStatisticsOpen=!1,t.isCustomQuantileOpen=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"customQuantiles",{get:function(){return this.editedStep.quantiles.filter((function(e){return void 0===e.label}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"basicStatisticsCheckedCount",{get:function(){return intersection_1(this.editedStep.statistics,this.statistics).length+intersection_1(this.editedStep.quantiles.map((function(e){return e.label})),this.quantiles.map((function(e){return e.label}))).length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"advancedStatisticsCheckedCount",{get:function(){return intersection_1(this.editedStep.statistics,this.advancedStatistics).length+intersection_1(this.editedStep.quantiles.map((function(e){return e.label})),this.advancedQuantiles.map((function(e){return e.label}))).length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customQuantilesCheckedCount",{get:function(){return this.customQuantiles.length},enumerable:!0,configurable:!0}),t.prototype.isStatisticChecked=function(e){return this.editedStep.statistics.includes(e)},t.prototype.isQuantileChecked=function(e){return this.editedStep.quantiles.filter((function(t){var r=t.label,n=t.nth,a=t.order;return r===e.label&&n===e.nth&&a===e.order})).length>0},t.prototype.toogleStatistic=function(e){this.isStatisticChecked(e)?this.editedStep.statistics=this.editedStep.statistics.filter((function(t){return t!==e})):this.editedStep.statistics.push(e)},t.prototype.toogleQuantile=function(e){if(e={nth:parseInt(e.nth),order:parseInt(e.order),label:e.label},this.isQuantileChecked(e))this.editedStep.quantiles=this.editedStep.quantiles.filter((function(t){var r=t.label,n=t.nth,a=t.order;return r!==e.label||n!==e.nth||a!==e.order}));else{var t=ajv({schemaId:"auto",allErrors:!0}).compile({type:"object",required:["nth","order"],properties:{label:{type:"string"},nth:{type:"number",minimum:1},order:{type:"number",minimum:(e.nth||0)+1}}}),r=t(e);this.errors=t.errors,r&&(this.editedStep.quantiles.push(e),this.customQuantilesForm={nth:"",order:""})}},__decorate([Prop({type:Object,default:function(){return{name:"statistics",column:"",groupbyColumns:[],statistics:[],quantiles:[]}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"statistics-step-form",components:{ColumnPicker:__vue_component__$w,Checkbox:__vue_component__$2,InputNumberWidget:__vue_component__$1e,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$1e=StatisticsStepForm;var __vue_render__$1d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name}}),e._v(" "),r("ColumnPicker",{staticClass:"columnInput",attrs:{name:"Column:",placeholder:"Select a column containing numbers","data-path":".column",errors:e.errors,types:["integer","float"]},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("MultiselectWidget",{staticClass:"groupbyColumnsInput",attrs:{name:"Group result by...",options:e.columnNames,placeholder:"Add columns","data-path":".groupByColumn",errors:e.errors},model:{value:e.editedStep.groupbyColumns,callback:function(t){e.$set(e.editedStep,"groupbyColumns",t)},expression:"editedStep.groupbyColumns"}}),e._v(" "),r("div",{staticClass:"statistic-section-header",on:{click:function(t){e.isBasicStatisticsOpen=!e.isBasicStatisticsOpen}}},[e._v("\n    Basic Statistics ("+e._s(e.basicStatisticsCheckedCount)+")\n    "),e.isBasicStatisticsOpen?r("i",{staticClass:"fas fa-angle-down",attrs:{"aria-hidden":"true"}}):r("i",{staticClass:"fas fa-angle-right",attrs:{"aria-hidden":"true"}})]),e._v(" "),e.isBasicStatisticsOpen?r("div",{staticClass:"statistic-section"},[e._l(e.statistics,(function(t){return r("div",{key:t},[r("Checkbox",{attrs:{label:t,value:e.isStatisticChecked(t)},on:{input:function(r){return e.toogleStatistic(t)}}})],1)})),e._v(" "),e._l(e.quantiles,(function(t){return r("div",{key:t.label},[r("Checkbox",{attrs:{label:t.label,value:e.isQuantileChecked(t)},on:{input:function(r){return e.toogleQuantile(t)}}})],1)}))],2):e._e(),e._v(" "),r("div",{staticClass:"statistic-section-header",on:{click:function(t){e.isAdvancedStatisticsOpen=!e.isAdvancedStatisticsOpen}}},[e._v("\n    Advanced Statistics ("+e._s(e.advancedStatisticsCheckedCount)+")\n    "),e.isAdvancedStatisticsOpen?r("i",{staticClass:"fas fa-angle-down",attrs:{"aria-hidden":"true"}}):r("i",{staticClass:"fas fa-angle-right",attrs:{"aria-hidden":"true"}})]),e._v(" "),e.isAdvancedStatisticsOpen?r("div",{staticClass:"statistic-section"},[e._l(e.advancedStatistics,(function(t){return r("div",{key:t},[r("Checkbox",{attrs:{label:t,value:e.isStatisticChecked(t)},on:{input:function(r){return e.toogleStatistic(t)}}})],1)})),e._v(" "),e._l(e.advancedQuantiles,(function(t){return r("div",{key:t.label},[r("Checkbox",{attrs:{label:t.label,value:e.isQuantileChecked(t)},on:{input:function(r){return e.toogleQuantile(t)}}})],1)}))],2):e._e(),e._v(" "),r("div",{staticClass:"statistic-section-header",on:{click:function(t){e.isCustomQuantileOpen=!e.isCustomQuantileOpen}}},[e._v("\n    Custom quantiles ("+e._s(e.customQuantilesCheckedCount)+")\n    "),e.isCustomQuantileOpen?r("i",{staticClass:"fas fa-angle-down",attrs:{"aria-hidden":"true"}}):r("i",{staticClass:"fas fa-angle-right",attrs:{"aria-hidden":"true"}})]),e._v(" "),e.isCustomQuantileOpen?r("div",{staticClass:"statistic-section"},[e._l(e.customQuantiles,(function(t){return r("div",{key:t.nth+"-th "+t.order+"-quantile"},[r("Checkbox",{attrs:{label:t.nth+"-th "+t.order+"-quantile",value:!0},on:{input:function(r){return e.toogleQuantile(t)}}})],1)})),e._v(" "),r("div",{staticClass:"custom-quantile"},[r("div",{staticClass:"custom-quantile-widget-checkbox",on:{click:function(t){return e.toogleQuantile(e.customQuantilesForm)}}}),e._v(" "),r("InputNumberWidget",{staticClass:"custom-quantile-input",staticStyle:{width:"80px"},attrs:{type:"number",min:1,max:e.customQuantilesForm.order-1,"data-path":".nth",errors:e.errors},model:{value:e.customQuantilesForm.nth,callback:function(t){e.$set(e.customQuantilesForm,"nth",t)},expression:"customQuantilesForm.nth"}}),e._v("-th\n      "),r("InputNumberWidget",{staticClass:"custom-quantile-input",staticStyle:{width:"80px"},attrs:{type:"number",errors:e.errors,min:1,"data-path":".order"},model:{value:e.customQuantilesForm.order,callback:function(t){e.$set(e.customQuantilesForm,"order",t)},expression:"customQuantilesForm.order"}}),e._v("-quantile\n    ")],1)],2):e._e(),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$1d=[];__vue_render__$1d._withStripped=!0;const __vue_inject_styles__$1f=void 0,__vue_scope_id__$1f="data-v-70b76038",__vue_module_identifier__$1f=void 0,__vue_is_functional_template__$1f=!1,__vue_component__$1f=normalizeComponent({render:__vue_render__$1d,staticRenderFns:__vue_staticRenderFns__$1d},void 0,__vue_script__$1e,"data-v-70b76038",!1,void 0,!1,void 0,void 0,void 0);var SubstringStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="substring",t.title="Extract substring",t}return __extends(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),__decorate([Prop({type:Object,default:function(){return{name:"substring",column:"",start_index:1,end_index:-1}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"substring-step-form",components:{ColumnPicker:__vue_component__$w,InputTextWidget:__vue_component__$n}})],t)}(__vue_component__$A);const __vue_script__$1f=SubstringStepForm;var __vue_render__$1e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"column",attrs:{name:"Extract a substring from...",placeholder:"Enter a column","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("InputTextWidget",{staticClass:"startIndex",attrs:{type:"number",name:"Substring starts at character position:",placeholder:"Enter an integer","data-path":".start_index",errors:e.errors},model:{value:e.editedStep.start_index,callback:function(t){e.$set(e.editedStep,"start_index",e._n(t))},expression:"editedStep.start_index"}}),e._v(" "),r("InputTextWidget",{staticClass:"endIndex",attrs:{type:"number",name:"And ends at character position:",placeholder:"Enter an integer","data-path":".end_index",errors:e.errors},model:{value:e.editedStep.end_index,callback:function(t){e.$set(e.editedStep,"end_index",e._n(t))},expression:"editedStep.end_index"}}),e._v(" "),r("InputTextWidget",{staticClass:"newColumnNameInput",attrs:{name:"(Optional) New column name:",placeholder:e.editedStep.column+"_SUBSTR","data-path":".newColumnName",errors:e.errors},model:{value:e.editedStep.newColumnName,callback:function(t){e.$set(e.editedStep,"newColumnName",t)},expression:"editedStep.newColumnName"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$1e=[];__vue_render__$1e._withStripped=!0;const __vue_inject_styles__$1g=void 0,__vue_scope_id__$1g=void 0,__vue_module_identifier__$1g=void 0,__vue_is_functional_template__$1g=!1,__vue_component__$1g=normalizeComponent({render:__vue_render__$1e,staticRenderFns:__vue_staticRenderFns__$1e},void 0,__vue_script__$1f,void 0,!1,void 0,!1,void 0,void 0,void 0);var ToDateStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="todate",t.title="Convert Column From Text to Date",t.formatOptions=[{format:"guess",label:"Try to guess",example:""},{format:"custom",label:"Custom",example:""},{format:"%Y-%m-%d",label:"%Y-%m-%d",example:"1970-12-31"},{format:"%Y/%m/%d",label:"%Y/%m/%d",example:"1970/12/31"},{format:"%d-%m-%Y",label:"%d-%m-%Y",example:"31-12-1970"},{format:"%d/%m/%Y",label:"%d/%m/%Y",example:"31/12/1970"},{format:"%d %b %Y",label:"%d %b %Y",example:"31 Dec 1970"},{format:"%d-%b-%Y",label:"%d-%b-%Y",example:"31-Dec-1970"},{format:"%d %B %Y",label:"%d %B %Y",example:"31 December 1970"},{format:"%b %Y",label:"%b %Y",example:"Dec 1970"},{format:"%b-%Y",label:"%b-%Y",example:"Dec-1970"},{format:"%B %Y",label:"%B %Y",example:"December 1970"},{format:"%Y-%m",label:"%Y-%m",example:"1970-12"},{format:"%Y/%m",label:"%Y/%m",example:"1970/12"},{format:"%m-%Y",label:"%m-%Y",example:"12-1970"},{format:"%m/%Y",label:"%m/%Y",example:"12/1970"}],t.datePresets=t.formatOptions.filter((function(e){return"guess"!==e.format&&"custom"!==e.format})).map((function(e){return e.format})),t.translators=[{id:"mongo36",label:"Mongo 3.6",doc:"https://docs.mongodb.com/manual/reference/operator/aggregation/dateFromString/index.html#datefromstring-format-specifiers"},{id:"mongo40",label:"Mongo 4.0",doc:"https://docs.mongodb.com/manual/reference/operator/aggregation/dateFromString/index.html#datefromstring-format-specifiers"},{id:"pandas",label:"Pandas",doc:"https://docs.python.org/3/library/datetime.html#strftime-and-strptime-format-codes"}],t}return __extends(t,e),Object.defineProperty(t.prototype,"selectedFormat",{get:function(){var e=this;return void 0===this.editedStep.format?this.formatOptions.filter((function(e){return"guess"===e.format}))[0]:this.datePresets.includes(this.editedStep.format)?this.formatOptions.filter((function(t){return t.format===e.editedStep.format}))[0]:this.formatOptions.filter((function(e){return"custom"===e.format}))[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),t.prototype.updateStepFormat=function(e){"guess"===e.format?this.editedStep.format=void 0:"custom"===e.format?this.editedStep.format="":this.editedStep.format=e.format},__decorate([Prop({type:Object,default:function(){return{name:"todate",column:"",format:void 0}}})],t.prototype,"initialStepValue",void 0),__decorate([VQBModule.Getter],t.prototype,"translator",void 0),t=__decorate([Component$1({name:"todate-step-form",components:{AutocompleteWidget:__vue_component__$m,ColumnPicker:__vue_component__$w,InputTextWidget:__vue_component__$n}})],t)}(__vue_component__$A);const __vue_script__$1g=ToDateStepForm;var __vue_render__$1f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"column",attrs:{name:"Column to convert:",options:e.columnNames,placeholder:"Add column","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),"mongo40"===e.translator||"pandas"===e.translator?r("AutocompleteWidget",{staticClass:"format",attrs:{name:"Date format:",value:e.selectedFormat,options:e.formatOptions,placeholder:"Date format",trackBy:"format",label:"label",withExample:!0},on:{input:e.updateStepFormat}}):e._e(),e._v(" "),"mongo40"!==e.translator&&"pandas"!==e.translator||void 0===e.editedStep.format||e.datePresets.includes(e.editedStep.format)?e._e():r("InputTextWidget",{staticClass:"customFormat",attrs:{name:"Custom date format:",placeholder:"Enter a "+e.translators.find((function(t){return t.id===e.translator})).label+" date format","data-path":".format",errors:e.errors,docUrl:e.translators.find((function(t){return t.id===e.translator})).doc},model:{value:e.editedStep.format,callback:function(t){e.$set(e.editedStep,"format",t)},expression:"editedStep.format"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$1f=[];__vue_render__$1f._withStripped=!0;const __vue_inject_styles__$1h=void 0,__vue_scope_id__$1h=void 0,__vue_module_identifier__$1h=void 0,__vue_is_functional_template__$1h=!1,__vue_component__$1h=normalizeComponent({render:__vue_render__$1f,staticRenderFns:__vue_staticRenderFns__$1f},void 0,__vue_script__$1g,void 0,!1,void 0,!1,void 0,void 0,void 0);var ToLowerStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="lowercase",t.title="Convert column to lowercase",t}return __extends(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),__decorate([Prop({type:Object,default:function(){return{name:"lowercase",column:""}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"tolower-step-form",components:{ColumnPicker:__vue_component__$w}})],t)}(__vue_component__$A);const __vue_script__$1h=ToLowerStepForm;var __vue_render__$1g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"columnInput",attrs:{name:"Convert column...",placeholder:"Enter a column","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$1g=[];__vue_render__$1g._withStripped=!0;const __vue_inject_styles__$1i=void 0,__vue_scope_id__$1i=void 0,__vue_module_identifier__$1i=void 0,__vue_is_functional_template__$1i=!1,__vue_component__$1i=normalizeComponent({render:__vue_render__$1g,staticRenderFns:__vue_staticRenderFns__$1g},void 0,__vue_script__$1h,void 0,!1,void 0,!1,void 0,void 0,void 0);var TopStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="top",t.title="Top N rows",t}return __extends(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.rank_on},set:function(e){if(null===e)throw new Error('should not try to set null on top "rank_on" field');this.editedStep.rank_on=e},enumerable:!0,configurable:!0}),__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"top",rank_on:"",sort:"asc"}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"top-step-form",components:{ColumnPicker:__vue_component__$w,AutocompleteWidget:__vue_component__$m,InputTextWidget:__vue_component__$n,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$1i=TopStepForm;var __vue_render__$1h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("InputTextWidget",{staticClass:"limitInput",attrs:{type:"number",name:"Get top...",placeholder:"Enter a number of rows","data-path":".limit",errors:e.errors},model:{value:e.editedStep.limit,callback:function(t){e.$set(e.editedStep,"limit",e._n(t))},expression:"editedStep.limit"}}),e._v(" "),r("ColumnPicker",{staticClass:"rankOnInput",attrs:{name:"Sort column...",placeholder:"Enter a column",syncWithSelectedColumn:!1,"data-path":".rank_on",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.rank_on,callback:function(t){e.$set(e.editedStep,"rank_on",t)},expression:"editedStep.rank_on"}}),e._v(" "),r("AutocompleteWidget",{staticClass:"sortOrderInput",attrs:{name:"Sort order:",options:["asc","desc"],placeholder:"Select an order","data-path":".sort",errors:e.errors},model:{value:e.editedStep.sort,callback:function(t){e.$set(e.editedStep,"sort",t)},expression:"editedStep.sort"}}),e._v(" "),r("MultiselectWidget",{staticClass:"groupbyColumnsInput",attrs:{name:"(Optional) Group by...",options:e.columnNames,placeholder:"Select columns","data-path":".groups",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.groups,callback:function(t){e.$set(e.editedStep,"groups",t)},expression:"editedStep.groups"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$1h=[];__vue_render__$1h._withStripped=!0;const __vue_inject_styles__$1j=void 0,__vue_scope_id__$1j=void 0,__vue_module_identifier__$1j=void 0,__vue_is_functional_template__$1j=!1,__vue_component__$1j=normalizeComponent({render:__vue_render__$1h,staticRenderFns:__vue_staticRenderFns__$1h},void 0,__vue_script__$1i,void 0,!1,void 0,!1,void 0,void 0,void 0);var ToUpperStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="uppercase",t.title="Convert column to uppercase",t}return __extends(t,e),Object.defineProperty(t.prototype,"stepSelectedColumn",{get:function(){return this.editedStep.column},set:function(e){if(null===e)throw new Error('should not try to set null on "column" field');this.editedStep.column=e},enumerable:!0,configurable:!0}),__decorate([Prop({type:Object,default:function(){return{name:"uppercase",column:""}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"toupper-step-form",components:{ColumnPicker:__vue_component__$w}})],t)}(__vue_component__$A);const __vue_script__$1j=ToUpperStepForm;var __vue_render__$1i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"columnInput",attrs:{name:"Convert column...",placeholder:"Enter a column","data-path":".column",errors:e.errors},model:{value:e.editedStep.column,callback:function(t){e.$set(e.editedStep,"column",t)},expression:"editedStep.column"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$1i=[];__vue_render__$1i._withStripped=!0;const __vue_inject_styles__$1k=void 0,__vue_scope_id__$1k=void 0,__vue_module_identifier__$1k=void 0,__vue_is_functional_template__$1k=!1,__vue_component__$1k=normalizeComponent({render:__vue_render__$1i,staticRenderFns:__vue_staticRenderFns__$1i},void 0,__vue_script__$1j,void 0,!1,void 0,!1,void 0,void 0,void 0);var UniqueGroupsStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="uniquegroups",t.title="Get unique groups/values",t}return __extends(t,e),__decorate([Prop({type:Object,default:function(){return{name:"uniquegroups",on:[]}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"uniquegroups-step-form",components:{MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$1k=UniqueGroupsStepForm;var __vue_render__$1j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("MultiselectWidget",{staticClass:"groupbyColumnsInput",attrs:{name:"Get unique groups/values in columns:",options:e.columnNames,placeholder:"Add columns","data-path":".on",errors:e.errors},on:{input:function(t){return e.setSelectedColumns({column:e.editedStep.on[e.editedStep.on.length-1]})}},model:{value:e.editedStep.on,callback:function(t){e.$set(e.editedStep,"on",t)},expression:"editedStep.on"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$1j=[];__vue_render__$1j._withStripped=!0;const __vue_inject_styles__$1l=void 0,__vue_scope_id__$1l=void 0,__vue_module_identifier__$1l=void 0,__vue_is_functional_template__$1l=!1,__vue_component__$1l=normalizeComponent({render:__vue_render__$1j,staticRenderFns:__vue_staticRenderFns__$1j},void 0,__vue_script__$1k,void 0,!1,void 0,!1,void 0,void 0,void 0);var UnpivotStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="unpivot",t.title="Unpivot columns",t.checkboxLabel="Drop null values",t}return __extends(t,e),t.prototype.submit=function(){this.editedStep.unpivot_column_name=generateNewColumnName("variable",this.columnNames),this.editedStep.value_column_name=generateNewColumnName("value",this.columnNames),this.$$super.submit()},__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"unpivot",keep:[],unpivot:[],unpivot_column_name:"",value_column_name:"",dropna:!0}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"unpivot-step-form",components:{CheckboxWidget:__vue_component__$2,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$1l=UnpivotStepForm;var __vue_render__$1k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("MultiselectWidget",{staticClass:"keepColumnInput",attrs:{name:"Keep columns...",options:e.columnNames,placeholder:"Add columns to keep","data-path":".keep",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},on:{input:function(t){return e.setSelectedColumns({column:e.editedStep.keep[0]})}},model:{value:e.editedStep.keep,callback:function(t){e.$set(e.editedStep,"keep",t)},expression:"editedStep.keep"}}),e._v(" "),r("MultiselectWidget",{staticClass:"unpivotColumnInput",attrs:{name:"Unpivot columns...",options:e.columnNames,placeholder:"Add columns to unpivot","data-path":".unpivot",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},on:{input:function(t){return e.setSelectedColumns({column:e.editedStep.unpivot[0]})}},model:{value:e.editedStep.unpivot,callback:function(t){e.$set(e.editedStep,"unpivot",t)},expression:"editedStep.unpivot"}}),e._v(" "),r("CheckboxWidget",{staticClass:"dropnaCheckbox",attrs:{label:e.checkboxLabel},model:{value:e.editedStep.dropna,callback:function(t){e.$set(e.editedStep,"dropna",t)},expression:"editedStep.dropna"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$1k=[];__vue_render__$1k._withStripped=!0;const __vue_inject_styles__$1m=void 0,__vue_scope_id__$1m=void 0,__vue_module_identifier__$1m=void 0,__vue_is_functional_template__$1m=!1,__vue_component__$1m=normalizeComponent({render:__vue_render__$1k,staticRenderFns:__vue_staticRenderFns__$1k},void 0,__vue_script__$1l,void 0,!1,void 0,!1,void 0,void 0,void 0);var WaterfallStepForm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepname="waterfall",t.title="Compute waterfall",t}return __extends(t,e),__decorate([VQBModule.State],t.prototype,"availableVariables",void 0),__decorate([VQBModule.State],t.prototype,"variableDelimiters",void 0),__decorate([Prop({type:Object,default:function(){return{name:"waterfall",valueColumn:"",milestonesColumn:"",start:"",end:"",labelsColumn:"",sortBy:"value",order:"desc"}}})],t.prototype,"initialStepValue",void 0),t=__decorate([Component$1({name:"waterfall-step-form",components:{AutocompleteWidget:__vue_component__$m,ColumnPicker:__vue_component__$w,InputTextWidget:__vue_component__$n,MultiselectWidget:__vue_component__$x}})],t)}(__vue_component__$A);const __vue_script__$1m=WaterfallStepForm;var __vue_render__$1l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("StepFormHeader",{attrs:{title:e.title,stepName:e.editedStep.name,version:e.version}}),e._v(" "),r("ColumnPicker",{staticClass:"valueColumnInput",attrs:{name:"Value column name:",placeholder:"Select a column","data-path":".valueColumn",syncWithSelectedColumn:!1,errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.valueColumn,callback:function(t){e.$set(e.editedStep,"valueColumn",t)},expression:"editedStep.valueColumn"}}),e._v(" "),r("ColumnPicker",{staticClass:"milestonesColumnInput",attrs:{name:"Column incl. start and end labels (usually dates):",placeholder:"Select a column","data-path":".milestonesColumn",syncWithSelectedColumn:!1,errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.milestonesColumn,callback:function(t){e.$set(e.editedStep,"milestonesColumn",t)},expression:"editedStep.milestonesColumn"}}),e._v(" "),r("InputTextWidget",{staticClass:"startInput",attrs:{name:"Starting block label:",placeholder:"To be found in the column above","data-path":".start",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.start,callback:function(t){e.$set(e.editedStep,"start",t)},expression:"editedStep.start"}}),e._v(" "),r("InputTextWidget",{staticClass:"endInput",attrs:{name:"Ending block label:",placeholder:"To be found in the column above","data-path":".end",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.end,callback:function(t){e.$set(e.editedStep,"end",t)},expression:"editedStep.end"}}),e._v(" "),r("ColumnPicker",{staticClass:"childrenColumnInput",attrs:{name:"Labels columns (for intermediate blocks):",placeholder:"Select a column","data-path":".labelsColumn",syncWithSelectedColumn:!1,errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.labelsColumn,callback:function(t){e.$set(e.editedStep,"labelsColumn",t)},expression:"editedStep.labelsColumn"}}),e._v(" "),r("ColumnPicker",{staticClass:"parentsColumnInput",attrs:{name:"(Optional) Parents labels column (for drill-down):",placeholder:"Select a column","data-path":".parentsColumn",syncWithSelectedColumn:!1,errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.parentsColumn,callback:function(t){e.$set(e.editedStep,"parentsColumn",t)},expression:"editedStep.parentsColumn"}}),e._v(" "),r("MultiselectWidget",{staticClass:"groupbyInput",attrs:{name:"(Optional) Group waterfall by:",options:e.columnNames,placeholder:"Add columns","data-path":".groupby",errors:e.errors,"available-variables":e.availableVariables,"variable-delimiters":e.variableDelimiters},model:{value:e.editedStep.groupby,callback:function(t){e.$set(e.editedStep,"groupby",t)},expression:"editedStep.groupby"}}),e._v(" "),r("AutocompleteWidget",{staticClass:"sortByInput",attrs:{name:"Sort by:",options:["label","value"],"data-path":".sortBy"},model:{value:e.editedStep.sortBy,callback:function(t){e.$set(e.editedStep,"sortBy",t)},expression:"editedStep.sortBy"}}),e._v(" "),r("AutocompleteWidget",{staticClass:"orderInput",attrs:{name:"Sort order:",options:["asc","desc"],"data-path":".order"},model:{value:e.editedStep.order,callback:function(t){e.$set(e.editedStep,"order",t)},expression:"editedStep.order"}}),e._v(" "),r("StepFormButtonbar")],1)},__vue_staticRenderFns__$1l=[];__vue_render__$1l._withStripped=!0;const __vue_inject_styles__$1n=void 0,__vue_scope_id__$1n=void 0,__vue_module_identifier__$1n=void 0,__vue_is_functional_template__$1n=!1,__vue_component__$1n=normalizeComponent({render:__vue_render__$1l,staticRenderFns:__vue_staticRenderFns__$1l},void 0,__vue_script__$1m,void 0,!1,void 0,!1,void 0,void 0,void 0);var StepFormsComponents={addmissingdates:__vue_component__$B,text:__vue_component__$C,totals:__vue_component__$G,aggregate:__vue_component__$H,append:__vue_component__$I,argmin:__vue_component__$K,argmax:__vue_component__$J,duration:__vue_component__$L,concatenate:__vue_component__$M,convert:__vue_component__$N,cumsum:__vue_component__$O,custom:__vue_component__$P,dateextract:__vue_component__$Q,delete:__vue_component__$R,duplicate:__vue_component__$T,domain:__vue_component__$S,evolution:__vue_component__$U,fillna:__vue_component__$V,filter:__vue_component__$W,ifthenelse:__vue_component__$_,formula:__vue_component__$X,fromdate:__vue_component__$Y,join:__vue_component__$10,movingaverage:__vue_component__$11,percentage:__vue_component__$12,pivot:__vue_component__$13,rank:__vue_component__$14,rename:__vue_component__$16,replace:__vue_component__$18,rollup:__vue_component__$19,select:__vue_component__$1a,split:__vue_component__$1d,sort:__vue_component__$1c,statistics:__vue_component__$1f,substring:__vue_component__$1g,todate:__vue_component__$1h,lowercase:__vue_component__$1i,top:__vue_component__$1j,uppercase:__vue_component__$1k,uniquegroups:__vue_component__$1l,unpivot:__vue_component__$1m,waterfall:__vue_component__$1n},QueryBuilder=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.version=version$2,t}return __extends(t,e),Object.defineProperty(t.prototype,"isStepCreation",{get:function(){return void 0===this.stepFormInitialValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formComponent",{get:function(){return StepFormsComponents[this.currentStepFormName]},enumerable:!0,configurable:!0}),t.prototype.editStep=function(e,t){this.openStepForm({stepName:e.name,initialValue:e});var r=Math.max(t-1,0);this.selectStep({index:r})},t.prototype.saveStep=function(e){var t=__spread(this.pipeline),r="domain"===e.name?0:this.computedActiveStepIndex+1;this.isStepCreation?t.splice(r,0,e):t.splice(r,1,e),"domain"===e.name?this.setCurrentDomain({currentDomain:e.domain}):this.setPipeline({pipeline:t}),this.selectStep({index:r}),this.closeStepForm(),this.resetStepFormInitialValue()},__decorate([VQBModule.State],t.prototype,"currentStepFormName",void 0),__decorate([VQBModule.State],t.prototype,"stepFormInitialValue",void 0),__decorate([VQBModule.State],t.prototype,"stepFormDefaults",void 0),__decorate([VQBModule.Getter],t.prototype,"computedActiveStepIndex",void 0),__decorate([VQBModule.Getter],t.prototype,"isEditingStep",void 0),__decorate([VQBModule.Getter],t.prototype,"pipeline",void 0),__decorate([VQBModule.Mutation],t.prototype,"closeStepForm",void 0),__decorate([VQBModule.Mutation],t.prototype,"openStepForm",void 0),__decorate([VQBModule.Mutation],t.prototype,"resetStepFormInitialValue",void 0),__decorate([VQBModule.Action],t.prototype,"setCurrentDomain",void 0),__decorate([VQBModule.Action],t.prototype,"selectStep",void 0),__decorate([VQBModule.Mutation],t.prototype,"setPipeline",void 0),t=__decorate([Component({name:"query-builder",components:{Pipeline:__vue_component__$v}})],t)}(Vue);const __vue_script__$1n=QueryBuilder;var __vue_render__$1m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.pipeline?r("div",{staticClass:"query-builder"},[e.isEditingStep?r("transition",{attrs:{name:"slide-right",mode:"out-in"}},[r(e.formComponent,{key:"stepForm",tag:"component",attrs:{initialStepValue:e.stepFormInitialValue,stepFormDefaults:e.stepFormDefaults,isStepCreation:e.isStepCreation},on:{back:e.closeStepForm,formSaved:e.saveStep}})],1):r("transition",{attrs:{name:"slide-left",mode:"out-in"}},[r("div",[r("div",{staticClass:"documentation-help"},[r("a",{staticClass:"documentation-help__content",attrs:{href:"https://weaverbird.toucantoco.com/docs/general-principles/",target:"_blank",rel:"noopener","data-version":e.version}},[r("i",{staticClass:"fas fa-question-circle",attrs:{"aria-hidden":"true"}}),e._v(" "),r("p",[e._v("Need help?")])])]),e._v(" "),r("Pipeline",{key:"pipeline",on:{editStep:e.editStep}})],1)])],1):r("div",{staticClass:"query-builder query-builder--no-pipeline"},[e._v("Select a pipeline...")])},__vue_staticRenderFns__$1m=[];__vue_render__$1m._withStripped=!0;const __vue_inject_styles__$1o=void 0,__vue_scope_id__$1o="data-v-460b17af",__vue_module_identifier__$1o=void 0,__vue_is_functional_template__$1o=!1,__vue_component__$1o=normalizeComponent({render:__vue_render__$1m,staticRenderFns:__vue_staticRenderFns__$1m},void 0,__vue_script__$1n,"data-v-460b17af",!1,void 0,!1,void 0,void 0,void 0);var ResizablePanels=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ratio=.4,t}return __extends(t,e),Object.defineProperty(t.prototype,"leftPanelWidth",{get:function(){return{width:100*this.ratio+"%"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightPanelWidth",{get:function(){return{width:100*(1-this.ratio)+"%"}},enumerable:!0,configurable:!0}),t.prototype.startResize=function(){var e=this,t=this.$el.getBoundingClientRect().width,r=function(r){e.ratio=e.ratio+r.movementX/t},n=function(){window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",n),window.removeEventListener("blur",n)};window.addEventListener("mousemove",r),window.addEventListener("mouseup",n),window.addEventListener("blur",n)},t=__decorate([Component({name:"resizable-panels"})],t)}(Vue);const __vue_script__$1o=ResizablePanels;var __vue_render__$1n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"resizable-panels"},[r("div",{staticClass:"resizable-panels__panel",style:e.leftPanelWidth},[e._t("left-panel",[e._v("Left panel")])],2),e._v(" "),r("div",{staticClass:"resizable-panels__resizer",on:{mousedown:function(t){return e.startResize()}}},[r("div",{staticClass:"resizable-panels__line"})]),e._v(" "),r("div",{staticClass:"resizable-panels__panel",style:e.rightPanelWidth},[e._t("right-panel",[e._v("Right panel")])],2)])},__vue_staticRenderFns__$1n=[];__vue_render__$1n._withStripped=!0;const __vue_inject_styles__$1p=void 0,__vue_scope_id__$1p="data-v-7b91c86a",__vue_module_identifier__$1p=void 0,__vue_is_functional_template__$1p=!1,__vue_component__$1p=normalizeComponent({render:__vue_render__$1n,staticRenderFns:__vue_staticRenderFns__$1n},void 0,__vue_script__$1o,"data-v-7b91c86a",!1,void 0,!1,void 0,void 0,void 0);var Vqb$1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([Component({name:"vqb",components:{DataViewer:__vue_component__$d,PipelineSelector:__vue_component__$s,QueryBuilder:__vue_component__$1o,ResizablePanels:__vue_component__$1p}})],t)}(Vue);const __vue_script__$1p=Vqb$1;var __vue_render__$1o=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weaverbird"},[t("PipelineSelector",{staticClass:"weaverbird__pipeline-selector"}),this._v(" "),t("ResizablePanels",[t("QueryBuilder",{attrs:{slot:"left-panel"},slot:"left-panel"}),this._v(" "),t("DataViewer",{attrs:{slot:"right-panel"},slot:"right-panel"})],1)],1)},__vue_staticRenderFns__$1o=[];__vue_render__$1o._withStripped=!0;const __vue_inject_styles__$1q=void 0,__vue_scope_id__$1q="data-v-dd5791da",__vue_module_identifier__$1q=void 0,__vue_is_functional_template__$1q=!1,__vue_component__$1q=normalizeComponent({render:__vue_render__$1o,staticRenderFns:__vue_staticRenderFns__$1o},void 0,__vue_script__$1p,"data-v-dd5791da",!1,void 0,!1,void 0,void 0,void 0);exports.DataViewer=__vue_component__$d,exports.FilterEditor=__vue_component__$r,exports.PipelineSelector=__vue_component__$s,exports.QueryBuilder=__vue_component__$1o,exports.VQBModule=VQBModule,exports.VQB_MODULE_NAME=VQB_MODULE_NAME,exports.VQBnamespace=VQBnamespace,exports.Vqb=__vue_component__$1q,exports.dereferencePipelines=dereferencePipelines,exports.exampleInterpolateFunc=exampleInterpolateFunc,exports.filterOutDomain=filterOutDomain,exports.getPipelineNamesReferencing=getPipelineNamesReferencing,exports.getTranslator=getTranslator,exports.inferTypeFromDataset=inferTypeFromDataset,exports.mongoResultsToDataset=mongoResultsToDataset,exports.mongoToPipe=mongoToPipe,exports.pandasDataTableToDataset=pandasDataTableToDataset,exports.registerModule=registerModule,exports.resizable=resizable,exports.setAvailableCodeEditors=setAvailableCodeEditors,exports.setupStore=setupStore,exports.unregisterModule=unregisterModule;
