<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/font-awesome.min.css">

    <link rel="shortcut icon" href="/favicon.ico?1">
    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Evolution | Weaverbird</title>
<meta name="generator" content="Jekyll v3.8.4" />
<meta property="og:title" content="Evolution" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Compute evolution" />
<meta property="og:description" content="Compute evolution" />
<link rel="canonical" href="https://weaverbird.toucantoco.com/docs/evolution/" />
<meta property="og:url" content="https://weaverbird.toucantoco.com/docs/evolution/" />
<meta property="og:site_name" content="Weaverbird" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-03-25T11:05:56+01:00" />
<script type="application/ld+json">
{"url":"https://weaverbird.toucantoco.com/docs/evolution/","headline":"Evolution","datePublished":"2020-03-25T11:05:56+01:00","dateModified":"2020-03-25T11:05:56+01:00","description":"Compute evolution","@type":"WebPage","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="canonical" href="https://weaverbird.toucantoco.com/docs/evolution/">
    <link rel="alternate" type="application/rss+xml" title="Weaverbird" href="https://weaverbird.toucantoco.com/feed.xml" />
</head>


<body>

    <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container navbar-container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
            <a class="navbar-brand" href="/">Weaverbird</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li  class="active" ><a href="/docs/steps/">Docs</a></li>
                <!-- remove for the moment
                  <li ><a href="">Blog</a></li> -->
                <li ><a href="/about">About</a></li>
            </ul>
            <div class="navbar-right">
                <form class="navbar-form navbar-left">
                    <div class="form-group has-feedback">
                        <input id="search-box" type="search" class="form-control" placeholder="Search...">
                        <i class="fa fa-search form-control-feedback"></i>
                    </div>
                </form>
                <ul class="nav navbar-nav">
                    <li><a href="https://github.com/ToucanToco/weaverbird"><i class="fa fa-github" aria-hidden="true"></i></a></li>
                </ul>
            </div>
        </div>
    </div>
</nav>


    <div class="page-content">
        <div class="wrapper">
            <div class="container">
    <div class="row">
        <div class="col-md-4">
          <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
  
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-1" aria-expanded="false" aria-controls="collapse-1">
            User interface
          </a>
        </h4>
      </div>
      
      
      <div class="panel-collapse" id="collapse-1" role="tabpanel" aria-label="Side Navigation">
        <div class="list-group">
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/general-principles/">General Principles</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/text/">Add text column</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/aggregate/">Aggregate</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/append/">Append</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/argmax/">Argmax</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/argmin/">Argmin</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/concatenate/">Concatenate columns</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/convert/">Convert</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/fromdate/">Convert date to text</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/todate/">Convert text to date</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/cumsum/">Cumulated sum</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/custom/">Cutom step</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/delete/">Delete column(s)</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/duplicate/">Duplicate</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item active" href="/docs/evolution/">Evolution</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/dateextract/">Extract date property</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/substring/">Extract substring</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/fillna/">Fill null</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/filter/">Filter</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/formula/">Formula</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/uniquegroups/">Get unique groups/values</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/rollup/">Hierarchical rollup</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/join/">Join</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/select/">Keep column(s)</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/percentage/">Percentage</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/pivot/">Pivot</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/rename/">Rename</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/replace/">Replace</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/sort/">Sort</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/split/">Split column</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/lowercase/">To lowercase</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/uppercase/">To uppercase</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/top/">Top N rows</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/unpivot/">Unpivot</a>
            <!--  -->
          
        </div>
      </div>
    </div>
  
    <div class="panel panel-default">
      <div class="panel-heading">
        <h4 class="panel-title">
          <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse-2" aria-expanded="false" aria-controls="collapse-2">
            Technical documentation
          </a>
        </h4>
      </div>
      
      
      <div class="panel-collapse collapse" id="collapse-2" role="tabpanel" aria-label="Side Navigation">
        <div class="list-group">
          
            
            
            <!-- 
              <a class="list-group-item " href="https://weaverbird.toucantoco.com">index</a>
             -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/steps/">Steps</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/new-step/"></a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/known_limitations/">Known limitations</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/translators/">Translators</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/variables/">Variables</a>
            <!--  -->
          
            
            
            <!--  -->
              <a class="list-group-item " href="/docs/code-editor/">Custom code editor</a>
            <!--  -->
          
        </div>
      </div>
    </div>
  
</div>

        </div>

        <div class="col-md-8">
            <div id="markdown-content-container"><h3 id="compute-evolution">Compute evolution</h3>

<p>You can use this step if you need to compute the row-by-row evolution of a value
column, based on a date column. It will output 2 columns: one for the evolution
in absolute value, the other for the evolution in percentage.</p>

<p>You must be careful that the computation is scoped so that there are no dates
duplicates (so that any date finds no more than one previous date). That means
that you may need to specify index columns to make any date unique by index. You
should use the <code class="highlighter-rouge">indexColumns</code> parameter to specifiy what series of columns
allows to build a unique index (by concatenation with the date column).
If index is not unique and more than one previous date is found, you will get
an error at row level (“Error: More than one previous date found for the
specified index columns”). Please refer to example 2 and 3 below for a concrete
illustration.</p>

<p><strong>This step is supported by the following backends:</strong></p>

<ul>
  <li>Mongo 4.0</li>
  <li>Mongo 3.6</li>
</ul>

<h4 id="where-to-find-this-step">Where to find this step?</h4>

<ul>
  <li>Widget <code class="highlighter-rouge">Compute</code></li>
  <li>Search bar</li>
</ul>

<h4 id="options-reference">Options reference</h4>

<p><img src="../../img/docs/user-interface/evolution_step_form.jpg" width="350" /></p>

<ul>
  <li>
    <p><code class="highlighter-rouge">Date column</code>: the date column (must be of type date) that will be used as a
reference for the computation</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">Value column</code>: the value column that you want to compute the evolution of</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">Compute evolution vs</code>: whether you want to compute evolution versus last year,
last month, last week or last day</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">(Optional) Index columns (labels)</code>: (optional). Use this option if you need
to specify index columns to make every date unique by index (the logic is
similar as a “group by”). See examples 2 and 3 for a concrete illustration.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">(Optional) New column name</code>: (optional). Use this option if you want to give
a custom name to the output column. By default, it will be your original
column name suffixed with either “_EVOL_ABS” or “_EVOL_ABS” depending on the
kind of evolution that you chose.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">(Optional) Column name for the evolution in percentage</code>: (optional). Use this
option if you want to give a custom name to the output column that will show
the evolution in percentage. By default, it will be your original column name
suffixed with “_EVOL_PCT”</p>
  </li>
</ul>

<h4 id="example-1-basic-configuration">Example 1: Basic configuration</h4>

<p><img src="../../img/docs/user-interface/evolution_example_conf_1.jpg" width="750" /></p>

<p>This configuration results in:</p>

<p><img src="../../img/docs/user-interface/evolution_example_result_1.jpg" width="500" /></p>

<h4 id="example-2-error-on-duplicate-dates">Example 2: Error on duplicate dates</h4>

<p><img src="../../img/docs/user-interface/evolution_example_conf_2.jpg" width="750" /></p>

<p>This configuration results in:</p>

<p><img src="../../img/docs/user-interface/evolution_example_result_2.jpg" width="500" /></p>

<h4 id="example-3-complete-configuration-with-index-columns">Example 3: Complete configuration with index columns</h4>

<p><img src="../../img/docs/user-interface/evolution_example_conf_3.jpg" width="750" /></p>

<p>This configuration results in:</p>

<p><img src="../../img/docs/user-interface/evolution_example_result_3.jpg" width="500" /></p>
</div>
            





  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  
    <ul class="pager">
      
        
        
        <li class="previous">
          <a href="/docs/duplicate/">
            <span aria-hidden="true">&larr;</span> Previous
          </a>
        </li>
      

      
        
        
        <li class="next">
          <a href="/docs/dateextract/">
            Next <span aria-hidden="true">&rarr;</span>
          </a>
        </li>
      
      </ul>
    <div class="clear"></div>
    

        </div>

    </div>
</div>

        </div>
    </div>

    <footer class="footer">
    <div class="container">

        <p class="text-center">
            Weaverbird 2020 |
            Powered by <a href="https://github.com/aksakalli/jekyll-doc-theme">Jekyll Doc Theme</a>
        </p>
        <!-- <p class="text-muted">Place sticky footer content here.</p> -->
    </div>
</footer>

    <script>
  var baseurl = ''
</script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script src="/js/bootstrap.min.js "></script>
<script src="/js/typeahead.bundle.min.js "></script>

<script src="/js/main.js "></script>

</body>

</html>
